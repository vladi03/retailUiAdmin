{"version":3,"sources":["webpack:///./src/models/accounts/userAuthStore.js","webpack:///./src/utility/helpers.js","webpack:///./src/models/home/catalogMessage.js","webpack:///./src/models/home/catalogModel.js","webpack:///./src/GlobalProviders.js","webpack:///./src/utility/useIsMobile.js","webpack:///./src/models/home/menuStore.js","webpack:///./src/desktop/home/FullMenuNav.js","webpack:///./src/desktop/accounts/LoggedOut.js","webpack:///./src/utility/components/SearchTextBox.js","webpack:///./src/utility/components/AppBarTitle.js","webpack:///./src/desktop/catalog/CatalogCard.js","webpack:///./src/desktop/catalog/CatalogItemEdit.js","webpack:///./src/desktop/catalog/CatalogTable.js","webpack:///./src/desktop/home/HomeMain.js","webpack:///./src/route/PrivateRoute.js","webpack:///./src/route/RouteConfig.js","webpack:///./src/index.js","webpack:///./src/models/accounts/accountModel.js","webpack:///./src/desktop/accounts/LoginStart.js","webpack:///./src/route/history.js","webpack:///./src/utility/modelContext.js"],"names":["userAuthData","token","localStorage","getItem","name","picUrl","email","featurePermissions","userDomain","catalogApi","process","stringFeatures","JSON","parse","ex","setTokenValue","setItem","tokenData","readToken","setLogOutTimer","exp","initAuthStore","expiresOn","navigate","require","clearLogOutTimer","msToTimeOut","Date","logOutTimer","setTimeout","clearTimeout","isLoggedIn","getStore","setUserData","a","picture","userId","getUserDomain","domain","stringify","clearToken","removeItem","split","length","base64","replace","window","atob","connectArray","component","arrayOfModels","styles","intermediateComponents","startComponent","withStyles","forEach","model","index","push","params","connect","handleResponse","response","ok","json","Error","status","toCurrency","theNumber","parseFloat","toFixed","uploadImage","fileToUpload","formData","FormData","append","url","payloadGeneric","method","headers","body","fetch","then","result","uploadImageResult","imageLoading","catch","error","uploadImageResultError","message","saveCatalog","itemToSave","saveCatalogResult","activeCatalogItem","catalogListLoading","success","catalogListLoadError","getCatalogList","catalogList","provider","createModel","catalogListFiltered","catalogListInit","onCatalogListInit","onSetActiveCatalogItem","onSaveCatalogItem","onUploadImage","imageToSave","itemEdit","uploadImageMetadata","willFitWidth","colorRgb","colorRgbOther","setState","fileShowing","search","images","find","im","id","map","modifiedCount","state","ct","_id","newState","catalogModel","createContext","classInstance","GlobalProviders","children","ModelProvider","useIsMobile","useState","innerWidth","isMobile","setIsMobile","resize","useEffect","addEventListener","removeEventListener","mobileOnly","mainLinksAll","label","icon","Home","selected","location","href","includes","link","route","AttachMoney","featureId","VpnKeyRounded","filter","bottomLinks","Input","FullMenuNav","userFeatures","firstName","lastName","userLoggedIn","classes","useStyles","useAuth0","user","isLoading","isAuthenticated","mainLinks","loginWithRedirect","logout","undefined","indexOf","userInfo","console","log","onMenuClose","expandMenu","userLabel","imageUrl","decodeURIComponent","className","mainContainer","accountModel","makeStyles","marginLeft","marginRight","Typography","LoggedOut","onNotifyMainNavOfLogOff","returnTo","origin","Card","style","display","outerCard","CardContent","cardContainer","src","logo","messageContainer","Info","iconSpacing","CardActions","Button","variant","color","actionButton","onClick","width","maxWidth","margin","leftContainer","height","paddingLeft","minHeight","Search","SearchTextBox","onSearchChange","useStyle","searchIcon","InputBase","placeholder","onChange","event","target","value","root","inputRoot","input","inputInput","inputProps","theme","padding","spacing","transition","transitions","create","breakpoints","up","position","pointerEvents","alignItems","justifyContent","backgroundColor","palette","background","paper","fontSize","marginBottom","boxShadow","rootMobile","marginTop","toolBar","avatar","primary","main","searchTextContainer","right","top","childContainerNoSearch","childContainer","searchTextBox","searchTextLabel","menuButton","labelTitle","labelTitleWithTextBox","Add","AppBarTitleAddSearch","title","LeftIcon","hideSearch","onAdd","addLabel","childHasTextBox","onAvatarClick","AppBar","Toolbar","startIcon","IconButton","PropTypes","elementType","isRequired","string","CatalogCard","calcCardSize","cardWidth","setCardWidth","catalog","inEdit","contWidth","widthCalc","heightPicCalc","resizeWidth","res","widthValue","imageIsConfig","imageId","heightValue","colorGrad","colorGradOther","card","CardActionArea","catPrice","unitPrice","imageBoxWidth","imageBoxHeight","picBorderWidth","picBorderHeight","fixWidth","fixHeight","CardHeader","shortDesc","zIndex","font","props","overflow","transform","InputAdornment","calcWillFitWidth","containerWidth","containerHeight","imageWidth","imageHeight","CatalogItemEdit","rgbData","metaUpload","fileName","setItemEdit","setUpLoadImage","setUpLoadImageMetadata","setWillFitWidth","setColorRgb","setColorRgbOther","onValueChange","fieldName","textBox","TextField","extraDesc","InputProps","startAdornment","multiline","rowsMax","description","type","files","reader","FileReader","onload","e","readAsDataURL","uploadResult","alt","onLoad","fitWidth","naturalWidth","naturalHeight","getMaxColor","calcResult","imageTarget","doOpposite","Promise","resolve","reject","img","crossOrigin","canvasTwo","document","createElement","left","getContext","drawImage","newImg","toDataURL","objImg","colorThief","ColorThief","complete","getColor","Close","CatalogTable","setInEdit","scrollContainer","container","key","containerEdit","editControl","flexWrap","HomeMain","OpenWith","PrivateRoute","history","permission","Component","rest","render","to","pathname","from","exact","path","RouteComponent","componentDidMount","this","auth0","getAccessTokenSilently","accessToken","getToken","LoginRoute","getLoginRoute","MenuNav","React","withAuth0","muiTheme","createMuiTheme","typography","useNextVariants","textColor","grey","A700","idle","yellow","secondary","clientId","audience","redirectUri","RouteConfig","querySelector","userStore","userNotAuthorized","faceLoginMessage","passwordMessage","confirmPasswordMessage","profileLoading","onSetAccount","loginInfo","minWidth","textAlign","cardActionsContainer","flexDirection","LogIn","action","historyModel","loaded","LoginRouteComponent","setHistory","getHistory","withRouter","getInitialState","ModelContext","testMode","match","Provider","UserComponent","componentProps","Consumer","vm"],"mappings":"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","file":"app.9d2d3517.js","sourcesContent":["\nconst userAuthData = {\n    token: localStorage.getItem('token'),\n    name: localStorage.getItem('name') || \"\",\n    picUrl: localStorage.getItem('picUrl') || \"\",\n    email: localStorage.getItem('email') || \"\",\n    featurePermissions: [],\n    userDomain: localStorage.getItem('userDomain') || \"\",\n    catalogApi: process.env.CATALOG_API\n};\n\ntry {\n    const stringFeatures = localStorage.getItem('featurePermissions');\n    userAuthData.featurePermissions = stringFeatures ? JSON.parse(stringFeatures) : [];\n} catch (ex) {\n    userAuthData.featurePermissions = [];\n}\n\nexport const setTokenValue = (token) => {\n    localStorage.setItem('token', token);\n    userAuthData.token = token;\n    const tokenData = readToken(token);\n    setLogOutTimer(tokenData.exp);\n};\n\nexport const initAuthStore = ()=> {\n    //setLogOutTimer(userAuthData.expiresOn);\n};\n\nconst setLogOutTimer = (expiresOn) => {\n    const {navigate} = require(\"../../route/history\");\n    clearLogOutTimer();\n    //time out 60 seconds before token expires\n    const msToTimeOut = (expiresOn * 1000 ) - new Date() - 60000;\n\n    if(msToTimeOut > 30) {\n        userAuthData.logOutTimer = setTimeout(\n            () => navigate(\"#/logout\"),\n            msToTimeOut\n        );\n    } else if (expiresOn > 0) {\n        navigate(\"#/logout\");\n    }\n};\n\nconst clearLogOutTimer = () => {\n    if(userAuthData.logOutTimer > -1) {\n        clearTimeout(userAuthData.logOutTimer);\n        userAuthData.logOutTimer = -1;\n    }\n};\n\nexport const isLoggedIn = () => userAuthData.token && userAuthData.token !== null;\n\nexport const getStore = () => userAuthData;\n\nexport const getFullName = () =>\n    userAuthData.name;\n\nexport const hasFeature = (featureId) => {\n    return userAuthData.featurePermissions.indexOf(featureId) > -1;\n};\n\nexport const getAuthHeaderValue = () => {\n    return userAuthData.token !== null ? `bearer ${userAuthData.token}` : \"\";\n};\n\nexport const setUserData = async ({name, picture, email, userId}) => {\n    userAuthData.featurePermissions = [1];\n    //localStorage.setItem('token', token);\n    const domain = await getUserDomain(userId);\n    localStorage.setItem('name', name);\n    localStorage.setItem('email', email);\n    localStorage.setItem('picUrl', picture);\n    localStorage.setItem('userDomain', domain);\n    localStorage.setItem('featurePermissions',\n        JSON.stringify(userAuthData.featurePermissions));\n\n    userAuthData.name = name;\n    userAuthData.email = email;\n    userAuthData.picUrl = picture;\n    userAuthData.userDomain = domain;\n    userAuthData.featurePermissions = [1];\n\n    return userAuthData;\n};\n\nexport const clearToken = () => {\n    //userAuthData.name = null;\n    //userAuthData.email = null;\n    //userAuthData.picUrl = null;\n    userAuthData.featurePermissions = [];\n    //localStorage.removeItem('name');\n    //localStorage.removeItem('email');\n    localStorage.removeItem('featurePermissions');\n    //localStorage.removeItem('picUrl');\n};\n\n// noinspection JSUnusedGlobalSymbols\nexport const readToken = (token) => {\n    const split = token && token.split('.');\n    if(split && split.length > 0) {\n        const base64Url = token.split('.')[1];\n        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        return JSON.parse(window.atob(base64));\n    }\n    else\n        return {};\n};\n\nexport const getUserDomain = async (userId) => {\n\n    return \"darbyfurnitureoutlet.com\";\n};\n","import {withStyles} from \"@material-ui/styles\";\n\nexport const connectArray = (component, arrayOfModels, styles = null) => {\n    const intermediateComponents = [];\n    const startComponent = styles !== null ?\n        withStyles(styles)(component) : component;\n\n    arrayOfModels.forEach((model, index) => {\n        if(index === 0) {\n            const newItem = (params) => model.connect(startComponent, params);\n            intermediateComponents.push(newItem);\n        } else {\n            const newItem = (params) => model.connect(intermediateComponents[index - 1], params);\n            intermediateComponents.push(newItem);\n        }\n    });\n\n    return intermediateComponents[intermediateComponents.length - 1];\n};\n\nexport const inTable = (onClickFunc) => {\n    return (event, target) => {\n        event.stopPropagation();\n        onClickFunc(event, target);\n    };\n};\n\nexport const getItemPropertyValue = function (targetObject, fieldName) {\n    let propValue = targetObject || \"\";\n\n    if(typeof(fieldName) === 'function')\n        propValue = fieldName(targetObject);\n    else if(fieldName !== \"\") {\n        const childFields = fieldName && fieldName.split('.') || [];\n        //get to the property value by iterating through the object structure\n        childFields.forEach((childField) => {\n            propValue = propValue && propValue[childField];\n        });\n    }\n\n    return propValue;\n};\n\nexport const filterOutExistingByField = (fullList, existingList, fieldNameFull, fieldNameExisting) => {\n    ///<summary>calculate remaining Ids.  Provide list of Ids and Object that has key field</summary>\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\n    return Array.isArray(fullList) && fullList.filter(function (el) {\n        const startValue = getItemPropertyValue(el, fieldNameFull);\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\n            const existingField = fieldNameExisting || fieldNameExisting === \"\" ? fieldNameExisting : fieldNameFull;\n            const existingValue = getItemPropertyValue(existingList[iExisting], existingField);\n            if (startValue === existingValue)\n                return false;\n        }\n        return true;\n    }) || [];\n};\n\nexport const filterOutExistingByArrayId = (fullList, existingList, fieldNameFull) => {\n    ///<summary>calculate remaining Ids.  Provide list of Ids to exclude</summary>\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\n    return Array.isArray(fullList) && fullList.filter(function (el) {\n        const startValue = getItemPropertyValue(el, fieldNameFull);\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\n            const existingValue = existingList[iExisting];\n            if (startValue === existingValue)\n                return false;\n        }\n        return true;\n    }) || [];\n};\n\nexport function shuffleArray(array) {\n    let currentIndex = array.length, temporaryValue, randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n\n        // Pick a remaining element...\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n\n        // And swap it with the current element.\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n}\n\nexport const handleResponse = () => {\n    return function(response) {\n        if(response.ok) {\n            return response.json();\n        }\n        throw new Error(response.status);\n    };\n};\n\nexport const  b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize)\n\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i)\n        }\n\n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray)\n    }\n\n    return new Blob(byteArrays, { type: contentType })\n};\n\nexport const toCurrency = (theNumber) => {\n    return parseFloat(theNumber).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n};\n","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const uploadImage = async (fileToUpload) => {\n\n    const formData = new FormData();\n    formData.append(\"myFile\", fileToUpload);\n\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/file`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            //\"Content-Type\": \"multipart/form-data;\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: formData\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                uploadImageResult: result,\n                imageLoading: false\n            }\n        }).catch((error) => {\n            return {\n                uploadImageResult: false,\n                imageLoading: false,\n                uploadImageResultError: error.message || error\n            };\n        });\n};\n\nexport const saveCatalog = async (itemToSave)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(itemToSave)\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                saveCatalogResult: result,\n                activeCatalogItem: itemToSave,\n                catalogListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                success: false,\n                catalogListLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};\n\nexport const getCatalogList = async () => {\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/domain/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                catalogList: result,\n                catalogListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                catalogList: [],\n                catalogListLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};","import {createContext} from \"../../utility/modelContext\";\nimport {getCatalogList} from \"./catalogMessage\";\nimport {saveCatalog, uploadImage} from \"./catalogMessage\";\n\nlet provider = null;\n\nexport const createModel = () => ({\n    activeCatalogItem: null,\n    catalogList: [],\n    catalogListFiltered: [],\n    catalogListLoading: false,\n    catalogListInit: false,\n    onCatalogListInit,\n    onSetActiveCatalogItem,\n    onSaveCatalogItem,\n    onUploadImage\n});\n\nconst onUploadImage = async (imageToSave) => {\n    return await uploadImage(imageToSave);\n};\n\nconst onSaveCatalogItem = async (itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther) => {\n\n    provider.setState({catalogListLoading: true});\n    const fileShowing = {...uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther};\n    const search = itemEdit.images.find((im)=> im.id === fileShowing.id);\n    const images = itemEdit.images && itemEdit.images.length > 1 && search ?\n        itemEdit.images.map((im) => {\n            return im.id === fileShowing.id ? fileShowing : im;\n        }) : [fileShowing];\n\n    const activeCatalogItem = {...itemEdit, images};\n\n    const result = await saveCatalog(activeCatalogItem);\n\n    if(result.saveCatalogResult && result.saveCatalogResult.modifiedCount > 0) {\n        result.catalogList = provider.state.catalogList.map((ct) => {\n            return ct._id === activeCatalogItem._id ? activeCatalogItem : ct;\n        });\n        result.catalogListFiltered = result.catalogList;\n    }\n    provider.setState(result);\n};\n\nconst onSetActiveCatalogItem = (activeCatalogItem) => {\n    provider.setState({activeCatalogItem});\n};\n\nconst onCatalogListInit = () => {\n    provider.setState({catalogListInit: true});\n    getCatalogList().then((newState) => {\n            newState.catalogListFiltered = newState.catalogList;\n            provider.setState(newState);\n        }\n    );\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nexport const catalogModel = createContext(createModel, getInitialState);\n","import React from 'react';\nimport AccountModel from \"./models/accounts/accountModel\";\nimport {catalogModel} from \"./models/home/catalogModel\";\n\nexport const GlobalProviders = ({children}) => {\n\n    return (\n        <AccountModel.ModelProvider>\n            <catalogModel.ModelProvider>\n                        {children}\n            </catalogModel.ModelProvider>\n        </AccountModel.ModelProvider>\n    );\n};\n","import {useState, useEffect} from \"react\";\n\nexport const useIsMobile = () => {\n    const [isMobile, setIsMobile] = useState(window.innerWidth <= 760);\n    const resize = () => {\n        setIsMobile(window.innerWidth <= 760);\n    };\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", resize);\n        return () => {\n            window.removeEventListener(\"resize\", resize);\n        };\n    },[]);\n\n    return isMobile;\n};\n\nexport function useCardSize() {\n    const calcCardSize = (contWidth) => {\n\n        let widthCalc = \"\";\n        let heightPicCalc = \"\";\n        if(contWidth < 550) {\n            widthCalc= \"calc(93vw)\";\n            heightPicCalc = \"calc(72.54vw)\";\n        }\n        else if(contWidth < 700) {\n            widthCalc= \"calc(46vw)\";\n            heightPicCalc = \"calc(35.88)\";\n        }\n        else if(contWidth < 1200) {\n            widthCalc= \"calc(30vw)\";\n            heightPicCalc = \"calc(24.3vw)\";\n        }\n        else {\n            widthCalc= \"calc(23vw)\";\n            heightPicCalc = \"calc(17.94vw)\";\n        }\n\n        return {widthCalc, heightPicCalc};\n    };\n    const [cardWidth, setCardWidth] = useState(calcCardSize(window.innerWidth));\n\n    useEffect(() => {\n        function resizeWidth() {\n            const res = calcCardSize(window.innerWidth);\n            setCardWidth(res);\n        }\n\n        window.addEventListener(\"resize\", resizeWidth);\n\n        return () => {\n            window.removeEventListener(\"resize\", resizeWidth);\n        };\n    },[]); // Empty array ensures that effect is only run on mount\n\n    return cardWidth;\n}","import {AssignmentInd, Group, Home, MusicNote, VpnKeyRounded,\n    Message as MessageIcon, AttachMoney} from \"@material-ui/icons\";\n\nconst mainLinksAll = [\n    {label : \"Home\", icon: Home, selected:!(window.location.href.includes('cashMovements') || window.location.href.includes('keyLogs') ), link:\"#/\", route:\"/\", isMobile: true },\n    {label : \"Cash Move\", icon: AttachMoney, selected:window.location.href.includes('cashMovements'),  link:\"#/cashMovements\", route:\"/cashMovements\", featureId: 1, isMobile: true },\n    {label : \"Key Logs\", icon: VpnKeyRounded, selected:window.location.href.includes('keyLogs'), link:\"#/keyLogs\", route:\"/keyLogs\", featureId: 1, isMobile: true },\n];\n\nexport const getMenus = (mobileOnly)=> {\n    if(mobileOnly)\n        return mainLinksAll.filter(link => link.isMobile);\n    else\n        return mainLinksAll;\n};\n","import React, {useState, useEffect} from 'react';\nimport {useIsMobile} from \"../../utility/useIsMobile\";\nimport { SideStrip } from \"fancy-menu\"\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Input\n} from \"@material-ui/icons\";\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {getMenus} from \"../../models/home/menuStore\";\nimport {getStore, setUserData} from \"../../models/accounts/userAuthStore\";\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst mainLinksAll = getMenus();\n\nconst bottomLinks = [\n    {label : \"Logout\", icon: Input, link:\"#/logout\" }\n];\n\nexport const FullMenuNavComponent = ({ children, firstName, lastName,\n                                         userLoggedIn, picUrl, userFeatures  }) => {\n    const isMobile = useIsMobile();\n    const classes = useStyles(isMobile);\n\n    const {\n        isLoading,\n        isAuthenticated,\n        error,\n        user,\n        loginWithRedirect,\n        logout,\n    } = useAuth0();\n\n    const mainLinks = mainLinksAll.filter(\n        (link) => link.featureId === undefined ||\n            userFeatures.indexOf(link.featureId) > -1);\n\n    const userInfo = getStore();\n    console.log(user);\n\n    if(user) {\n        setUserData(user);\n        userInfo.picUrl = user.picture;\n        userInfo.name = user.name;\n    }\n\n    return (\n        userInfo.name &&\n        <div>\n            <SideStrip mainLinks={mainLinks}\n                       bottomLinks={bottomLinks}\n                       onMenuClose={() => {\n                          // setOpenMenu(false);\n                       }}\n                       expandMenu={false}\n                       userLabel={userInfo.name}\n                       imageUrl={decodeURIComponent(userInfo.picUrl)}\n            />\n            <div className={classes.mainContainer}>\n                {children}\n            </div>\n        </div> ||\n            <div>{children}</div>\n    );\n};\n\nexport const FullMenuNav = connectArray(FullMenuNavComponent,[accountModel]);\n\nconst useStyles = (isMobile) => makeStyles({\n    mainContainer:{\n        marginLeft: isMobile ? 7 : 70,\n        marginRight: 7\n    },\n})();\n\n","import React, { useEffect } from \"react\";\nimport {clearToken} from \"../../models/accounts/userAuthStore\";\nimport { Card, CardContent,\n    CardActions, Button, Typography  } from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Input as LoginIcon, Info } from '@material-ui/icons';\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {navigate} from \"../../route/history\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const LoggedOutComponent = ({onNotifyMainNavOfLogOff, userLoggedIn}) => {\n\n    const classes = useStyles();\n    const { loginWithRedirect,\n        logout,\n        isAuthenticated,\n        isLoading\n    } = useAuth0();\n\n    useEffect(() => {\n        clearToken();\n        if(isAuthenticated)\n            logout({returnTo: `${window.location.origin}/#/login`});\n\n        if(userLoggedIn)\n            onNotifyMainNavOfLogOff();\n    });\n    // noinspection HtmlUnknownAnchorTarget\n    return (\n        <form id=\"logout-submit\"\n              className={classes.mainContainer}>\n            {!isLoading && !isAuthenticated &&\n            <Card style={{display: \"flex\"}}>\n                <div className={classes.outerCard}>\n                    <CardContent className={classes.cardContainer}>\n                        <img src={\"retail-shop-flat-icon_small.jpg\"}\n                             className={classes.logo}/>\n                        <div className={classes.messageContainer}>\n                            <Info className={classes.iconSpacing}/><Typography>You have been logged out.</Typography>\n                        </div>\n                    </CardContent>\n                    <CardActions>\n                        <Button variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.actionButton}\n                                onClick={() => {\n                                    loginWithRedirect();\n                                }}\n                        >\n                            <LoginIcon style={{marginRight: 10}}/> Login\n                        </Button>\n\n                    </CardActions>\n                </div>\n            </Card>\n            }\n            {(isLoading || isAuthenticated ) &&\n                <span>... logging out please wait</span>\n            }\n        </form>\n    )\n};\n\nexport const LoggedOut = connectArray(LoggedOutComponent, [accountModel]);\n\nconst useStyles = makeStyles({\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\n    cardContainer: {minHeight: 170},\n    logo: {width: 250, margin: \"auto\"},\n    actionButton: {width: \"80%\", margin:\"auto\"},\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\n    iconSpacing: { marginRight: 12},\n    outerCard: {margin: \"45px auto\"}\n});","import React from \"react\";\nimport {InputBase} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Search as SearchIcon} from \"@material-ui/icons\";\n\nexport const SearchTextBox = ({onSearchChange}) => {\n    const classes = useStyle();\n    return (\n        <div className={classes.search}>\n            <div className={classes.searchIcon}>\n                <SearchIcon />\n            </div>\n            <InputBase\n                placeholder=\"Searchâ€¦\"\n                onChange={(event) => onSearchChange(event.target.value)}\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n                inputProps={{ 'aria-label': 'search' }}\n            />\n        </div>\n    );\n};\n\nconst useStyle = makeStyles(theme  => ({\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 7),\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(7),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n}));","/*global siteData */\nimport React from \"react\";\nimport { AppBar, Toolbar, IconButton, Typography,\n     Button } from \"@material-ui/core\";\nimport { makeStyles} from \"@material-ui/core/styles\";\nimport { Add as AddIcon} from \"@material-ui/icons\";\nimport {SearchTextBox} from \"./SearchTextBox\";\nimport PropTypes from 'prop-types';\nimport {useIsMobile} from \"../useIsMobile\";\n\nconst useStyles = makeStyles((theme) => {\n\n    return {\n        root: {\n            backgroundColor: theme.palette.background.paper,\n            color: \"black\",\n            fontSize: \"14px\",\n            marginBottom: 10,\n            marginLeft: -20,\n            boxShadow: \"0 0\",\n        },\n        rootMobile: {\n            backgroundColor: theme.palette.background.paper,\n            color: \"black\",\n            fontSize: \"14px\",\n            marginBottom: 10,\n            marginTop: 0,\n            marginLeft: 20,\n            boxShadow: \"0 0\",\n            width: \"unset\"\n        },\n        toolBar : {\n            minHeight: 38,\n            height: 38\n        },\n        avatar : {\n            backgroundColor: \"transparent\",\n            color: theme.palette.primary.main,\n            marginRight: 15,\n            marginLeft: -15,\n        },\n        searchTextContainer: {\n            display: \"flex\",\n            position: \"absolute\",\n            right: 5,\n            top: 7,\n        },\n        childContainerNoSearch: {\n            display: \"flex\",\n        },\n        childContainer: {\n            display: \"flex\",\n            //position: \"absolute\",\n            right: 270,\n            top: 7,\n            marginLeft: 8\n        },\n        searchTextBox: {\n            width: 120\n        },\n        searchTextLabel: {\n            marginRight: \"5px\",\n            marginTop: \"6px\",\n        },\n        menuButton: {\n            marginLeft: -18,\n            marginRight: 10,\n        },\n        labelTitle: {\n            color: theme.palette.primary.main,\n            //marginRight: 28,\n            display: \"flex\"\n        },\n        labelTitleWithTextBox: {\n            color: theme.palette.primary.main,\n            marginRight: 28,\n            display: \"flex\",\n            marginTop: 12\n        }\n    };\n});\n\nexport const AppBarTitleAddSearchComponent =\n    ({ title, LeftIcon, onSearchChange, hideSearch, onAdd,\n         addLabel, children, childHasTextBox,\n         onAvatarClick}) => {\n\n    const isMobile = useIsMobile();\n    const classes = useStyles();\n    return (\n        <AppBar className={isMobile ? classes.rootMobile : classes.root} position=\"static\">\n            <Toolbar variant=\"dense\">\n                <span className={childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle}>\n                    {/*  <IconButton className={classes.menuButton}\n                                color=\"inherit\"\n                                aria-label=\"Menu\"\n                                onClick={() => onAvatarClick && onAvatarClick()}\n                    >\n                        <LeftIcon />\n                    </IconButton>*/}\n                    <Typography variant=\"h6\" color=\"inherit\" >\n                        {title}\n                    </Typography>\n\n                </span>\n                {onAdd &&\n                    !isMobile &&\n                    <Button variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={onAdd}\n                            startIcon={<AddIcon />}\n                            style={{marginLeft: 20}}>\n                        {addLabel || \"Add\"}\n                    </Button>\n                }\n\n                {onAdd &&\n                    isMobile &&\n                    <IconButton\n                            color=\"secondary\"\n                            onClick={onAdd}\n                            style={{marginLeft: 10}}>\n                        <AddIcon />\n                    </IconButton>\n                }\n\n                <span className={hideSearch || onSearchChange === undefined || childHasTextBox ? classes.childContainerNoSearch : classes.childContainer}>\n                    {children}\n                </span>\n                {hideSearch !== true && onSearchChange !== undefined &&\n                <span className={classes.searchTextContainer}>\n\n                        <span className={classes.searchTextBox}>\n                            <SearchTextBox onSearchChange={(value) => onSearchChange(value)} />\n                        </span>\n                    </span>\n                }\n            </Toolbar>\n        </AppBar>\n    )\n};\n\nexport const AppBarTitleAddSearch = AppBarTitleAddSearchComponent;\n\nexport const AppBarTitleComponent = ({ title, LeftIcon, variant, iconSize, marginLeft, style, children,\n                                        childHasTextBox\n                                     }) => {\n    const classes = useStyles();\n    return (\n        <AppBar className={classes.root} style={style} position=\"static\">\n            <Toolbar variant=\"dense\"  >\n                <span className={ childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle} >\n                    <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">\n                        <LeftIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" color=\"inherit\" style={{marginTop: 9}} >\n                        {title}\n                    </Typography>\n                </span>\n                <span className={classes.childContainerNoSearch }>\n                    {children}\n                </span>\n            </Toolbar>\n        </AppBar>\n    )\n};\n\n\n\nexport const AppBarTitle = AppBarTitleComponent;\n\nAppBarTitle.propTypes = {\n    LeftIcon: PropTypes.elementType.isRequired,\n    title: PropTypes.string\n};\n","import React from \"react\";\nimport {Card, CardHeader, CardActionArea, CardContent} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useCardSize} from \"../../utility/useIsMobile\";\nimport {getStore} from \"../../models/accounts/userAuthStore\";\nimport {toCurrency} from \"../../utility/helpers\";\n\nconst {catalogApi} = getStore();\nexport const CatalogCard = ({catalog, onClick, inEdit}) => {\n\n    const {widthCalc, heightPicCalc} = useCardSize();\n    const widthValue= inEdit ? \"100%\" : widthCalc;\n    const imageIsConfig = catalog.images && catalog.images.length > 0;\n\n    const imageId = imageIsConfig ?\n        catalog.images[0].id : \"5f41d4dac6f0db5918e4cb20\";\n\n    const classes = useStyle({\n        widthValue,\n        heightValue: heightPicCalc\n    });\n\n    const willFitWidth = imageIsConfig && catalog.images[0].willFitWidth;\n    const colorRgb = imageIsConfig && catalog.images[0].colorRgb;\n    const colorRgbOther = imageIsConfig && catalog.images[0].colorRgbOther;\n\n    const colorGrad = `rgb(${colorRgb[0]},${colorRgb[1]}, ${colorRgb[2]})`;\n    const colorGradOther = `rgb(${colorRgbOther[0]},${colorRgbOther[1]}, ${colorRgbOther[2]})`;\n\n    // noinspection JSUnresolvedVariable\n    return (\n    <Card className={classes.card}>\n\n        <CardActionArea\n            onClick={() => {if(onClick) onClick();}}\n        >\n            <div className={classes.catPrice}>${toCurrency(catalog.unitPrice)}</div>\n            <CardContent\n                className={willFitWidth ? classes.imageBoxWidth : classes.imageBoxHeight}\n            >\n                <div className={willFitWidth ? classes.picBorderWidth : classes.picBorderHeight}\n                     style={{backgroundColor: colorGrad}}\n                />\n                <div className={willFitWidth ? classes.fixWidth : classes.fixHeight}>\n                    <img\n                        src={`${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}`}\n                        className={willFitWidth ? classes.fixWidth : classes.fixHeight}\n                    />\n                </div>\n\n                <div className={willFitWidth ? classes.picBorderWidth : classes.picBorderHeight}\n                     style={{backgroundColor: colorGradOther}}\n                />\n            </CardContent>\n\n        <CardHeader\n            title={catalog.shortDesc}\n        />\n        </CardActionArea>\n    </Card>\n    )\n};\n//props => props.widthCalc\nconst useStyle = makeStyles({\n    catPrice: {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#000000ba\",\n        font: \"800 16px Arial\",\n        \"border-bottom-right-radius\": 10,\n        color: \"white\"\n    },\n    card: {\n        width: props => props.widthValue,\n        marginBottom: 20,\n        backgroundColor: \"#d0c6c626\"\n    },\n    picBorderHeight: {\n        width: \"50%\",\n        height: props => props.heightValue,\n        zIndex: 1,\n    },\n    picBorderWidth: {\n        width: \"100%\",\n        height: \"50%\",\n        zIndex: 1,\n    },\n    imageBoxHeight: {\n        width: props => props.widthValue,\n        height: props => props.heightValue,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        display:\"flex\",\n        padding:0\n    },\n    imageBoxWidth: {\n        width: props => props.widthValue,\n        height: props => props.heightValue,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        padding:0\n    },\n    fixHeight: {\n        height: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        position: \"relative\",\n        zIndex: 2\n    },\n    fixWidth: {\n        width: \"inherit\",\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: 2\n    }\n});\n\n","import React, {useState, useEffect} from \"react\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {TextField, InputAdornment, Button} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {toCurrency} from \"../../utility/helpers\";\nimport {getStore} from \"../../models/accounts/userAuthStore\";\nconst {catalogApi} = getStore();\nconst containerWidth = 532;\nconst containerHeight = 415;\nimport FastAverageColor from 'fast-average-color';\nimport ColorThief from \"colorthief\";\n//const colorThief = from 'colorTheif';\n\nconst CatalogItemEditComponent = ({\n     activeCatalogItem, onSaveCatalogItem, catalogListLoading,\n     onUploadImage\n}) => {\n    const imageIsConfig = activeCatalogItem.images\n        && activeCatalogItem.images.length > 0;\n\n    const imageId = imageIsConfig ?\n        activeCatalogItem.images[0].id : \"5f41d4dac6f0db5918e4cb20\";\n\n    const rgbData = imageIsConfig ?\n        activeCatalogItem.images[0].colorRgb : [0,0,0];\n    const metaUpload = imageIsConfig ?\n        {\n            \"id\": activeCatalogItem.images[0].id,\n            \"fileName\": activeCatalogItem.images[0].fileName\n        } : null;\n\n    const imageUrl = `${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}`;\n    const [itemEdit, setItemEdit] = useState({...activeCatalogItem});\n    const [uploadImage, setUpLoadImage] = useState(imageUrl);\n\n    const [uploadImageMetadata, setUpLoadImageMetadata] = useState(metaUpload);\n\n    const [willFitWidth, setWillFitWidth] = useState(\n        imageIsConfig ? activeCatalogItem.images[0].willFitWidth : true);\n\n    const [colorRgb, setColorRgb] = useState(rgbData);\n    const [colorRgbOther,setColorRgbOther] = useState(rgbData);\n    const onValueChange = (fieldName, value) => setItemEdit({...itemEdit, [fieldName]: value});\n    const classes = useStyle();\n    useEffect(()=>{\n        if(activeCatalogItem._id !== itemEdit._id) {\n            const imageIsConfig = activeCatalogItem.images\n                && activeCatalogItem.images.length > 0;\n\n            setItemEdit({...activeCatalogItem});\n            setUpLoadImage(imageUrl);\n            setColorRgb(rgbData);\n            setUpLoadImageMetadata(metaUpload);\n            setWillFitWidth(imageIsConfig &&\n                activeCatalogItem.images[0].willFitWidth);\n        }\n    });\n    const colorGrad = `rgb(${colorRgb[0]},${colorRgb[1]}, ${colorRgb[2]})`;\n    const colorGradOther = `rgb(${colorRgbOther[0]},${colorRgbOther[1]}, ${colorRgbOther[2]})`;\n\n    return(\n        <div className={classes.textBox}>\n            <TextField\n                style={{width:\"32%\"}}\n                label=\"Short Desc\"\n                value={itemEdit.shortDesc}\n                onChange={(event) => onValueChange(\"shortDesc\", event.target.value)}\n            />\n            <TextField\n                style={{width:\"42%\"}}\n                label=\"Extra Desc\"\n                value={itemEdit.extraDesc}\n                onChange={(event) => onValueChange(\"extraDesc\", event.target.value)}\n            />\n            <TextField\n                style={{width:\"20%\"}}\n                label={`Unit Price:$ ${toCurrency(itemEdit.unitPrice)}`}\n                value={itemEdit.unitPrice || 0}\n                InputProps={{\n                    startAdornment:\n                        <InputAdornment position=\"start\">$</InputAdornment>\n                }}\n                onChange={(event) => onValueChange(\"unitPrice\", parseFloat(event.target.value))}\n            />\n            <TextField\n                style={{width:\"100%\"}}\n                multiline\n                rowsMax={4}\n                label=\"Description\"\n                value={itemEdit.description}\n                onChange={(event) => onValueChange(\"description\", event.target.value)}\n            />\n            {!catalogListLoading &&\n            < Button\n                onClick={() => onSaveCatalogItem(itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther)}\n                >Save</Button>\n            }\n            {catalogListLoading && <span>Saving...</span>}\n\n            <input type=\"file\" name=\"myFile\" id=\"myFile\"\n                   onChange={async (event) => {\n                       console.log(event.target.files);\n                       const reader = new FileReader();\n                       reader.onload = function(e) {\n                           console.log(\"image read locally\");\n                           setUpLoadImage(e.target.result);\n                       };\n                       reader.readAsDataURL(event.target.files[0]);\n                       const uploadResult = await onUploadImage(event.target.files[0]);\n\n                       if(uploadResult.uploadImageResult) {\n                           setUpLoadImageMetadata(uploadResult.uploadImageResult);\n                       }\n                   }}\n            />\n            <div className={willFitWidth ? classes.imageBoxWidth : classes.imageBoxHeight}>\n                <div className={willFitWidth ? classes.picBorderWidth : classes.picBorderHeight}\n                     style={{backgroundColor: colorGrad}}\n                />\n                <div className={willFitWidth ? classes.fixWidth : classes.fixHeight}>\n                    <img id=\"blah\"\n                         src={uploadImage}\n                         alt=\"your image\"\n                         className={willFitWidth ? classes.fixWidth : classes.fixHeight}\n\n                         onLoad={(event)=> {\n                             const fitWidth =\n                                 calcWillFitWidth(\n                                     containerWidth,\n                                     containerHeight,\n                                     event.target.naturalWidth,\n                                     event.target.naturalHeight);\n\n                             getMaxColor(event.target, fitWidth)\n                                 .then(function(calcResult){\n\n                                     setColorRgb(calcResult);\n                                 });\n\n                             getMaxColor(event.target, fitWidth, true)\n                                 .then(function(calcResult){\n\n                                     setColorRgbOther(calcResult);\n                                 });\n\n                             setWillFitWidth(fitWidth);\n                         }}\n                    />\n                </div>\n                <div className={willFitWidth ? classes.picBorderWidth : classes.picBorderHeight}\n                     style={{backgroundColor: colorGradOther}}\n                />\n            </div>\n        </div>\n    )\n};\n\nconst calcWillFitWidth = (containerWidth, containerHeight, imageWidth, imageHeight) => {\n    return ((1.28 * containerHeight) / imageWidth) <= (containerHeight / imageHeight);\n};\n\nexport const CatalogItemEdit = connectArray(CatalogItemEditComponent,\n    [catalogModel]);\n\nconst useStyle = makeStyles({\n    textBox: {\n        '& > *': {\n            margin: 7,\n        },\n    },\n    picBorderHeight: {\n        width: \"50%\",\n        height: containerHeight,\n        zIndex: 1,\n    },\n    picBorderWidth: {\n        width: \"100%\",\n        height: \"50%\",\n        zIndex: 1,\n    },\n    imageBoxHeight: {\n        width: containerWidth,\n        height: containerHeight,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        display:\"flex\"\n    },\n    imageBoxWidth: {\n        width: containerWidth,\n        height: containerHeight,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\"\n    },\n    fixHeight: {\n        height: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        position: \"relative\",\n        zIndex: 2\n    },\n    fixWidth: {\n        width: \"inherit\",\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: 2\n    }\n});\n\nconst calcImageGradient = (colorRgList, willFitWidth)=> {\n    const colorGrad = willFitWidth ? [\"to right\"] : [];\n    for (let i = 0; i < colorRgList.length ; i = i + 3) {\n        const grad = `rgb(${colorRgList[i]},${colorRgList[i+1]}, ${colorRgList[i+2]})`;\n        colorGrad.push(grad);\n    }\n    return colorGrad;\n};\n\nconst getMaxColor = (imageTarget, willFitWidth, doOpposite = false) => {\n    return new Promise((resolve, reject) => {\n        const sliverSize = 15;\n        const img = imageTarget;\n        img.crossOrigin = \"Anonymous\";\n        const canvasTwo = document.createElement('canvas');\n        canvasTwo.width = willFitWidth ? img.naturalWidth : sliverSize;\n        canvasTwo.height = willFitWidth ? sliverSize : img.naturalHeight;\n\n        //fitWidth and is Opposite (bottom)\n        let top = img.naturalHeight - sliverSize;\n        let left = 0;\n        //fit Height and is Opposite\n        if(!willFitWidth && doOpposite) {\n            top = 0;\n            left = img.naturalWidth - sliverSize;\n        } //fit width and not opposite\n        else if(!doOpposite) {\n            top = 0;\n            left = 0\n        }\n\n        canvasTwo.getContext('2d').drawImage(\n            img, left, top, canvasTwo.width, canvasTwo.height,\n            0, 0, canvasTwo.width, canvasTwo.height);\n\n        const newImg = canvasTwo.toDataURL();\n        if(doOpposite) {\n            console.log(\"img wxh\",img.naturalWidth, img.naturalHeight);\n            console.log(\"img left(X), top(Y) =>\",left, top);\n            console.log(\"cnv wxh\", canvasTwo.width, canvasTwo.height);\n            console.log(newImg);\n        }\n\n        //const fac = new FastAverageColor();\n        const objImg = document.createElement('img');\n        objImg.src = newImg;\n        const colorThief = new ColorThief();\n        if(objImg.complete) {\n            const color = colorThief.getColor(objImg);\n            console.log(color);\n            resolve(color);\n        } else {\n            objImg.addEventListener(\"load\", ()=> {\n                const color = colorThief.getColor(objImg);\n                console.log(color);\n                resolve(color);\n            })\n        }\n    });\n};\n\nconst getAvgColor = (imageTarget, willFitWidth, doOpposite = false) => {\n    return new Promise((resolve, reject) => {\n        const sliverSize = 15;\n        const img = imageTarget;\n        img.crossOrigin = \"Anonymous\";\n        const canvasTwo = document.createElement('canvas');\n        canvasTwo.width = willFitWidth ? img.naturalWidth : sliverSize;\n        canvasTwo.height = willFitWidth ? sliverSize : img.naturalHeight;\n\n        //fitWidth and is Opposite (bottom)\n        let top = img.naturalHeight - sliverSize;\n        let left = 0;\n        //fit Height and is Opposite\n        if(!willFitWidth && doOpposite) {\n            top = 0;\n            left = img.naturalWidth - sliverSize;\n        } //fit width and not opposite\n        else if(!doOpposite) {\n            top = 0;\n            left = 0\n        }\n\n        canvasTwo.getContext('2d').drawImage(\n            img, left, top, canvasTwo.width, canvasTwo.height,\n                 0, 0, canvasTwo.width, canvasTwo.height);\n\n        const newImg = canvasTwo.toDataURL();\n        if(doOpposite) {\n            console.log(\"img wxh\",img.naturalWidth, img.naturalHeight);\n            console.log(\"img left(X), top(Y) =>\",left, top);\n            console.log(\"cnv wxh\", canvasTwo.width, canvasTwo.height);\n            console.log(newImg);\n        }\n\n        const fac = new FastAverageColor();\n        const objImg = document.createElement('img');\n        objImg.src = newImg;\n        if(objImg.complete) {\n            const color = fac.getColor(objImg);\n            resolve([color.value[0], color.value[1], color.value[2]]);\n        } else {\n            objImg.addEventListener(\"load\", ()=> {\n                const color = fac.getColor(objImg);\n                resolve([color.value[0], color.value[1], color.value[2]]);\n            })\n        }\n    });\n};\n\nconst getColor = (imageTarget, willFitWidth) => {\n    const img = imageTarget;\n    img.crossOrigin = \"Anonymous\";\n    const canvas = document.createElement('canvas');\n\n\n    canvas.width = img.width;\n    canvas.height = img.height;\n    canvas.getContext('2d').drawImage(img, 0, 0, img.width, img.height);\n    //this gets the upper left hand corner pixel\n    const pixelData = canvas.getContext('2d').getImageData(1, 1, 1, 1).data;\n    const resultArray = [pixelData[0], pixelData[1], pixelData[2]];\n    const incrementPixTall = (img.height-1)/20;\n    const incrementPixWidth = (img.width-1)/20;\n    for (let i = 1; i < 21; i++) {\n        const yValue = (incrementPixTall * i);\n        const xValue = (incrementPixWidth * i);\n\n        const pixelDataLower = willFitWidth ?\n            canvas.getContext('2d').getImageData(xValue, 1, 1, 1).data :\n            canvas.getContext('2d').getImageData(1, yValue, 1, 1).data;\n\n        resultArray.push(pixelDataLower[0]);\n        resultArray.push(pixelDataLower[1]);\n        resultArray.push(pixelDataLower[2]);\n    }\n\n    //RGB Color in an array [R, G, B]\n    return resultArray;\n};\n\nconst getColorOther = (imageTarget, willFitWidth) => {\n    const img = imageTarget;\n    img.crossOrigin = \"Anonymous\";\n    const canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    canvas.getContext('2d').drawImage(img, 0, 0, img.width, img.height);\n    //this gets the upper left hand corner pixel\n    const pixelData = canvas.getContext('2d').getImageData(1, 1, 1, 1).data;\n    const resultArray = [pixelData[0], pixelData[1], pixelData[2]];\n    const incrementPixTall = (img.height-1)/20;\n    const incrementPixWidth = (img.width-1)/20;\n    for (let i = 1; i < 21; i++) {\n        const yValue = (incrementPixTall * i);\n        const xValue = (incrementPixWidth * i);\n\n        const pixelDataLower = willFitWidth ?\n            canvas.getContext('2d').getImageData(xValue, (img.height-1), 1, 1).data :\n            canvas.getContext('2d').getImageData((img.width-1), yValue, 1, 1).data;\n\n        resultArray.push(pixelDataLower[0]);\n        resultArray.push(pixelDataLower[1]);\n        resultArray.push(pixelDataLower[2]);\n    }\n\n    //RGB Color in an array [R, G, B]\n    return resultArray;\n};","import React, {Fragment, useEffect, useState} from \"react\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {CatalogCard} from \"./CatalogCard\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {IconButton} from \"@material-ui/core\";\nimport {Close} from \"@material-ui/icons\";\nimport {CatalogItemEdit} from \"./CatalogItemEdit\";\nimport {useIsMobile} from \"../../utility/useIsMobile\";\n\nexport const CatalogTableComponent = ({catalogList,catalogListFiltered,\n                              catalogListInit, onCatalogListInit,\n                              onSetActiveCatalogItem}) => {\n    useEffect(()=> {\n        if(!catalogListInit)\n            onCatalogListInit();\n    });\n    const isMobile = useIsMobile();\n    const [inEdit, setInEdit] = useState(false);\n    const classes = useStyle({inEdit});\n    return (\n        <Fragment>\n            Test One, {catalogList.length}\n        <div className={classes.mainContainer}>\n            <div className={classes.scrollContainer}>\n                <div className={classes.container}>\n                    {catalogListFiltered.map((catalog, index)=>(\n                        <CatalogCard\n                            key={index}\n                            inEdit={inEdit}\n                            catalog={catalog}\n                            onClick={()=> {\n                                if(!isMobile) {\n                                    onSetActiveCatalogItem(catalog);\n                                    setInEdit(true);\n                                }\n                            }}\n                        />\n                    ))}\n                </div>\n            </div>\n            {inEdit &&\n            <div className={classes.containerEdit}>\n                <div style={{width: \"100%\"}}>\n                <IconButton\n                    className={classes.editControl}\n                    onClick={()=> {\n                        onSetActiveCatalogItem(null);\n                        setInEdit(false);\n                    }}\n                >\n                    <Close/>\n                </IconButton>\n                </div>\n                <CatalogItemEdit />\n            </div>\n            }\n\n        </div>\n        </Fragment>\n    )\n};\n\nexport const CatalogTable = connectArray(CatalogTableComponent,[catalogModel]);\n\nconst useStyle = makeStyles({\n    scrollContainer: {\n        height: \"calc( 100vh - 80px)\",\n        width: props => props.inEdit ? \"24vw\" : \"100%\",\n        overflow: \"auto\"\n    },\n   container: {\n       display:\"flex\",\n       flexWrap:\"wrap\",\n       justifyContent: \"space-between\",\n       width:  \"100%\"\n   },\n    containerEdit: {\n        display:\"flex\",\n        flexWrap:\"wrap\",\n        justifyContent: \"flex-start\",\n        height: 80,\n        width: \"calc( 75vw - 87px)\"\n    },\n    editControl: {\n        position: \"absolute\",\n        right: 10\n    },\n    mainContainer: {\n        display:\"flex\",\n        flexWrap:\"wrap\",\n    }\n});","import React, {Fragment} from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {OpenWith} from \"@material-ui/icons\";\nimport {CatalogTable} from \"../catalog/CatalogTable\";\n\nexport const HomeMain = ({}) => {\n    //const { user, isAuthenticated } = useAuth0();\n\n    return (\n        <Fragment>\n            <AppBarTitleAddSearch\n                title=\"Catalogs\"\n                LeftIcon={OpenWith}\n                onSearchChange={(value) => {}}\n                onAdd={()=> {} }\n            />\n            <CatalogTable/>\n        </Fragment>\n    );\n};","import React from 'react';\nimport { Redirect, Route} from 'react-router-dom';\nimport {hasFeature} from \"../models/accounts/userAuthStore\";\nimport {useAuth0} from \"@auth0/auth0-react\";\n\nexport const PrivateRoute = ({ history, permission, component: Component, ...rest }) => {\n    const { user, isLoading, isAuthenticated } = useAuth0();\n    return (\n        <Route {...rest} render={(props) => {\n            //hasFeature(permission) ||\n            return (\n                (isAuthenticated || isLoading) ?\n                    <Component {...props} />\n                    :\n                    <Redirect push={true} to={{pathname: '/login', state: {from: props.location}}}/>\n            )\n        }}\n        />\n    )\n};","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { GlobalProviders} from \"../GlobalProviders\";\nimport {getLoginRoute} from \"./history\";\nimport {FullMenuNav} from \"../desktop/home/FullMenuNav\";\nimport { LoggedOut } from \"../desktop/accounts/LoggedOut\";\nimport {initAuthStore} from \"../models/accounts/userAuthStore\";\nimport {HomeMain} from \"../desktop/home/HomeMain\";\nimport {PrivateRoute} from \"./PrivateRoute\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport {setTokenValue} from \"../models/accounts/userAuthStore\";\n\nexport class RouteComponent extends React.Component {\n\n    constructor() {\n        super();\n        this.state = { isMobile: window.innerWidth <= 760 };\n    }\n\n    componentDidMount() {\n        initAuthStore();\n        const checkSize = ()=> {\n            // noinspection JSCheckFunctionSignatures\n            this.setState({isMobile: window.innerWidth <= 760});\n        };\n        window.addEventListener(\"resize\", checkSize);\n        const { user, getAccessTokenSilently } = this.props.auth0;\n        const getToken = async () =>{\n            try {\n                const accessToken = await getAccessTokenSilently();\n                console.log(accessToken);\n                setTokenValue(accessToken);\n            } catch (ex) {\n                console.log(\"---------------\");\n                console.log(ex.message || ex);\n            }\n        };\n\n        getToken();\n    }\n\n    render() {\n        const LoginRoute = getLoginRoute();\n        const {isMobile} = this.state;\n        const MenuNav = FullMenuNav; //isMobile ? MobileNav :\n        return (\n            <GlobalProviders>\n                    <HashRouter>\n                        <MenuNav>\n                        <div>\n                            <LoginRoute/>\n                            <Route exact path=\"/logOut\"\n                                   component={LoggedOut} />\n\n                            <Route exact path=\"/logcomplete\"\n                                   component={LoggedOut} />\n\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/\"\n                                          component={isMobile ? HomeMain : HomeMain} />\n\n\n\n                        </div>\n                        </MenuNav>\n                    </HashRouter>\n            </GlobalProviders>\n        );\n    }\n}\n\n/*\n\n */\n\nexport default withAuth0(RouteComponent)","import './index.css'\nimport React from 'react'\nimport {render} from 'react-dom'\nimport RouteConfig from  \"./route/RouteConfig\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { grey, yellow } from '@material-ui/core/colors';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst muiTheme = createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        textColor: grey.A700,\n        primary: {\n            main: \"#3d6090\",\n            success: \"#4caf50\",\n            idle: yellow[500]\n        },\n        secondary: { main: \"#428bca\"}\n    }\n});\n\nrender(\n    <Auth0Provider\n        domain={process.env.AUTH_DOMAIN}\n        clientId={process.env.AUTH_CLIENT_ID}\n        audience={process.env.AUTH_AUDIENCE}\n        redirectUri={`${window.location.origin}`}\n    >\n        <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\n    </Auth0Provider>,\n    document.querySelector('#app'));\n\n","import { createContext } from \"../../utility/modelContext\";\nimport {setUserData, getStore, isLoggedIn} from \"./userAuthStore\";\nlet provider = null;\n\nexport const createModel = () => {\n    const userStore = getStore();\n    return {\n        userNotAuthorized: false,\n        userLoggedIn: isLoggedIn(),\n        name: userStore.name,\n        picUrl: userStore.picUrl,\n        userFeatures: userStore.featurePermissions ||[],\n        faceLoginMessage:null,\n        passwordMessage:'',\n        confirmPasswordMessage:'',\n        profileLoading: false,\n        onSetAccount,\n        onNotifyMainNavOfLogOff\n    };\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nconst onNotifyMainNavOfLogOff = () => {\n    provider.setState({userLoggedIn: false});\n};\n\nconst onSetAccount = (loginInfo) => {\n        console.log(\"loginInfo\");\n        console.log(loginInfo);\n        setUserData(loginInfo);\n        provider.setState({\n            picUrl: loginInfo.picUrl,\n            name: loginInfo.name,\n            email:loginInfo.email,\n            userLoggedIn : true});\n};\n\nexport default createContext(createModel, getInitialState);\n","import React from \"react\";\nimport { Card, CardContent,\n    CardActions, Button } from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Input as LoginIcon } from '@material-ui/icons';\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const LogInComponent = ({}) => {\n    const classes = useStyles();\n    const { loginWithRedirect } = useAuth0();\n    // noinspection HtmlUnknownTarget\n    return (\n        <form id=\"logon-submit\"\n              action=\"/login/google/source\"\n              className={classes.mainContainer}>\n            <Card style={{display: \"flex\"}}>\n                <div className={classes.outerCard}>\n                    <CardContent className={classes.cardContainer}>\n                        <img src={\"retail-shop-flat-icon_small.jpg\"}\n                             className={classes.logo}/>\n                    </CardContent>\n                    <CardActions>\n                        <Button variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.actionButton}\n                                onClick={() => {\n                                    loginWithRedirect(\n                                        {returnTo: `${window.location.origin}/#/`}\n                                    );\n                                }}\n                        >\n                            <LoginIcon style={{marginRight: 10}}/> Login\n                        </Button>\n\n                    </CardActions>\n                </div>\n            </Card>\n        </form>\n    );\n};\n\nconst useStyles = makeStyles({\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\n    cardContainer: {minHeight: 170,minWidth:240, textAlign:'center'},\n    logo: {width: 250, margin: \"auto\"},\n    actionButton: {width: \"100%\", margin:\"10px\"},\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\n    iconSpacing: { marginRight: 12},\n    outerCard: {margin: \"45px auto\"},\n    cardActionsContainer:{display:'flex', flexDirection: 'column'}\n});\n\nexport const LogIn = connectArray(LogInComponent, [accountModel]);\n","import React from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport { LogIn } from \"../desktop/accounts/LoginStart\";\n//this module is used to get a backdoor to the react router history object.\n//did not want ot pass history object all the way through to utility modules\nconst historyModel = {\n    loaded: false,\n    history: null\n};\n\nconst LoginRouteComponent = ({history}) => {\n    setHistory(history);\n    return (\n        <Route exact path=\"/login\" component={LogIn} />\n    );\n};\n\nconst setHistory = (history) => {\n    historyModel.history = history;\n    historyModel.loaded = true;\n};\n\nexport const getHistory = () => {\n    return historyModel;\n};\n\nexport const navigate = (location) => {\n    window.location.href = location;\n};\n\n// noinspection JSCheckFunctionSignatures\nexport const getLoginRoute = () => withRouter(LoginRouteComponent);","import React from \"react\";\n\nexport const createContext = (createModel, getInitialState) => {\n    const ModelContext = React.createContext(createModel());\n\n    class ModelProvider extends React.Component {\n        /** @param props.match.params.testMode */\n        constructor(props) {\n            super(props);\n            const testMode = props && props.match && props.match.params && props.match.params.testMode\n                                && props.match.params.testMode.indexOf(\"testMode\") > -1 && props.match.params.testMode;\n            this.state = getInitialState(this, testMode || \"\");\n        }\n\n        render() {\n            return (\n                <ModelContext.Provider value={this.state}>\n                    {this.props.children}\n                </ModelContext.Provider>\n            )\n        }\n    }\n\n    const connect =(UserComponent, componentProps) => {\n        return (\n            <ModelContext.Consumer>\n                {(vm) => (\n                    <UserComponent {...vm} {...componentProps} />\n                )}\n            </ModelContext.Consumer>\n        );\n    };\n\n\n    // noinspection JSUnusedGlobalSymbols\n    return { ModelContext, ModelProvider, connect };\n};"],"sourceRoot":""}