(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"c",(function(){return g})),a.d(t,"g",(function(){return d}));var n=a(225),o=null,r=null,i=function(e){"function"==typeof e&&(r=e)},c=function(e){return o=e},l=function(e,t,a){void 0===a&&(a=null);var o=[],r=null!==a?Object(n.a)(a)(e):e;return t.forEach((function(e,t){if(0===t){o.push((function(t){return e.connect(r,t)}))}else{o.push((function(a){return e.connect(o[t-1],a)}))}})),o[o.length-1]},s=function(e,t){var a=e||"";if("function"==typeof t)a=t(e);else if(""!==t){(t&&t.split(".")||[]).forEach((function(e){a=a&&a[e]}))}return a};var u=function(e){o.setState({errorMessage:e})},g=function(){return function(e){if(e.ok)return e.json();throw 401===e.status&&(o.setState({errorMessage:"Unauthorized"}),r&&r()),new Error(e.status)}},d=function(e){return parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}},104:function(e,t,a){"use strict";a.r(t),a.d(t,"getHistory",(function(){return w})),a.d(t,"navigate",(function(){return O})),a.d(t,"getLoginRoute",(function(){return x}));var n=a(0),o=a.n(n),r=a(22),i=a(217),c=a(5957),l=a(5958),s=a(5959),u=a(164),g=a(165),d=a(5960),m=a(54),f=a(10),p=a(35),h=o.a.createElement(r.a,{push:!0,to:"/"}),v=Object(g.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170,minWidth:240,textAlign:"center"},logo:{width:250,margin:"auto"},actionButton:{width:"100%",margin:"10px"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"},cardActionsContainer:{display:"flex",flexDirection:"column"}}),b=Object(f.a)((function(e){Object(i.a)(e);var t=v(),a=Object(p.b)(),n=a.loginWithRedirect;return a.isAuthenticated?h:o.a.createElement("form",{id:"logon-submit",action:"/login/google/source",className:t.mainContainer},o.a.createElement(c.a,{style:{display:"flex"}},o.a.createElement("div",{className:t.outerCard},o.a.createElement(l.a,{className:t.cardContainer},o.a.createElement("img",{src:"retail-shop-flat-icon_small.png",className:t.logo})),o.a.createElement(s.a,null,o.a.createElement(u.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){n({returnTo:window.location.origin+"/#/"})}},o.a.createElement(d.a,{style:{marginRight:10}})," Login")))))}),[m.a]),y={loaded:!1,history:null},E=o.a.createElement(r.b,{exact:!0,path:"/login",component:b}),C=function(e){var t=e.history;return L(t),E},L=function(e){y.history=e,y.loaded=!0},w=function(){return y},O=function(e){window.location.href=e},x=function(){return Object(r.f)(C)}},14:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return f})),a.d(t,"e",(function(){return p})),a.d(t,"f",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return y})),a.d(t,"h",(function(){return E})),a.d(t,"a",(function(){return C}));var n=a(9),o=a.n(n),r=a(16),i=a(10),c=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,r,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b(),n=a.catalogApi,r=a.token,c=n+"/catalogapi/api/v1/users/"+t,l={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}},e.abrupt("return",fetch(c,l).then(Object(i.c)()).then((function(e){return{userProfile:e,userProfileLoading:!1}})).catch((function(e){return{userProfile:null,userProfileLoading:!1,userProfileLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l={token:localStorage.getItem("token"),name:localStorage.getItem("name")||"",picUrl:localStorage.getItem("picUrl")||"",email:localStorage.getItem("email")||"",featurePermissions:[1],userDomain:localStorage.getItem("userDomain")||"",catalogApi:"https://api.netware.io"},s=function(){return!!l.token},u=function(e){var t=a(104).navigate;h();var n=1e3*e-new Date-6e4;n>30?l.logOutTimer=setTimeout((function(){return t("#/logout")}),n):e>0&&t("#/logout")},g=function(e){var t=e&&e.split(".");if(t&&t.length>0){var a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(a))}return{}};try{var d=localStorage.getItem("featurePermissions");if(l.featurePermissions=d?JSON.parse(d):[],l.token){var m=g(l.token);u(m.exp),console.log("token from local storage")}}catch(e){l.featurePermissions=[]}var f=function(e){localStorage.setItem("token",e),l.token=e;var t=g(e);u(t.exp)},p=function(){},h=function(){l.logOutTimer>-1&&(clearTimeout(l.logOutTimer),l.logOutTimer=-1)},v=function(){return l.token&&null!==l.token},b=function(){return l},y=function(e){return l.featurePermissions.indexOf(e)>-1||!0},E=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,r,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.picture,r=t.email,i=t.sub,l.featurePermissions=[1],e.next=4,L(i);case 4:return c=e.sent,localStorage.setItem("name",a),localStorage.setItem("email",r),localStorage.setItem("picUrl",n),localStorage.setItem("userDomain",c),localStorage.setItem("featurePermissions",JSON.stringify(l.featurePermissions)),l.name=a,l.email=r,l.picUrl=n,l.userDomain=c,l.featurePermissions=[1],e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){l.featurePermissions=[],localStorage.removeItem("featurePermissions")},L=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return a=e.sent,n=a.userProfile,console.log("userProfile"),console.log(n),e.abrupt("return",n&&n.app_metadata&&n.app_metadata.retailDomain);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},239:function(e,t,a){e.exports=a(5925)},240:function(e,t,a){},54:function(e,t,a){"use strict";var n=a(55),o=a(14),r=a(10),i=null,c=function(){var e=Object(o.b)();return console.log("isLoggedIn"),console.log(Object(o.f)()),{loadingAuth:!Object(o.f)(),userNotAuthorized:!1,userLoggedIn:Object(o.f)(),name:e.name,picUrl:e.picUrl,userFeatures:e.featurePermissions||[],faceLoginMessage:null,passwordMessage:"",confirmPasswordMessage:"",profileLoading:!1,onSetAccount:s,onNotifyMainNavOfLogOff:l}},l=function(){Object(o.a)(),i.setState({userLoggedIn:!1}),(0,a(104).navigate)("#/logout")},s=function(e){console.log("loginInfo"),console.log(e),Object(o.h)(e),i.setState({picUrl:e.picUrl,name:e.name,email:e.email,userLoggedIn:!0})};t.a=Object(n.a)(c,(function(e){return i=e,Object(r.e)(l),c()}))},55:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(56),o=a(216),r=a(72),i=a(0),c=a.n(i),l=function(e,t){var a=c.a.createContext(e()),i=function(e){function n(a){var n;n=e.call(this,a)||this;var r=a&&a.match&&a.match.params&&a.match.params.testMode&&a.match.params.testMode.indexOf("testMode")>-1&&a.match.params.testMode;return n.state=t(Object(o.a)(n),r||""),n}return Object(r.a)(n,e),n.prototype.render=function(){return c.a.createElement(a.Provider,{value:this.state},this.props.children)},n}(c.a.Component);return{ModelContext:a,ModelProvider:i,connect:function(e,t){return c.a.createElement(a.Consumer,null,(function(a){return c.a.createElement(e,Object(n.a)({},a,t))}))}}}},5925:function(e,t,a){"use strict";a.r(t);a(240);var n=a(0),o=a.n(n),r=a(19),i=a(9),c=a.n(i),l=a(16),s=a(72),u=a(22),g=a(85),d=a(54),m=a(55),f=a(14),p=a(10),h=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,o,r,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.b)(),o=n.catalogApi,r=n.token,i=o+"/catalogApi/api/v1/catalog/"+t+"/"+a,l={method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}},e.abrupt("return",fetch(i,l).then(Object(p.c)()).then((function(e){return{success:!0,saveCatalogStatusResult:e,catalogStatusLoading:!1,catalogListLoadError:!1}})).catch((function(e){return{success:!1,catalogStatusLoading:!1,catalogListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t._id);case 2:return a=e.sent,t.images.forEach((function(e){return y(e.id)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=Object(f.b)(),a=t.catalogApi,n=t.token;return fetch(a+"/catalogapi/api/v1/catalog/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}}).then(Object(p.c)()).then((function(e){return{deleteCatalogResult:e,catalogListLoading:!1}})).catch((function(e){return{deleteCatalogResult:!1,catalogListLoading:!1,deleteCatalogResultError:e.message||e}}))},y=function(e){var t=Object(f.b)(),a=t.catalogApi,n=t.token;return fetch(a+"/catalogapi/api/v1/catalog/file/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}}).then(Object(p.c)()).then((function(e){return console.log("DELETE file result"),console.log(e),{deleteImageResult:e}})).catch((function(e){return{deleteImageResult:!1,deleteImageResultError:e.message||e}}))},E=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,o,r,i,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("myFile",t),o=Object(f.b)(),r=o.catalogApi,i=o.token,l=r+"/catalogApi/api/v1/catalog/file/"+a,s={method:"POST",headers:{Authorization:"Bearer "+i},body:n},e.abrupt("return",fetch(l,s).then(Object(p.c)()).then((function(e){return{uploadImageResult:e,imageUploading:!1}})).catch((function(e){return{uploadImageResult:!1,imageUploading:!1,uploadImageResultError:e.message||e}})));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,o,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.b)(),n=a.catalogApi,o=a.token,r=n+"/catalogApi/api/v1/catalog",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o},body:JSON.stringify(t)},e.abrupt("return",fetch(r,i).then(Object(p.c)()).then((function(e){return{saveCatalogResult:e,activeCatalogItem:t,catalogListLoading:!1,catalogListLoadError:!1}})).catch((function(e){return{success:!1,catalogListLoading:!1,catalogListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,o,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.b)(),a=t.catalogApi,n=t.token,o=t.userDomain,r=a+"/catalogApi/api/v1/catalog/domain/"+o,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(r,i).then(Object(p.c)()).then((function(e){return{catalogList:e,catalogListLoading:!1,catalogListLoadError:!1}})).catch((function(e){return{catalogList:[],catalogListLoading:!1,catalogListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t){var a=[].concat(e);return a.sort((function(e,a){var n=e.categories&&e.categories.length>0,o=a.categories&&a.categories.length>0,r=n?e.categories.filter((function(e){return e._id===t})):[],i=o?a.categories.filter((function(e){return e._id===t})):[];return r.length>0&&i.length>0?r[0].sort-i[0].sort:r.length>0?-1:1})),console.log("catalogList sort",a),a},O=function(e,t,a){var n=Object.assign({},e),o=Object.assign({},a),r=n.categories.filter((function(e){return e._id===t._id})),i=o.categories.filter((function(e){return e._id===t._id}));if(r.length>0&&i.length>0){var c=i[0].sort;i[0].sort=r[0].sort,r[0].sort=c}return{target:n,swap:o}},x=null,S=function(){return{activeCatalogItem:null,catalogList:[],catalogListFiltered:[],catalogListOutCategory:[],catalogListNoCategory:[],catalogTotals:[],catalogListLoading:!1,catalogListLoadError:!1,savingCatalogSort:!1,catalogListInit:!1,catalogStatusLoading:!1,categorySelected:null,catalogSearchText:"",imageUploading:!1,onCatalogListInit:W,onSetActiveCatalogItem:z,onSaveCatalogItem:P,onUploadImage:F,onCreateNewCatalog:_,onDeleteCatalog:B,onSetCatalogStatus:N,onAddCategoryToCatalog:T,onRemoveCategoryFromCatalog:D,onCategorySelectChange:R,onCatalogOrderChange:I,onCatalogSearch:k,onClearCatalogError:j,onSetCatalogTotals:H,getCatalogCategorySort:A}},j=function(){x.setState({catalogListLoadError:!1})},A=function(e){return function(e,t){var a=0;return t.forEach((function(t){t.categories.forEach((function(t){t._id===e&&t.sort>a&&(a=t.sort)}))})),a+1}(e,x.state.catalogList)},k=function(e){var t=e.toLowerCase(),a=x.state.catalogList.filter((function(e){return e.shortDesc.toLowerCase().indexOf(t)>-1||e.modelNumber.toLowerCase().indexOf(t)>-1})),n=w(a,x.state.categorySelected&&x.state.categorySelected._id);x.setState({catalogSearchText:e,catalogListFiltered:n})},I=function(){var e=Object(l.a)(c.a.mark((function e(t,a,n){var o,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x.setState({savingCatalogSort:!0}),o=O(t,a,n),r=o.target,i=o.swap,e.next=5,M(r,!1);case 5:return e.next=7,M(i,!1);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:x.setState({savingCatalogSort:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),R=function(e){var t=w(x.state.catalogList,e._id),a=function(e,t){var a=[].concat(e),n=[],o=[];return a.forEach((function(a){(e?a.categories.filter((function(e){return e._id===t})):[]).length>0?n.push(a):o.push(a)})),{filterCatalogIn:n,filterCatalogOut:o}}(t,e._id),n=a.filterCatalogIn,o=a.filterCatalogOut,r=function(e){var t=[].concat(e),a=[];return t.forEach((function(e){0===e.categories.length&&a.push(e)})),a}(t);x.setState({catalogListFiltered:n,catalogListOutCategory:o,categorySelected:e,catalogListNoCategory:r})},T=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,o,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.catalog,n=t.category,o=1,x.state.catalogList.forEach((function(e){var t=e.categories.filter((function(e){return e._id===n._id}));t.length>0&&t[0].sort>o&&(o=t[0].sort)})),x.setState({catalogStatusLoading:a._id,catalogListLoading:!0}),r=Object.assign({},a,{categories:[Object.assign({},n,{sort:o+1})].concat(a.categories)}),e.next=7,M(r,!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,o,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.catalog,n=t.categoryId,x.setState({catalogStatusLoading:a._id,catalogListLoading:!0}),o=a.categories.filter((function(e){return e._id!==n})),r=Object.assign({},a,{categories:o}),e.next=6,M(r,!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,o,r,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.setState({catalogStatusLoading:a,activeCatalogItem:null}),e.next=4,h(t,a);case 4:n=e.sent,o=n.saveCatalogStatusResult,r=n.catalogListLoadError,n.success&&o.modifiedCount>0?(i=x.state.catalogList.map((function(e){return e._id===a?Object.assign({},e,{status:t}):e})),l=w(i,x.state.categorySelected&&x.state.categorySelected._id),x.setState({catalogList:i,catalogListFiltered:l,catalogStatusLoading:!1,catalogListLoadError:r})):x.setState({catalogStatusLoading:!1,catalogListLoadError:r});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.setState({catalogListLoading:!0}),e.next=3,v(t);case 3:(a=e.sent).catalogList=x.state.catalogList.filter((function(e){return e._id!==t._id})),a.catalogListFiltered=w(a.catalogList,x.state.categorySelected&&x.state.categorySelected._id),a.activeCatalogItem=null,x.setState(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.setState({imageUploading:!0}),!a){e.next=4;break}return e.next=4,y(a);case 4:return e.next=6,E(t,540);case 6:return n=e.sent,x.setState({imageUploading:!1}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.setState({catalogListInit:!0}),e.next=3,a=void 0,n=void 0,o=void 0,r=void 0,a=Object(f.b)(),n=a.catalogApi,o=a.token,r=a.userDomain,fetch(n+"/catalogapi/api/v1/catalog/new/"+r,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}}).then(Object(p.c)()).then((function(e){return{activeCatalogItem:e,catalogListLoading:!1,catalogListLoadError:!1}})).catch((function(e){return{activeCatalogItem:null,catalogListLoading:!1,catalogListLoadError:e.message||e}}));case 3:t=e.sent,x.setState(t);case 5:case"end":return e.stop()}var a,n,o,r}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(c.a.mark((function e(t,a,n,o,r){var i,l,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a&&a.id&&a.id.length>0)){e.next=10;break}return x.setState({catalogListLoading:!0}),i=Object.assign({},a,{willFitWidth:n,colorRgb:o,colorRgbOther:r}),l=t.images&&t.images.find((function(e){return e.id===i.id})),s=t.images&&t.images.length>1&&l?t.images.map((function(e){return e.id===i.id?i:e})):[i],u=Object.assign({},t,{images:s}),e.next=8,M(u);case 8:e.next=11;break;case 10:Object(p.f)("Select a picture before saving");case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,o,r){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),e.next=3,C(t);case 3:(n=e.sent).saveCatalogResult&&n.saveCatalogResult.modifiedCount>0?(n.catalogList=x.state.catalogList.map((function(e){return e._id===t._id?t:e})),n.catalogListFiltered=w(n.catalogList,x.state.categorySelected&&x.state.categorySelected._id)):n.saveCatalogResult&&n.saveCatalogResult.upsertedCount>0&&(n.catalogList=[].concat(x.state.catalogList,[t]),n.catalogListFiltered=w(n.catalogList,x.state.categorySelected&&x.state.categorySelected._id)),a||(n.activeCatalogItem=null),n.catalogStatusLoading=!1,x.setState(n);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(e){x.setState({activeCatalogItem:e})},W=function(){x.setState({catalogListInit:!0}),L().then((function(e){e.catalogListFiltered=e.catalogList,x.setState(e)}))},H=function(e,t){var a,n,o,r,i=(n=e,o=[].concat(a=t),r=[],n.forEach((function(e){var t=0,n=0;o.forEach((function(o,i){if((a?o.categories.filter((function(t){return t._id===e._id})):[]).length>0&&("active"===o.status?t++:n++),i===a.length-1){var c={activeTotal:t,disabledTotal:n,_id:e._id};r.push(c)}}))})),r);x.setState({catalogTotals:i}),console.log(i)},U=Object(m.a)(S,(function(e){return x=e,S()})),Y=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,o,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.b)(),a=t.catalogApi,n=t.token,o=t.userDomain,r=a+"/catalogApi/api/v1/category/domain/"+o,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(r,i).then(Object(p.c)()).then((function(e){return{categoryList:e,categoryListLoading:!1}})).catch((function(e){return{categoryList:[],categoryListLoading:!1,categoryListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,o,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.b)(),n=a.catalogApi,o=a.token,r=n+"/catalogApi/api/v1/Category",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o},body:JSON.stringify(t)},e.abrupt("return",fetch(r,i).then(Object(p.c)()).then((function(e){return{saveCategoryResult:e,activeCategoryItem:t,categoryListLoading:!1}})).catch((function(e){return{success:!1,categoryListLoading:!1,categoryListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=null,Z=function(){return{activeCategoryItem:null,categoryList:[],categoryListLoading:!1,categoryListInit:!1,onCategoryListInit:J,onSetActiveCategoryItem:K,onSaveCategoryItem:X,onCreateNewCategory:q,onDeleteCategory:Q}},J=function(){V.setState({categoryListInit:!0}),Y().then((function(e){V.setState(e)}))},K=function(e){V.setState({activeCategoryItem:e})},X=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isNew&&delete t.isNew,(a=G(t)).categoryList=V.state.categoryList.map((function(e){return e._id===t._id?t:e})),V.setState(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V.setState({categoryListInit:!0}),e.next=3,a=void 0,n=void 0,o=void 0,r=void 0,a=Object(f.b)(),n=a.catalogApi,o=a.token,r=a.userDomain,fetch(n+"/catalogapi/api/v1/category/new/"+r,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}}).then(Object(p.c)()).then((function(e){return{activeCategoryItem:e,categoryListLoading:!1}})).catch((function(e){return{activeCategoryItem:null,categoryListLoading:!1,categoryListLoadError:e.message||e}}));case 3:(t=e.sent).categoryList=[t.activeCategoryItem].concat(V.state.categoryList),V.setState(t);case 6:case"end":return e.stop()}var a,n,o,r}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V.setState({categoryListLoading:!0}),e.next=3,n=t._id,o=void 0,r=void 0,i=void 0,o=Object(f.b)(),r=o.catalogApi,i=o.token,fetch(r+"/catalogapi/api/v1/category/"+n,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+i}}).then(Object(p.c)()).then((function(e){return{deleteCategoryResult:e,categoryListLoading:!1}})).catch((function(e){return{deleteCategoryResult:!1,categoryListLoading:!1,deleteCategoryResultError:e.message||e}}));case 3:(a=e.sent).categoryList=V.state.categoryList.filter((function(e){return e._id!==t._id})),a.activeCategoryItem=null,V.setState(a);case 7:case"end":return e.stop()}var n,o,r,i}),e)})));return function(t){return e.apply(this,arguments)}}(),$=Object(m.a)(Z,(function(e){return V=e,Z()})),ee=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,o,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.b)(),a=t.catalogApi,n=t.token,o=t.userDomain,r=a+"/catalogApi/api/v1/company/locations/"+o,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(r,i).then(Object(p.c)()).then((function(e){return{locationList:e,locationListLoading:!1}})).catch((function(e){return{locationList:[],locationListLoading:!1,locationListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,o,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.b)(),n=a.catalogApi,o=a.token,r=n+"/catalogApi/api/v1/company/location",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o},body:JSON.stringify(t)},e.abrupt("return",fetch(r,i).then(Object(p.c)()).then((function(e){return{saveLocationResult:e,activeLocationItem:t,locationListLoading:!1}})).catch((function(e){return{success:!1,locationListLoading:!1,locationListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=null,ne=function(){return{activeLocationItem:null,locationList:[],locationListLoading:!1,locationListInit:!1,onLocationListInit:oe,onSetActiveLocationItem:re,onSaveLocationItem:ie,onCreateNewLocation:ce,onDeleteLocation:le}},oe=function(){ae.setState({locationListInit:!0}),ee().then((function(e){ae.setState(e)}))},re=function(e){ae.setState({activeLocationItem:e})},ie=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isNew&&delete t.isNew,(a=te(t)).locationList=ae.state.locationList.map((function(e){return e._id===t._id?t:e})),ae.setState(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae.setState({locationListInit:!0}),e.next=3,a=void 0,n=void 0,o=void 0,r=void 0,a=Object(f.b)(),n=a.catalogApi,o=a.token,r=a.userDomain,fetch(n+"/catalogapi/api/v1/company/location/new/"+r,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}}).then(Object(p.c)()).then((function(e){return{activeLocationItem:e,locationListLoading:!1}})).catch((function(e){return{activeLocationItem:null,locationListLoading:!1,locationListLoadError:e.message||e}}));case 3:(t=e.sent).locationList=[t.activeLocationItem].concat(ae.state.locationList),ae.setState(t);case 6:case"end":return e.stop()}var a,n,o,r}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae.setState({locationListLoading:!0}),e.next=3,n=t._id,o=void 0,r=void 0,i=void 0,o=Object(f.b)(),r=o.catalogApi,i=o.token,fetch(r+"/catalogapi/api/v1/company/location/"+n,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+i}}).then(Object(p.c)()).then((function(e){return{deleteLocationResult:e,locationListLoading:!1}})).catch((function(e){return{deleteLocationResult:!1,locationListLoading:!1,deleteLocationResultError:e.message||e}}));case 3:(a=e.sent).locationList=ae.state.locationList.filter((function(e){return e._id!==t._id})),a.activeLocationItem=null,ae.setState(a);case 7:case"end":return e.stop()}var n,o,r,i}),e)})));return function(t){return e.apply(this,arguments)}}(),se=Object(m.a)(ne,(function(e){return ae=e,ne()})),ue=function(e){var t=e.children;return o.a.createElement(d.a.ModelProvider,null,o.a.createElement(U.ModelProvider,null,o.a.createElement($.ModelProvider,null,o.a.createElement(se.ModelProvider,null,t))))},ge=a(104),de=function(){var e=Object(n.useState)(window.innerWidth<=760),t=e[0],a=e[1],o=function(){a(window.innerWidth<=760)};return Object(n.useEffect)((function(){return window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),[]),t};var me,fe=a(218),pe=a(165),he=a(5960),ve=a(5965),be=a(5966),ye=a(5967),Ee=[{label:"Home",icon:ve.a,selected:!(window.location.href.includes("location")||window.location.href.includes("category")||window.location.href.includes("keyLogs")),link:"#/",route:"/",isMobile:!0},{label:"Category",icon:be.a,selected:window.location.href.includes("category"),link:"#/category",route:"/category",isMobile:!0},{label:"Locations",icon:ye.a,selected:window.location.href.includes("location"),link:"#/location",route:"/location",isMobile:!0}],Ce=a(35),Le=me?Ee.filter((function(e){return e.isMobile})):Ee,we=[{label:"Logout",icon:he.a,link:"#/logout"}],Oe=Object(p.a)((function(e){var t=e.children,a=(e.firstName,e.lastName,e.userLoggedIn,e.picUrl,e.userFeatures),n=de(),r=xe(n),i=Object(Ce.b)(),c=i.isLoading,l=i.user,s=Le.filter((function(e){return void 0===e.featureId||a.indexOf(e.featureId)>-1})),u=Object(f.b)();return c||(console.log("---- Full Menu ----"),console.log(l)),l&&(u.token&&""===u.userDomain&&Object(f.h)(l),u.picUrl=l.picture,u.name=l.name),u.name&&o.a.createElement("div",null,o.a.createElement(fe.SideStrip,{mainLinks:s,bottomLinks:we,onMenuClose:function(){},expandMenu:!1,userLabel:u.name,imageUrl:decodeURIComponent(u.picUrl)}),o.a.createElement("div",{className:r.mainContainer},t))||o.a.createElement("div",null,t)}),[d.a]),xe=function(e){return Object(pe.a)({mainContainer:{marginLeft:e?7:70,marginRight:7}})()},Se=a(41),je=a(5957),Ae=a(5958),ke=a(5959),Ie=a(164),Re=a(5968),Te=o.a.createElement(Se.a,null,"You have been logged out."),De=o.a.createElement("span",null,"... logging out please wait"),Ne=Object(p.a)((function(e){var t=e.onNotifyMainNavOfLogOff,a=e.userLoggedIn,r=Be(),i=Object(Ce.b)(),c=i.loginWithRedirect,l=i.logout,s=i.isAuthenticated,u=i.isLoading;return Object(n.useEffect)((function(){Object(f.a)(),s&&l({returnTo:window.location.origin+"/#/login"}),localStorage.removeItem("token"),localStorage.removeItem("featurePermissions"),a&&t()})),o.a.createElement("form",{id:"logout-submit",className:r.mainContainer},!u&&!s&&o.a.createElement(je.a,{style:{display:"flex"}},o.a.createElement("div",{className:r.outerCard},o.a.createElement(Ae.a,{className:r.cardContainer},o.a.createElement("img",{src:"retail-shop-flat-icon_small.jpg",className:r.logo}),o.a.createElement("div",{className:r.messageContainer},o.a.createElement(Re.a,{className:r.iconSpacing}),Te)),o.a.createElement(ke.a,null,o.a.createElement(Ie.a,{variant:"contained",color:"secondary",className:r.actionButton,onClick:function(){c()}},o.a.createElement(he.a,{style:{marginRight:10}})," Login")))),(u||s)&&De)}),[d.a]),Be=Object(pe.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"auto"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"}}),Fe=a(5971),_e=a(5972),Pe=a(115),Me=a(5970),ze=a(229),We=a(5969),He=o.a.createElement(We.a,null),Ue=function(e){var t=e.onSearchChange,a=Ye();return o.a.createElement("div",{className:a.search},o.a.createElement("div",{className:a.searchIcon},He),o.a.createElement(ze.a,{placeholder:"Search…",onChange:function(e){return t(e.target.value)},classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}}))},Ye=Object(pe.a)((function(e){var t;return{inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},t[e.breakpoints.up("md")]={},t),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}})),Ge=a(4),Ve=a.n(Ge),Ze=Object(pe.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginLeft:-20,boxShadow:"0 0"},rootMobile:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginTop:0,marginLeft:20,boxShadow:"0 0",width:"unset"},toolBar:{minHeight:38,height:38},avatar:{backgroundColor:"transparent",color:e.palette.primary.main,marginRight:15,marginLeft:-15},searchTextContainer:{display:"flex",position:"absolute",right:5,top:7},childContainerNoSearch:{display:"flex"},childContainer:{display:"flex",right:270,top:7,marginLeft:8},searchTextBox:{width:120},searchTextLabel:{marginRight:"5px",marginTop:"6px"},menuButton:{marginLeft:-18,marginRight:10},labelTitle:{color:e.palette.primary.main,display:"flex"},labelTitleWithTextBox:{color:e.palette.primary.main,marginRight:28,display:"flex",marginTop:12}}})),Je=o.a.createElement(Me.a,null),Ke=o.a.createElement(Me.a,null),Xe=function(e){var t=e.title,a=(e.LeftIcon,e.onSearchChange),n=e.hideSearch,r=e.onAdd,i=e.addLabel,c=e.children,l=e.childHasTextBox,s=(e.onAvatarClick,de()),u=Ze();return o.a.createElement(Fe.a,{className:s?u.rootMobile:u.root,position:"static"},o.a.createElement(_e.a,{variant:"dense"},o.a.createElement("span",{className:l?u.labelTitleWithTextBox:u.labelTitle},o.a.createElement(Se.a,{variant:"h6",color:"inherit"},t)),r&&!s&&o.a.createElement(Ie.a,{variant:"outlined",color:"secondary",onClick:r,startIcon:Je,style:{marginLeft:20}},i||"Add"),r&&s&&o.a.createElement(Pe.a,{color:"secondary",onClick:r,style:{marginLeft:10}},Ke),o.a.createElement("span",{className:n||void 0===a||l?u.childContainerNoSearch:u.childContainer},c),!0!==n&&void 0!==a&&o.a.createElement("span",{className:u.searchTextContainer},o.a.createElement("span",{className:u.searchTextBox},o.a.createElement(Ue,{onSearchChange:function(e){return a(e)}})))))};Ve.a.elementType.isRequired,Ve.a.string;var qe=a(6004),Qe=a(5976),$e=a(5977),et=a(6012),tt=a(5978),at=a(5973),nt=a(5974),ot=a(5975),rt=a(116),it=Object(f.b)().catalogApi,ct=o.a.createElement(at.a,null),lt=o.a.createElement(at.a,null),st=o.a.createElement(nt.a,{fontSize:"large"}),ut=o.a.createElement(ot.a,{fontSize:"large"}),gt=function(e){var t,a,r,i,c=e.catalog,l=e.onClick,s=e.inEdit,u=e.onSetStatus,g=e.disableEdit,d=e.isSaving,m=e.category,f=e.savingCatalogSort,h=e.onAddCategory,v=e.onRemoveCategory,b=e.onOrderChange,y=e.prevCatalog,E=e.nextCatalog,C=(t=function(e){var t="",a="";return e<550?(t="93vw",a="72.54vw"):e<700?(t="46vw",a="35.88vw"):e<1200?(t="30vw",a="24.3vw"):(t="15vw",a="11.7vw"),{widthCalc:t,heightPicCalc:a}},a=Object(n.useState)(t(window.innerWidth)),r=a[0],i=a[1],Object(n.useEffect)((function(){function e(){var e=t(window.innerWidth);i(e)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),r),L=C.widthCalc,w=C.heightPicCalc,O=s?"100%":L,x=c.images&&c.images.length>0,S=x?c.images[0].id:"5f41d4dac6f0db5918e4cb20",j=dt({widthValue:O,heightValue:w}),A=x&&c.images[0].willFitWidth,k=x&&c.images[0].colorRgb,I=x&&c.images[0].colorRgbOther,R=(m&&c.categories.filter((function(e){return e._id===m._id}))||[]).length>0,T=m&&m._id;return o.a.createElement(je.a,{className:j.card},o.a.createElement("div",{className:j.cardContainer},!g&&(d?o.a.createElement(Qe.a,{control:ct,label:"Saving",style:{minHeight:42,marginLeft:10}}):o.a.createElement(Qe.a,{control:o.a.createElement($e.a,{checked:"active"===c.status,onChange:function(e){var t=e.target.checked?"active":"disabled";u(t,c._id)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:"Show",style:{marginLeft:3,marginRight:0}})),!g&&(d?o.a.createElement(Qe.a,{control:lt,label:"Saving",style:{minHeight:42,marginLeft:10}}):T&&o.a.createElement(Qe.a,{control:o.a.createElement(et.a,{checked:R,onChange:function(e){e.target.checked?h({catalog:c,category:m}):v({catalog:c,categoryId:m._id})},inputProps:{"aria-label":"primary checkbox"}}),label:"Categ...",style:{marginLeft:3}})),o.a.createElement("div",{className:j.catPrice},"$",Object(p.g)(c.unitPrice)),T&&!f&&y&&R&&o.a.createElement(Pe.a,{"aria-label":"Up",size:"medium",className:j.buttonLeft,onClick:function(){return b(c,m,y)}},st),o.a.createElement(Ae.a,{onClick:function(){l&&l()},className:A?j.imageBoxWidth:j.imageBoxHeight},o.a.createElement(rt.PicRatioView,{src:it+"/catalogApi/api/v1/catalog/file/"+S,width:O,height:w,colorRgb:k,colorRgbOpposite:I,willFitWidth:A})),T&&!f&&E&&R&&o.a.createElement(Pe.a,{"aria-label":"Up",className:j.buttonRight,onClick:function(){return b(c,m,E)}},ut),o.a.createElement(tt.a,{title:c.shortDesc,subheader:c.extraDesc||"_",classes:{title:j.cardTitle,subheader:j.cardSubheader,content:j.cardRoot}})))},dt=Object(pe.a)({catPrice:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#000000ba","border-bottom-right-radius":10,color:"white"},card:{width:function(e){return e.widthValue},marginBottom:20,backgroundColor:"#d0c6c626"},cardContainer:{position:"relative"},cardTitle:{fontSize:16,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cardSubheader:{fontSize:14,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cardRoot:{width:"100%"},imageBoxHeight:{width:function(e){return e.widthValue},height:function(e){return e.heightValue},overflow:"hidden",backgroundColor:"#afcdee",display:"flex",padding:0},imageBoxWidth:{width:function(e){return e.widthValue},height:function(e){return e.heightValue},overflow:"hidden",backgroundColor:"#afcdee",padding:0},buttonUp:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",top:40,width:50,height:50},buttonDown:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",bottom:75,width:50,height:50},buttonLeft:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:5,top:"calc(50% - 20px)",width:50,height:50},buttonRight:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",top:"calc(50% - 20px)",right:5,width:50,height:50}}),mt=a(7),ft=a(5992),pt=a(5984),ht=a(153),vt=a(6014),bt=a(5985),yt=a(56),Et=a(119),Ct=a(5979),Lt=a(5983),wt=a(5981),Ot=a(5982),xt=a(5980),St=function(e){var t=e.onClick,a=e.children,r=e.title,i=e.message,c=Object(Et.a)(e,["onClick","children","title","message"]),l=o.a.useState(!1),s=l[0],u=l[1],g=function(){u(!1)};return o.a.createElement(n.Fragment,null,o.a.createElement(Ie.a,Object(yt.a)({},c,{onClick:function(){u(!0)}}),a),o.a.createElement(Ct.a,{open:s,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(xt.a,{id:"alert-dialog-title"},r),o.a.createElement(wt.a,null,o.a.createElement(Ot.a,{id:"alert-dialog-description"},i)),o.a.createElement(Lt.a,null,o.a.createElement(Ie.a,{onClick:g,color:"primary"},"Cancel"),o.a.createElement(Ie.a,{onClick:function(){u(!1),t()},variant:"contained",color:"primary",autoFocus:!0},"OK"))))},jt=Object(f.b)().catalogApi,At=o.a.createElement(pt.a,{position:"start"},"$"),kt=o.a.createElement(bt.a,null),It=o.a.createElement("span",null,"Saving..."),Rt=o.a.createElement("span",null,"Uploading..."),Tt=o.a.createElement("img",{width:532,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII="}),Dt=Object(p.a)((function(e){var t=e.activeCatalogItem,a=e.onSaveCatalogItem,r=e.catalogListLoading,i=e.onUploadImage,s=e.onDeleteCatalog,u=e.imageUploading,g=e.categoryList,d=(e.onAddCategoryToCatalog,e.onRemoveCategoryFromCatalog,e.getCatalogCategorySort),m=t.images&&t.images.length>0,f=!!m&&t.images[0].id,h=m?jt+"/catalogApi/api/v1/catalog/file/"+f:null,v=m?t.images[0].colorRgb:[0,0,0],b=m?{id:t.images[0].id,fileName:t.images[0].fileName}:null,y=Object(n.useState)(Object.assign({},t)),E=y[0],C=y[1],L=Object(n.useState)(h),w=L[0],O=L[1],x=Object(n.useState)(b),S=x[0],j=x[1],A=Object(n.useState)(!m||t.images[0].willFitWidth),k=A[0],I=A[1],R=Object(n.useState)(v),T=R[0],D=R[1],N=Object(n.useState)(v),B=N[0],F=N[1],_=Object(n.useState)(E.unitPrice),P=_[0],M=_[1],z=function(e,t){var a;return C(Object.assign({},E,((a={})[e]=t,a)))},W=Nt();Object(n.useEffect)((function(){if(t._id!==E._id){var e=t.images&&t.images.length>0;C(Object.assign({},t)),M(t.unitPrice),O(h),D(v),j(b),I(e&&t.images[0].willFitWidth)}}));return o.a.createElement("div",{className:W.rootContainer},o.a.createElement(ht.a,{className:W.paperEntryContainer},o.a.createElement("div",{className:W.editContainer},o.a.createElement("div",{className:W.textContainer},o.a.createElement(vt.a,{style:{width:"60%"},label:"Short Desc",value:E.shortDesc,onChange:function(e){return z("shortDesc",e.target.value)}}),o.a.createElement(vt.a,{style:{width:"32%"},label:"Model #",value:E.modelNumber||"",onChange:function(e){return z("modelNumber",e.target.value)}})),o.a.createElement("div",null,o.a.createElement(Qe.a,{control:o.a.createElement($e.a,{checked:"active"===E.status,onChange:function(e){var t=e.target.checked?"active":"disabled";z("status",t)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:"Show"}))),o.a.createElement(vt.a,{style:{width:"30%"},label:"Unit Price:$ "+Object(p.g)(E.unitPrice),value:P||"",InputProps:{startAdornment:At},onChange:function(e){M(e.target.value),z("unitPrice",parseFloat(e.target.value))}}),o.a.createElement(vt.a,{style:{width:"62%"},label:"Extra Desc",value:E.extraDesc,onChange:function(e){return z("extraDesc",e.target.value)}}),o.a.createElement(vt.a,{style:{width:"100%"},multiline:!0,rowsMax:4,label:"Description",value:E.description,onChange:function(e){return z("description",e.target.value)}}),o.a.createElement("div",null,g&&g.map((function(e){var t=E.categories.find((function(t){return t._id===e._id}));return o.a.createElement(Qe.a,{key:e._id,control:o.a.createElement(et.a,{checked:void 0!==t,onChange:function(a){var n,o,r;void 0===t&&a.target.checked?(n={catalog:E,category:e}.category,o=Object.assign({},E),r=d(n._id),o.categories=[].concat(o.categories,[Object.assign({},n,{sort:r})]),console.log(r),C(o)):function(e){var t=e.categoryId,a=Object.assign({},E);a.categories=a.categories.filter((function(e){return e._id!==t})),C(a)}({catalog:E,categoryId:e._id})},inputProps:{"aria-label":"primary checkbox"}}),label:e.category})}))),!r&&!u&&o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},o.a.createElement("div",null,o.a.createElement("input",{type:"file",name:"myFile",id:"myFile",onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files),(a=new FileReader).onload=function(e){console.log("image read locally"),O(e.target.result)},a.readAsDataURL(t.target.files[0]),e.next=6,i(t.target.files[0],f);case 6:(n=e.sent).uploadImageResult&&j(n.uploadImageResult);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),o.a.createElement("div",null,o.a.createElement(Ie.a,{variant:"contained",color:"primary",startIcon:kt,style:{marginRight:20},onClick:function(){return a(E,S,k,T,B)}},"Save"),o.a.createElement(St,{onClick:function(){return s(E)},title:"Are You Sure?",message:'Are You Sure you want to delete "'+E.shortDesc+'"?'},"Delete"))),r&&It,u&&Rt),null!==w?o.a.createElement(rt.PicRatioFill,{width:532,height:415,src:w,onChangeColors:function(e){D(e.colorRgb),F(e.colorRgbOpposite),I(e.willFitWidth)}}):Tt)}),[U,$]),Nt=Object(pe.a)({rootContainer:{display:"flex"},picBorderHeight:{width:"50%",height:415,zIndex:1},picBorderWidth:{width:"100%",height:"50%",zIndex:1},imageBoxHeight:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee",display:"flex"},imageBoxWidth:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee"},fixHeight:{height:"100%",marginLeft:"auto",marginRight:"auto",position:"relative",zIndex:2},fixWidth:{width:"inherit",position:"absolute",transform:"translateY(-50%)",zIndex:2},editContainer:{display:"flex",justifyContent:"space-between"},textContainer:{"& > *":{margin:7}},paperEntryContainer:{"& > *":{margin:7},padding:10,width:"100%",marginBottom:15,backgroundColor:"#f2f0ea"}}),Bt=a(5990),Ft=a(5993),_t=a(6017),Pt=a(215),Mt=a(148),zt=a(178),Wt=a(5991),Ht=(_t.a,Pt.a,Wt.a,Pt.a,Wt.a,Object(pe.a)({iconRight:{position:"absolute",right:5,top:function(e){return e.closeButtonTopOffset||-7}},textDisplay:{maxWidth:"calc(100% - 50px)",overflow:"hidden",fontSize:14},itemContainer:{minHeight:20,paddingTop:4,paddingBottom:4}}),ft.a,a(5988)),Ut=a(170),Yt=a(6016),Gt=a(5986),Vt=a(5996),Zt=a(5989),Jt=a(225),Kt=a(5994),Xt=a(5995),qt=o.a.createElement(Ft.a,null,"No Data"),Qt=o.a.createElement(Ft.a,null,"No Data"),$t=function(e){function t(t){var a;a=e.call(this)||this;var n=t.maxArrayLength||7;return a.optionActiveRef=o.a.createRef(),a.state={showFullList:t.showFullList||!1,showDropDown:t.showDropDown||!1,searchString:"",filteredPageOptions:t.options.slice(0,7),filteredAllOptions:t.options,autoFocus:t.autoFocus,hasFocusOptionList:!1,hasFocusTextBox:!1,selectedIndex:0,maxArrayLength:n,anchorEl:null},a}Object(s.a)(t,e),t.getValueDisplay=function(e){var t=e.selected&&e.options.filter((function(t){return t[e.keyField]===e.selected[e.keyField]}))||[];return t.length>0?t[0][e.displayField]:""};var a=t.prototype;return a.onShowDropDown=function(e){this.setState({anchorEl:e.currentTarget,showDropDown:!0,filteredPageOptions:this.props.options.slice(0,7),filteredAllOptions:this.props.options})},a.hideDropDown=function(){this.setState({showDropDown:!1})},a.onKeyPress=function(e){13===e.keyCode?!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex?this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]):this.state.showFullList&&this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]):40===e.keyCode?(this.state.showFullList&&this.state.filteredAllOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop))),!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop)))):38===e.keyCode&&this.state.selectedIndex>0&&(this.setState({selectedIndex:this.state.selectedIndex-1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop-46):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop-46)))},a.onSearchChange=function(e){var t=this;if(""!==e){var a=e&&e.toLowerCase?this.props.options.filter((function(a){return Object(p.b)(a,t.props.displayField).toLowerCase().indexOf(e.toLowerCase())>-1})):[];this.setState({searchString:e,filteredPageOptions:a.slice(0,7),selectedIndex:0,filteredAllOptions:a})}else this.setState({searchString:e,filteredPageOptions:this.props.options.slice(0,7),selectedIndex:0,filteredAllOptions:this.props.options})},a.onItemSelect=function(e){e&&(this.props.onChange(e),this.setState({showDropDown:!1,searchString:""}))},a.onSetAnchor=function(e){null===this.state.anchorEl&&null!=e&&this.setState({anchorEl:e})},a.render=function(){var e=this,t=this.constructor.getValueDisplay(this.props),a=this.props,n=a.label,r=a.classes,i=this.state,c=i.anchorEl,l=i.showDropDown,s=Boolean(c)&&l;return o.a.createElement("div",{className:r.root},o.a.createElement(Ht.a,{style:{width:"100%"}},o.a.createElement(Ut.a,{onClickAway:function(){return e.hideDropDown()}},o.a.createElement("div",null,this.state.showDropDown?o.a.createElement(Ht.a,{style:{width:"100%"}},n&&n.length>0&&o.a.createElement(Yt.a,{htmlFor:"age-simple"},n),o.a.createElement(Gt.a,{value:this.state.searchString,ref:function(t){e.onSetAnchor(t)},autoFocus:this.state.autoFocus,onChange:function(t){return e.onSearchChange(t.target.value)},onKeyDown:function(t){return e.onKeyPress(t)},endAdornment:o.a.createElement(pt.a,{position:"end"},o.a.createElement(We.a,{style:{marginRight:10},color:"primary"}),this.props.onClose&&o.a.createElement(Kt.a,{style:{marginRight:10,cursor:"pointer"},color:"primary",onClick:function(){return e.props.onClose()}}))})):o.a.createElement(Ht.a,{style:{width:"100%"}},n&&n.length>0&&o.a.createElement(Yt.a,{htmlFor:"age-simple"},n),o.a.createElement(Gt.a,{autoFocus:this.state.autoFocus,value:t,onClick:function(t){return e.onShowDropDown(t)},onKeyDown:function(t){return e.onShowDropDown(t)},endAdornment:o.a.createElement(pt.a,{position:"end"},o.a.createElement(Xt.a,{style:{marginRight:10},color:"primary"}))})),o.a.createElement(Vt.a,{open:s,anchorEl:c,style:{position:"fixed",zIndex:9999},transition:!0,disablePortal:!0},(function(t){var a=t.TransitionProps,n=t.placement;return o.a.createElement(Zt.a,Object(yt.a)({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),o.a.createElement(ht.a,null,!e.state.showFullList&&o.a.createElement(Bt.a,null,e.props.topControl,e.state.filteredPageOptions.length>0&&e.state.filteredPageOptions.map((function(t,a){return o.a.createElement(Ft.a,{key:a,selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(p.b)(t,e.props.displayField))})),0===e.state.filteredPageOptions.length&&qt,e.state.filteredPageOptions.length>0&&e.state.maxArrayLength===e.state.filteredPageOptions.length&&o.a.createElement(Se.a,{color:"textSecondary",className:r.noOptionsMessage},"...")),e.state.showFullList&&o.a.createElement("div",{style:{maxHeight:300,maxWidth:300,overflow:"auto"},ref:function(t){e.optionContainerRef=t}},o.a.createElement(Bt.a,null,e.props.topControl,e.state.filteredAllOptions.length>0&&e.state.filteredAllOptions.map((function(t,a){return a===e.state.selectedIndex?o.a.createElement("span",{key:a,ref:function(t){e.optionActiveRef=t}},o.a.createElement(Ft.a,{selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(p.b)(t,e.props.displayField))):o.a.createElement(Ft.a,{key:a,selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(p.b)(t,e.props.displayField))})),0===e.state.filteredAllOptions.length&&Qt))))}))))))},t}(o.a.Component),ea=Object(Jt.a)((function(e){return{root:{flexGrow:1,zIndex:99999999,position:"relative"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:56},noOptionsMessage:{padding:e.spacing(1)+"px "+e.spacing(2)+"px"}}}))($t),ta=a(5998),aa=a(5997),na=(Object(Jt.a)((function(){return{spinnerWrapper:{position:"relative",margin:"auto"},fabProgress:{color:"primary",position:"absolute",left:0,zIndex:1}}}))((function(e){var t=e.classes,a=e.spinnerSize,n=e.style,r=e.loading,i=e.children;return void 0===i||r?o.a.createElement("div",{className:t.spinnerWrapper,style:Object.assign({},n,{width:a})},o.a.createElement(aa.a,{color:"secondary",style:{width:a,height:a}}),o.a.createElement(ta.a,{size:a,className:t.fabProgress})):i})),Object(p.a)((function(e){var t=e.categoryList,a=e.onChange,r=e.categoryListInit,i=e.onCategoryListInit,c=Object(n.useState)(null),l=c[0],s=c[1],u=[{_id:null,category:"All"}].concat(t);return Object(n.useEffect)((function(){r||i()})),o.a.createElement(ea,{label:"Category",showFullList:!0,options:u,keyField:"_id",displayField:"category",onChange:function(e){s(e),a&&a(e)},selected:l})}),[$])),oa=a(6018),ra=a(5999),ia=a(6e3),ca=function(e){var t=e.errorMessage,a=e.onClearErrorMessage,n=e.status,r=!!(t&&t.length>0),i="#ffffff",c=ra.a;return"success"===n&&r?(i="#1ead29",c=ia.a):r&&(i="#ff525b"),o.a.createElement(oa.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:6e3,onClose:a},o.a.createElement(ht.a,{style:{padding:10,backgroundColor:i,display:"flex"},elevation:3},o.a.createElement(c,{style:{marginRight:15,color:"white"}}),o.a.createElement(Se.a,{style:{color:"white"}},t),o.a.createElement(ft.a,{onClick:a,style:{marginLeft:15,color:"white",cursor:"pointer"}})))},la=a(6013),sa=o.a.createElement(Se.a,null,"Items not in any Category"),ua=Object(pe.a)({catalogListComponent:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},container:{display:"block",flexWrap:"wrap",justifyContent:"space-between",width:function(e){return e.inEdit?"24vw":"100%"},overflow:"auto"},noCatalogList:{display:"flex",flexWrap:"nowrap",justifyContent:"space-around"}}),ga=Object(p.a)((function(e){var t=e.catalogListFiltered,a=e.categorySelected,n=e.activeCatalogItem,r=e.onSetCatalogStatus,i=e.onAddCategoryToCatalog,c=e.onRemoveCategoryFromCatalog,l=e.catalogStatusLoading,s=e.onCatalogOrderChange,u=e.savingCatalogSort,g=e.onSetActiveCatalogItem,d=e.catalogListNoCategory,m=null!==n,f=ua({inEdit:m}),p=de();return o.a.createElement("div",{className:f.container},o.a.createElement("div",{className:f.catalogListComponent},t.map((function(e,d){var f=d>0?t[d-1]:null,h=t.length>d-2?t[d+1]:null,v=(a&&h&&h.categories.filter((function(e){return e._id===a._id}))||[]).length>0;return o.a.createElement(gt,{key:""+e._id+e.sort,prevCatalog:f,nextCatalog:v?h:null,inEdit:m,catalog:e,category:a,disableEdit:null!=n,onSetStatus:r,onAddCategory:i,onRemoveCategory:c,isSaving:e._id===l,onOrderChange:s,savingCatalogSort:u,onClick:function(){p||g(e)}})}))),sa,!m&&o.a.createElement("div",{className:f.noCatalogList},d.map((function(e,d){var f=d>0?t[d-1]:null,h=t.length>d-2?t[d+1]:null,v=(a&&h&&h.categories.filter((function(e){return e._id===a._id}))||[]).length>0;return o.a.createElement(gt,{key:""+e._id+e.sort,prevCatalog:f,nextCatalog:v?h:null,inEdit:m,catalog:e,category:a,disableEdit:null!=n,onSetStatus:r,onAddCategory:i,onRemoveCategory:c,isSaving:e._id===l,onOrderChange:s,savingCatalogSort:u,onClick:function(){p||g(e)}})}))))}),[U,$]),da=a(6002),ma=a(6003),fa=a(149),pa=a.n(fa),ha=a(6001).a,va=(be.a,Object(mt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(da.a)),ba=Object(mt.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"},alignItems:"center"},expanded:{}})(ma.a),ya=o.a.createElement(pa.a,null),Ea=o.a.createElement(ha,null),Ca=o.a.createElement(va,null,o.a.createElement(ga,null)),La=o.a.createElement(ft.a,null),wa=o.a.createElement(Dt,null),Oa=Object(p.a)((function(e){var t=e.catalogList,a=(e.catalogListFiltered,e.catalogTotals),r=e.onSetCatalogTotals,i=e.catalogListInit,c=e.onCatalogListInit,l=(e.onAddCategoryToCatalog,e.onRemoveCategoryFromCatalog,e.onSetActiveCatalogItem),s=e.activeCatalogItem,u=(e.onSetCatalogStatus,e.catalogStatusLoading,e.onCategorySelectChange),g=(e.onCatalogOrderChange,e.savingCatalogSort,e.catalogListLoadError),d=e.onClearCatalogError,m=e.categoryList;e.catalogListOutCategory;Object(n.useEffect)((function(){i||c()})),Object(n.useEffect)((function(){0===a.length&&r(m,t)}));de();var f=Object(n.useState)({_id:null,category:"All"}),p=f[0],h=f[1],v=Object(n.useState)(!1),b=v[0],y=v[1],E=null!==s,C=xa({inEdit:E});return o.a.createElement(n.Fragment,null,o.a.createElement(ca,{errorMessage:g&&"Error Saving",onClearErrorMessage:function(){return d(!1)},status:"error"}),o.a.createElement("div",{style:{width:360,marginTop:-10,marginBottom:10}},o.a.createElement(na,{onChange:function(e){h(e),u(e)}})),o.a.createElement("div",{className:C.mainContainer},o.a.createElement("div",{className:C.scrollContainer},o.a.createElement("div",{className:C.container},m.map((function(e,t){var n=a?a.filter((function(t){return t._id===e._id})):[];return o.a.createElement(la.a,{expanded:e._id===p._id,onChange:function(){if(e._id===p._id){var t={_id:null,category:"All"};h(t),u(t)}else h(e),u(e)},onMouseUp:function(){e._id===p._id&&y(!1),e._id!==p._id&&y(!0)},key:e._id,className:C.accordion,hidden:b&&e._id!==p._id},o.a.createElement(ba,{expandIcon:ya},Ea,o.a.createElement(Se.a,{className:C.categoryTitle},e.category),!E&&o.a.createElement(o.a.Fragment,null,n.length>0&&o.a.createElement(Se.a,{style:{marginRight:"10%",position:"absolute",right:30}},"Active: ",n[0].activeTotal," Disabled: ",n[0].disabledTotal," Total: ",n[0].disabledTotal+n[0].activeTotal),e._id===p._id?o.a.createElement(o.a.Fragment,null,o.a.createElement(Ie.a,{variant:"contained",color:"primary",className:C.reorderButton},"Reorder Items")):null)),Ca)})))),E&&o.a.createElement("div",{className:C.containerEdit},o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(Pe.a,{className:C.editControl,onClick:function(){l(null)}},La)),wa)))}),[U,$]),xa=Object(pe.a)({scrollContainer:{height:"calc( 100vh - 120px)",width:function(e){return e.inEdit?"24vw":"100%"},overflow:"auto"},container:{display:"block",flexWrap:"wrap",justifyContent:"space-between",width:"100%"},containerEdit:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",height:80,width:"calc( 75vw - 87px)"},editControl:{position:"absolute",right:10,zIndex:999},mainContainer:{display:"flex",flexWrap:"wrap"},gridList:{flexWrap:"wrap",transform:"translateZ(0)"},gridListBottom:{flexWrap:"nowrap",bottom:0,position:"absolute",transform:"translateZ(0)",display:"flex",width:"100%",overflow:"scroll"},gridListTile:{},accordion:{height:"100%"},accordionDetails:{"&$expanded":{minHeight:56}},reorderButton:{margin:0,"text-transform":"none",background:"#64b5f6",marginLeft:"40px"},categoryTitle:{fontWeight:500,fontSize:"large",marginLeft:15}}),Sa=o.a.createElement(Oa,null),ja=Object(p.a)((function(e){var t=e.onCreateNewCatalog,a=e.onCatalogSearch;e.catalogSearchText;return o.a.createElement(n.Fragment,null,o.a.createElement(Xe,{title:"Catalogs",LeftIcon:qe.a,onSearchChange:function(e){a(e)},onAdd:function(){t()}}),Sa)}),[U]),Aa=o.a.createElement("span",null,"...Loading User Privileges"),ka=function(e){e.history;var t=e.permission,a=e.component,r=Object(Et.a)(e,["history","permission","component"]),i=Object(Ce.b)(),c=i.isLoading,l=i.isAuthenticated,s=Object(f.c)(t),g=(l||Object(f.d)())&&s;return o.a.createElement(u.b,Object(yt.a)({},r,{render:function(e){return o.a.createElement(n.Fragment,null,g&&o.a.createElement(a,e),!g&&!c&&o.a.createElement(u.a,{push:!0,to:{pathname:"/login",state:{from:e.location}}}),!g&&c&&Aa)}}))},Ia=a(6006),Ra=a(177),Ta=a(6011),Da=a(6005),Na=o.a.createElement(Ra.a,null,o.a.createElement(be.a,null)),Ba=o.a.createElement(bt.a,null),Fa=o.a.createElement(Da.a,null),_a=o.a.createElement(Yt.a,null,"Sort"),Pa=function(e){var t=e.category,a=e.saveCategory,r=e.deleteCategoey,i=Object(n.useState)(!1),c=i[0],l=i[1],s=Object(n.useState)(Object.assign({},t)),u=s[0],g=s[1],d=function(e,t){var a;g(Object.assign({},u,((a={})[e]=t,a))),l(!0)},m=Ma();return o.a.createElement(ht.a,{className:m.paper},o.a.createElement(Mt.a,{style:{display:"flex"}},Na,o.a.createElement(zt.a,{primary:u.category,classes:{primary:c?m.title:void 0}}),o.a.createElement(Ra.a,null,o.a.createElement(Pe.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:m.edgeEndChange},onClick:function(){a(u),l(!1)}},Ba)),o.a.createElement(Ra.a,null,o.a.createElement(Pe.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:m.edgeEndChange},onClick:function(){r(u),l(!1)}},Fa))),o.a.createElement(Mt.a,null,o.a.createElement(Qe.a,{style:{width:"50%"},control:o.a.createElement(et.a,{checked:u.systemOnly,onChange:function(e){var t=e.target.checked;d("systemOnly",t)},inputProps:{"aria-label":"primary checkbox"}}),label:"System"}),o.a.createElement(Ht.a,{className:m.formControl},_a,o.a.createElement(Ta.a,{value:u.sort,onChange:function(e){d("sort",e.target.value)}},[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return o.a.createElement(Ft.a,{key:e,value:e},e)}))))),o.a.createElement(Mt.a,null,o.a.createElement(vt.a,{style:{width:"100%"},label:"Title",value:u.category,onChange:function(e){return d("category",e.target.value)}})))},Ma=Object(pe.a)((function(){return{paper:{minHeight:140,width:"100%"},edgeEndChange:{marginRight:-20},title:{fontWeight:900,color:"limegreen",fontSize:"x-large"}}})),za=Object(p.a)((function(e){var t=e.onCategoryListInit,a=e.categoryListInit,r=e.categoryList,i=e.onSaveCategoryItem,c=e.onDeleteCategory;Object(n.useEffect)((function(){a||t()}));var l=Wa();return o.a.createElement(n.Fragment,null,o.a.createElement(Ia.a,{container:!0,className:l.root,spacing:2},r.map((function(e,t){return o.a.createElement(Ia.a,{item:!0,xs:12,md:4,key:e._id},o.a.createElement(Pa,{category:e,saveCategory:i,deleteCategoey:c}))}))))}),[$]),Wa=Object(pe.a)((function(){return{root:{flexGrow:1},paper:{minHeight:140,width:"100%"},control:{}}})),Ha=o.a.createElement(za,null),Ua=Object(p.a)((function(e){var t=e.onCreateNewCategory,a=Ya();return o.a.createElement(n.Fragment,null,o.a.createElement(Xe,{title:"Category",LeftIcon:qe.a,onSearchChange:function(e){},onAdd:function(){t()}}),o.a.createElement("div",{className:a.mainContainer},Ha))}),[$]),Ya=Object(pe.a)({mainContainer:{backgroundColor:"#e8e7e7",minHeight:"calc(100vh - 65px)",padding:5,marginTop:-10}}),Ga=a(224),Va=a(6009),Za=function(e,t,a){var n=Ja.filter((function(t){return t.id===e})),o=a?Ja.filter((function(e){return e.id===a.day})):null;return n.length>0?o&&o.length>0&&a.hours===t?o[0].short+" to "+n[0].short+" "+t:n[0].short+" "+t:""},Ja=[{id:0,name:"Sunday",short:"Sun"},{id:1,name:"Monday",short:"Mon"},{id:2,name:"Tuesday",short:"Tues"},{id:3,name:"Wednesday",short:"Wed"},{id:4,name:"Thursday",short:"Thurs"},{id:5,name:"Friday",short:"Fri"},{id:6,name:"Saturday",short:"Sat"}],Ka=a(5930),Xa=a(6007),qa=a(6008),Qa=o.a.createElement(bt.a,null),$a=function(e){var t,a=e.hoursFull,r=e.save,i=Object(n.useState)((t=a,Ja.map((function(e){var a=t.filter((function(t){return t.day===e.id}));return a.length>0?Object.assign({},e,{hours:a[0].hours,selected:!0}):Object.assign({},e,{hours:"",selected:!1})})))),c=i[0],l=i[1],s=function(e,t,a){var n=c.map((function(n,o){var r;return e===o?Object.assign({},n,((r={})[t]=a,r)):n}));l(n)};return o.a.createElement(n.Fragment,null,c.map((function(e,t){return o.a.createElement(Mt.a,{key:e.id,role:void 0,dense:!0,button:!0},o.a.createElement(Ra.a,null,o.a.createElement(et.a,{edge:"start",checked:e.selected,tabIndex:-1,disableRipple:!0,onChange:function(e){s(t,"selected",e.target.checked)}})),o.a.createElement(zt.a,{style:{minWidth:100},primary:e.name}),o.a.createElement(zt.a,{style:{minWidth:200},primary:o.a.createElement(vt.a,{label:"Hours",value:e.hours,onChange:function(e){s(t,"hours",e.target.value)}})}))})),o.a.createElement(Ie.a,{style:{marginTop:20},variant:"contained",color:"primary",size:"large",startIcon:Qa,onClick:function(){r(c.filter((function(e){return e.selected})).map((function(e){return{day:e.id,hours:e.hours}})))}},"Save"))},en=o.a.createElement(Xa.a,null),tn=o.a.createElement(qa.a,null),an=o.a.createElement(zt.a,{primary:"Hours"}),nn=o.a.createElement(ft.a,null),on=function(e){var t=e.hoursFull,a=e.save,r=function(e){var t=[];if(e&&Array.isArray(e)&&e.length>0){var a={hours:""},n="";e.forEach((function(e,o){o>0&&a.hours!==e.hours&&t.push(n),n=Za(e.day,e.hours,a),a.hours!==e.hours&&(a=e)})),t.push(n)}return t.length>0?t:["Please call for hours"]}(t),i=Object(n.useState)(!1),c=i[0],l=i[1],s=rn();return o.a.createElement("div",null,o.a.createElement(Mt.a,null,o.a.createElement(Ra.a,{style:{marginLeft:-25}},o.a.createElement(Pe.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:s.edgeEndChange},onClick:function(){l(!0)}},en)),o.a.createElement(zt.a,{primary:"Hours",classes:{primary:void 0}})),r.map((function(e){return o.a.createElement("div",{key:e},e)})),o.a.createElement(Ka.a,{open:c,onClose:function(){return l(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement(ht.a,{className:s.modalPaper},o.a.createElement(Mt.a,{style:{display:"flex",marginTop:-15}},o.a.createElement(Ra.a,{style:{marginLeft:-20}},tn),an,o.a.createElement(Ra.a,{className:s.edgeEndChange},o.a.createElement(Pe.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:s.edgeEndChange},onClick:function(){l(!1)}},nn))),o.a.createElement($a,{hoursFull:t,save:function(e){l(!1),a(e)}}))))},rn=Object(pe.a)({modalPaper:{position:"absolute",width:400,padding:20,top:"5%",left:"calc(50% - 200px)",overflowX:"hidden",overflowY:"auto",minHeight:300},edgeEndChange:{marginRight:-20}}),cn=o.a.createElement(Ra.a,null,o.a.createElement(Va.a,null)),ln=o.a.createElement(bt.a,null),sn=o.a.createElement(Da.a,null),un=function(e){var t=e.location,a=e.saveLocation,r=e.deleteLocation,i=Object(n.useState)(!1),c=i[0],l=i[1],s=Object(n.useState)(Object.assign({},t)),u=s[0],g=s[1],d=function(e,t,a){var n;void 0===a&&(a=!0),g(Object.assign({},u,((n={})[e]=t,n))),l(a)},m=function(e,t){var a,n=Object.assign({},u.address,((a={})[e]=t,a));g(Object.assign({},u,{address:n})),l(!0)},f=gn();return o.a.createElement(ht.a,{className:f.paper},o.a.createElement(Mt.a,null,cn,o.a.createElement(zt.a,{primary:u.locationName,classes:{primary:c?f.title:void 0}}),o.a.createElement(Ra.a,null,o.a.createElement(Pe.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:f.edgeEndChange},onClick:function(){a(u),l(!1)}},ln)),o.a.createElement(Ra.a,null,o.a.createElement(Pe.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:f.edgeEndChange},onClick:function(){r(u),l(!1)}},sn))),o.a.createElement(Mt.a,null,o.a.createElement(vt.a,{style:{width:"100%"},label:"Title",value:u.locationName,onChange:function(e){return d("locationName",e.target.value)}})),o.a.createElement(Mt.a,null,o.a.createElement(vt.a,{style:{width:"100%"},label:"Address 1",value:u.address.address1,onChange:function(e){return m("address1",e.target.value)}})),o.a.createElement(Mt.a,null,o.a.createElement(vt.a,{style:{width:"100%"},label:"Address 2",value:u.address.address2,onChange:function(e){return m("address1",e.target.value)}})),o.a.createElement(Mt.a,null,o.a.createElement(vt.a,{style:{width:"45%",marginRight:"10%"},label:"City",value:u.address.city,onChange:function(e){return m("city",e.target.value)}}),o.a.createElement(vt.a,{style:{width:"45%"},label:"State",value:u.address.state,onChange:function(e){return m("state",e.target.value)}})),o.a.createElement(Mt.a,null,o.a.createElement(vt.a,{style:{width:"30%",marginRight:"5%"},label:"Zip Code",value:u.address.zipCode,onChange:function(e){return m("zipCode",e.target.value)}}),o.a.createElement(vt.a,{style:{width:"30%",marginRight:"5%"},label:"Phone#",value:u.phonePublic,onChange:function(e){return d("phonePublic",e.target.value)}}),o.a.createElement(vt.a,{style:{width:"30%"},label:"Map Link",value:u.mapLink,onChange:function(e){return d("mapLink",e.target.value)}})),o.a.createElement(Mt.a,null,o.a.createElement(on,{hoursFull:u.hours,save:function(e){d("hours",e,!1),a(Object.assign({},u,{hours:e}))}})))},gn=Object(pe.a)((function(){return{paper:{minHeight:140,width:"100%"},edgeEndChange:{marginRight:-20},title:{fontWeight:900,color:"limegreen",fontSize:"x-large"}}})),dn=Object(p.a)((function(e){var t=e.onLocationListInit,a=e.locationListInit,r=e.locationList,i=e.onSaveLocationItem,c=e.onDeleteLocation;Object(n.useEffect)((function(){a||t()}));var l=mn();return o.a.createElement(n.Fragment,null,o.a.createElement(Ia.a,{container:!0,className:l.root,spacing:2},r.map((function(e){return o.a.createElement(Ia.a,{item:!0,xs:12,md:4,key:e._id},o.a.createElement(un,{location:e,saveLocation:i,deleteLocation:c}))}))))}),[se]),mn=Object(pe.a)((function(){return{root:{flexGrow:1},paper:{minHeight:140,width:"100%"},control:{}}})),fn=o.a.createElement(dn,null),pn=Object(p.a)((function(e){var t=e.onCreateNewLocation,a=hn();return o.a.createElement(n.Fragment,null,o.a.createElement(Xe,{title:"Locations",LeftIcon:Ga.OpenWith,onSearchChange:function(e){},onAdd:function(){t()}}),o.a.createElement("div",{className:a.mainContainer},fn))}),[se]),hn=Object(pe.a)({mainContainer:{backgroundColor:"#e8e7e7",minHeight:"calc(100vh - 65px)",padding:5,marginTop:-10}}),vn=o.a.createElement(u.b,{exact:!0,path:"/logOut",component:Ne}),bn=o.a.createElement(u.b,{exact:!0,path:"/logcomplete",component:Ne}),yn=function(e){function t(){var t;return(t=e.call(this)||this).state={isMobile:window.innerWidth<=760,errorMessage:"",showAlert:!1,alertStatus:"",tokenLoading:!1,tokenLoaded:!1},t}Object(s.a)(t,e);var a=t.prototype;return a.onCloseAlert=function(){this.setState({errorMessage:"",alertStatus:""})},a.componentDidMount=function(){var e=this;Object(p.d)(this),Object(f.e)();window.addEventListener("resize",(function(){e.setState({isMobile:window.innerWidth<=760})}))},a.render=function(){var e=this,t=function(){var t=Object(l.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.auth0.getAccessTokenSilently,t.prev=1,e.setState({tokenLoading:!0}),t.next=5,a();case 5:n=t.sent,console.log("-------- Token Complete First Try -------"),console.log(n),Object(f.g)(n),e.setState({errorMessage:"You Have Access",alertStatus:"success",tokenLoaded:!0}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a().then((function(t){Object(f.g)(t),console.log("-------- Token Complete second Try-------"),console.log(t),e.setState({errorMessage:"Access Allowed",alertStatus:"success",tokenLoaded:!0})})).catch((function(t){console.log("-------- No Token -------"),console.log(t.message||t),e.setState({errorMessage:t.message})}));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}(),a=this.props.auth0,n=(a.user,a.isLoading),r=this.state,i=(r.isMobile,r.errorMessage),s=r.alertStatus,u=r.tokenLoading,d=r.tokenLoaded;n||u||d||""!==i||(console.log("--- user render ---"),console.log({errorMessage:i,isLoading:n,tokenLoading:u,tokenLoaded:d}),console.log(this.props.auth0),Object(f.d)()||t());var m=Object(ge.getLoginRoute)(),p=Oe;return o.a.createElement(ue,null,o.a.createElement(ca,{errorMessage:i,onClearErrorMessage:function(){return e.onCloseAlert()},status:s}),o.a.createElement(g.a,null,o.a.createElement(p,null,o.a.createElement("div",null,o.a.createElement(m,null),vn,bn,o.a.createElement(ka,{permission:1,exact:!0,path:"/",component:ja}),o.a.createElement(ka,{permission:1,exact:!0,path:"/location",component:pn}),o.a.createElement(ka,{permission:1,exact:!0,path:"/category",component:Ua})))))},t}(o.a.Component),En=Object(Ce.c)(yn),Cn=a(71),Ln=a(5964),wn=a(121),On=a(6010),xn=Object(Cn.a)({typography:{useNextVariants:!0},palette:{textColor:wn.a.A700,primary:{main:"#3d6090",success:"#4caf50",idle:On.a[500]},secondary:{main:"#428bca"}}});Object(r.render)(o.a.createElement(Ce.a,{domain:"netware.auth0.com",clientId:"Aa7xpZd1nciCoIStp8BYJZO2Oix8WH2R",audience:"https://eventnod.netware.io",redirectUri:""+window.location.origin,scope:"read.events"},o.a.createElement(Ln.a,{theme:xn},o.a.createElement(En,null))),document.querySelector("#app"))}},[[239,1,2]]]);
//# sourceMappingURL=app.458c03c9.js.map