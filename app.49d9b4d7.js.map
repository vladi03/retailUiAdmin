{"version":3,"sources":["webpack:///./src/utility/helpers.js","webpack:///./src/desktop/accounts/LoginStart.js","webpack:///./src/route/history.js","webpack:///./src/models/accounts/userMessages.js","webpack:///./src/models/accounts/userAuthStore.js","webpack:///./src/utility/modelContext.js","webpack:///./src/models/home/catalogMessage.js","webpack:///./src/models/home/catalogHelper.js","webpack:///./src/models/home/catalogModel.js","webpack:///./src/models/home/categoryMessage.js","webpack:///./src/models/home/categoryModel.js","webpack:///./src/models/company/companyMessage.js","webpack:///./src/models/company/companyLocationsModel.js","webpack:///./src/models/stats/statsToChart.js","webpack:///./src/models/stats/statsModel.js","webpack:///./src/models/stats/statsMessage.js","webpack:///./src/models/sales/salesSearchMessage.js","webpack:///./src/models/sales/salesSearchModel.js","webpack:///./src/models/sales/salesHistModel.js","webpack:///./src/models/company/siteMessaage.js","webpack:///./src/models/company/siteModel.js","webpack:///./src/GlobalProviders.js","webpack:///./src/utility/useIsMobile.js","webpack:///./src/models/home/menuStore.js","webpack:///./src/desktop/home/FullMenuNav.js","webpack:///./src/desktop/accounts/LoggedOut.js","webpack:///./src/utility/components/SearchTextBox.js","webpack:///./src/utility/components/AppBarTitle.js","webpack:///./src/utility/components/AlertDialog.js","webpack:///./src/desktop/catalog/CatalogItemEdit.js","webpack:///./src/utility/components/NoData.js","webpack:///./src/utility/components/Select/SelectedList.js","webpack:///./src/utility/components/SelectSearch.js","webpack:///./src/utility/components/SpinnerDownloading.js","webpack:///./src/desktop/catalog/CategorySelect.js","webpack:///./src/utility/components/PopupError.js","webpack:///./src/desktop/catalog/CatalogCard.js","webpack:///./src/desktop/catalog/CatalogListComponent.js","webpack:///./src/desktop/SiteIcons.js","webpack:///./src/desktop/catalog/CatalogTable.js","webpack:///./src/desktop/home/HomeMain.js","webpack:///./src/route/PrivateRoute.js","webpack:///./src/desktop/catalog/CategoryItemEdit.js","webpack:///./src/desktop/catalog/CategoryTable.js","webpack:///./src/desktop/home/CategoryMaintenance.js","webpack:///./src/models/company/locationHoursManager.js","webpack:///./src/desktop/company/LocationHoursEdit.js","webpack:///./src/desktop/company/LocationHours.js","webpack:///./src/desktop/company/LocationItemEdit.js","webpack:///./src/desktop/company/LocationTable.js","webpack:///./src/desktop/company/LocationMaintenance.js","webpack:///./src/models/home/catalogXlExport.js","webpack:///./src/desktop/catalogSearch/CatalogSearchMain.js","webpack:///./src/desktop/stats/HitReportMain.js","webpack:///./src/desktop/sales/SalesByNameMain.js","webpack:///./src/desktop/sales/SalesHist.js","webpack:///./src/route/RouteConfig.js","webpack:///./src/index.js","webpack:///./src/models/accounts/accountModel.js"],"names":["routeComponent","handleUnauthorized","createFilterOptions","fieldList","dataList","filterOption","items","keyRef","Array","isArray","forEach","dataItem","fieldConfig","fieldName","undefined","targetValue","getItemPropertyValue","indexOf","push","option","selected","sort","a","b","convertToSheetArray","targetObject","columnFields","result","targetItem","oneRow","targetField","cellValue","ex","setUnauthorizedHandler","handler","setRouteComponent","component","connectArray","arrayOfModels","styles","intermediateComponents","startComponent","withStyles","model","index","params","connect","length","propValue","split","childField","showError","errorMessage","setState","CustomError","messageResponse","Error","captureStackTrace","handleResponse","response","ok","json","status","toCurrency","theNumber","parseFloat","toFixed","replace","to","useStyles","makeStyles","mainContainer","width","maxWidth","margin","leftContainer","height","paddingLeft","cardContainer","minHeight","minWidth","textAlign","logo","actionButton","messageContainer","display","iconSpacing","marginRight","outerCard","cardActionsContainer","flexDirection","LogIn","classes","useAuth0","loginWithRedirect","isAuthenticated","id","action","className","Card","style","CardContent","src","CardActions","Button","variant","color","onClick","returnTo","window","location","origin","accountModel","historyModel","loaded","history","exact","path","LoginRouteComponent","setHistory","getHistory","navigate","href","getLoginRoute","withRouter","getUserProfile","userId","getStore","catalogApi","token","url","payloadGeneric","method","headers","fetch","then","userProfile","userProfileLoading","userProfileLoadHasError","catch","error","userProfileLoadError","message","userAuthData","localStorage","getItem","name","picUrl","email","expiresOn","featurePermissions","userDomain","process","hasToken","setLogOutTimer","require","clearLogOutTimer","msToTimeOut","Date","logOutTimer","setTimeout","readToken","base64","JSON","parse","atob","stringFeatures","tokenData","setItem","exp","console","log","setTokenValue","initAuthStore","clearTimeout","isLoggedIn","hasFeature","featureId","setUserData","picture","sub","getUserDomain","domain","stringify","clearToken","removeItem","app_metadata","retailDomain","createContext","createModel","getInitialState","ModelContext","React","ModelProvider","props","testMode","match","state","render","Provider","value","this","children","Component","UserComponent","componentProps","Consumer","vm","saveCatalogStatus","success","saveCatalogStatusResult","catalogStatusLoading","catalogListLoadError","deleteCatalog","catalog","deleteCatalogRecord","_id","images","file","deleteFile","catalogId","deleteCatalogResult","catalogListLoading","deleteCatalogResultError","fileId","deleteImageResult","deleteImageResultError","uploadImage","fileToUpload","imageWidth","formData","FormData","append","body","uploadImageResult","imageUploading","uploadImageResultError","saveCatalog","itemToSave","saveCatalogResult","activeCatalogItem","errorResult","getCatalogList","catalogList","catalogListLoadHasError","sortCatalog","categoryId","calc","aHasCategory","categories","bHasCategory","filterA","filter","aItem","filterB","bItem","swapOrder","category","swapCatalog","target","swap","targetCategory","cate","swapCategory","newTarget","provider","catalogListFiltered","catalogListOutCategory","catalogListNoCategory","catalogTotals","savingCatalogSort","catalogListInit","categorySelected","catalogSearchText","onCatalogListInit","onSetActiveCatalogItem","onSaveCatalogItem","onUploadImage","onCreateNewCatalog","onDeleteCatalog","onSetCatalogStatus","onAddCategoryToCatalog","onRemoveCategoryFromCatalog","onCategorySelectChange","onCatalogOrderChange","onCatalogSearch","onClearCatalogError","onSetCatalogTotals","getCatalogCategorySort","maxSort","inCategory","getNextSortInCategory","searchText","toLowerCase","catalogListFilteredTemp","cat","shortDesc","modelNumber","commonSaveCatalogItem","setCategorySelectedCommon","catalogListSorted","filterCatalogIn","filterCatalogOut","filterCatalog","filterNoCatalog","filterCatalogNoCategory","searchCate","newCatalog","modifiedCount","map","imageToSave","oldFileId","itemEdit","uploadImageMetadata","willFitWidth","colorRgb","colorRgbOther","fileShowing","search","find","im","setActiveItem","ct","upsertedCount","newState","categoryList","arrayCategory","totalCategory","activeTotal","disabledTotal","stats","catalogModel","classInstance","getCategoryList","categoryListLoading","categoryListLoadHasError","categoryListInit","categoryListLoadError","saveCategory","saveCategoryResult","activeCategoryItem","onCategoryListInit","onSetActiveCategoryItem","onSaveCategoryItem","onCreateNewCategory","onDeleteCategory","isNew","deleteCategoryResult","deleteCategoryResultError","categoryModel","getLocationList","locationList","locationListLoading","locationListLoadError","saveLocation","saveLocationResult","activeLocationItem","locationListInit","onLocationListInit","onSetActiveLocationItem","onSaveLocationItem","onCreateNewLocation","onDeleteLocation","loc","locationId","deleteLocationResult","deleteLocationResultError","companyLocationModel","hitConfigToChart","seriesName","labelField","dataField","labelConverter","data","substr","statToChart","config","hitReport","hitChartData","hitReportLoaded","hitReportLoading","hitReportLoadError","hitReportInitDone","weekStartDate","weekEndDate","onHitReportInit","onHitReportGet","setWeekDays","hitReportArr","startWeek","hitStart","endWeek","sDay","Intl","DateTimeFormat","day","format","sMo","month","eDay","eMo","hasData","statsModel","salesSearchByName","salesSearch","rowCountFound","rows","salesSearchLoading","salesSearchLoadError","err","salesSearchLoaded","onGetSalesByName","salesSearchModel","onGetSalesHist","onSalesHistInit","salesHistInitDone","salesHistLoading","salesHist","salesHistLoadError","salesHistModel","getSiteParams","site","siteLoading","siteHasError","salesBackgroundColor","salesFontColor","siteLoadError","saveSite","saveSiteResult","activeSaveItem","siteDataInitialized","siteLoaded","siteMessage","siteLoadMessageDetail","onLoadSite","onSaveSiteColor","setSalesBackgroundColor","setSalesFontColor","siteColor","origValue","siteModel","GlobalProviders","useIsMobile","useState","innerWidth","isMobile","setIsMobile","resize","useEffect","addEventListener","removeEventListener","mobileOnly","mainLinksAll","label","icon","Home","includes","link","route","Category","LocationCity","SearchTwoTone","Timeline","Money","BorderAll","bottomLinks","Input","FullMenuNav","userFeatures","firstName","lastName","userLoggedIn","isLoading","user","mainLinks","userInfo","onMenuClose","expandMenu","userLabel","imageUrl","decodeURIComponent","marginLeft","Typography","LoggedOut","onNotifyMainNavOfLogOff","logout","Info","Search","SearchTextBox","onSearchChange","useStyle","searchIcon","InputBase","placeholder","onChange","event","root","inputRoot","input","inputInput","inputProps","theme","padding","spacing","transition","transitions","create","breakpoints","up","position","pointerEvents","alignItems","justifyContent","backgroundColor","palette","background","paper","fontSize","marginBottom","boxShadow","rootMobile","marginTop","toolBar","avatar","primary","main","searchTextContainer","right","top","childContainerNoSearch","childContainer","searchTextBox","searchTextLabel","menuButton","labelTitle","labelTitleWithTextBox","Add","AppBarTitleAddSearch","title","LeftIcon","hideSearch","onAdd","addLabel","childHasTextBox","onAvatarClick","AppBar","Toolbar","startIcon","IconButton","PropTypes","elementType","isRequired","string","AlertDialog","open","setOpen","handleClose","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Save","Delete","Close","InputAdornment","alt","CatalogItemEdit","imageIsConfig","imageId","rgbData","metaUpload","fileName","setItemEdit","setUpLoadImage","setUpLoadImageMetadata","setWillFitWidth","setColorRgb","setColorRgbOther","unitPrice","setUnitPrice","onValueChange","onValueChangeSale","newItem","sale","enabled","price","colorRgbValue","rootContainer","Paper","paperEntryContainer","editContainer","TextField","FormControlLabel","control","Switch","checked","newStatus","mfrName","InputProps","startAdornment","extraDesc","multiline","maxRows","description","Checkbox","border","categoryRef","itemCategory","itemCat","key","onRemoveCategory","type","files","reader","FileReader","onload","e","readAsDataURL","uploadResult","onChangeColors","colorRgbOpposite","picBorderHeight","zIndex","picBorderWidth","imageBoxHeight","overflow","imageBoxWidth","fixHeight","fixWidth","transform","textContainer","Chip","Avatar","LibraryBooks","iconRight","closeButtonTopOffset","textDisplay","itemContainer","paddingTop","paddingBottom","MenuItem","SelectSearchComponent","maxOptions","maxArrayLength","optionActiveRef","createRef","showFullList","showDropDown","searchString","filteredPageOptions","options","slice","filteredAllOptions","hasFocusOptionList","hasFocusTextBox","selectedIndex","anchorEl","getValueDisplay","searchSelectedItem","item","keyField","displayField","onShowDropDown","currentTarget","hideDropDown","onKeyPress","keyCode","onItemSelect","optionContainerRef","scrollTo","offsetTop","scrollTop","filtered","onSetAnchor","ref","valueDisplay","constructor","isShowDropDown","Boolean","FormControl","ClickAwayListener","onClickAway","InputLabel","htmlFor","onKeyDown","endAdornment","ArrowDropUp","cursor","ArrowDropDown","Popper","disablePortal","TransitionProps","placement","Grow","transformOrigin","MenuList","topControl","noOptionsMessage","maxHeight","SelectSearch","flexGrow","text","secondary","SpinnerDownloading","spinnerWrapper","fabProgress","left","spinnerSize","loading","CircularProgress","size","CategorySelect","setSelected","modList","PopupError","onClearErrorMessage","showPopup","statusColor","StatusIcon","Warning","PriorityHigh","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","elevation","ThreeSixty","ArrowBack","ArrowForward","CatalogCard","calcCardSize","cardWidth","setCardWidth","inEdit","onSetStatus","disableEdit","isSaving","onAddCategory","showSortArrows","onOrderChange","prevCatalog","nextCatalog","contWidth","widthCalc","heightPicCalc","resizeWidth","res","widthValue","heightValue","isInCategory","inCategoryEdit","card","catPrice","aria-label","buttonLeft","catSale","buttonRight","CardHeader","subheader","cardTitle","cardSubheader","content","cardRoot","whiteSpace","textOverflow","buttonUp","buttonDown","bottom","Divider","gutterBottom","catalogListComponent","flexWrap","container","noCatalogList","CatalogList","itemsToLoad","setItemsToLoad","tmrRef","nextIsInCategory","CatalogItemIcon","DataUsage","AccordionDetails","MuiAccordionDetails","AccordionSummary","borderBottom","expanded","MuiAccordionSummary","Edit","CatalogTable","setCategorySelected","editSalesTextStyle","setEditSalesTextStyle","setShowSortArrows","dataPath","salesBackgroundRgbValue","salesFontRgbValue","Accordion","accordion","expandIcon","categoryTitle","r","g","onChangeComplete","rgb","scrollContainer","totals","expandCategory","timeout","emptyCat","hidden","reorderButton","stopPropagation","containerEdit","editControl","gridList","gridListBottom","gridListTile","accordionDetails","fontWeight","HomeMain","PrivateRoute","permission","rest","calcHasFeature","calcHasAuth","pathname","from","ListItemIcon","CategoryItemEdit","deleteCategoey","itemChanged","setItemChanged","ListItem","ListItemText","edge","edgeEnd","edgeEndChange","systemOnly","formControl","Select","CategoryTable","Grid","xs","md","CategoryMaintenance","OpenWith","calcHour","hours","prevDay","dayRef","dayOptions","dayOption","dayRefPrev","short","LocationHoursEdit","startingHours","hoursFull","save","findHour","stHour","viewHours","setViewHours","changeValue","arrayIndex","fieldValue","newValue","hour","role","dense","button","tabIndex","disableRipple","vh","AccessTime","LocationHours","prevHour","prevResult","hourIn","hoursToView","Modal","modalPaper","newList","overflowX","overflowY","HomeTwoTone","LocationItemEdit","deleteLocation","setChange","onChangeAddress","address","locationName","address1","address2","city","zipCode","phonePublic","mapLink","LocationTable","LocationMaintenance","catalogExportFields","catalogTableConfig","itemsPerPage","defaultSort","sortDescending","columns","fieldForSort","columnLabel","catalogSelectOptions","TableChart","CatalogSearchMain","catalogFiltered","setCatalogFiltered","setFilterOptions","filterOptions","fieldRef","filterContainer","optionLabel","filterItemContainer","optionRef","optionContainer","optionValue","isSelected","newFilterOptions","filterSets","newCatalogFiltered","isIncluded","catalogValue","onFilterOptionToggle","headerConfig","worksheet","utils","aoa_to_sheet","new_workbook","book_new","book_append_sheet","XLSX","writeFile","flexFlow","CartesianGrid","strokeDasharray","YAxis","Tooltip","Bar","dataKey","fill","minPointSize","LabelList","angle","HitReportMain","BarChart","XAxis","dy","dx","offset","Legend","wrapperStyle","SalesByNameMain","titleCount","dataLoaded","setSearchText","filterTable","setFilterTable","setLocation","searchButtonRoot","onKeyUp","ButtonGroup","filterRoot","searchLabel","divider","orientation","filterText","paddingRight","row","columnConfig","onRowClick","runDate","_seconds","toDateString","SalesHistMain","RouteComponent","showAlert","alertStatus","tokenLoading","tokenLoaded","onCloseAlert","componentDidMount","getToken","getAccessTokenSilently","auth0","accessToken","LoginRoute","MenuNav","withAuth0","muiTheme","createMuiTheme","typography","useNextVariants","textColor","grey","A700","idle","yellow","clientId","audience","redirectUri","scope","RouteConfig","document","querySelector","userStore","loadingAuth","userNotAuthorized","faceLoginMessage","passwordMessage","confirmPasswordMessage","profileLoading","onSetAccount","loginInfo"],"mappings":"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","file":"app.49d9b4d7.js","sourcesContent":["import {withStyles} from \"@material-ui/styles\";\r\nlet routeComponent = null;\r\nlet handleUnauthorized = null;\r\n\r\nexport const createFilterOptions = (fieldList, dataList)=> {\r\n    //<summary>Search through the dataList to get a list of values that are used\r\n    // in the array.  Life if there is a field manufacturer, it would return\r\n    // the list of manufactures that are in the list</summary>\r\n    //fieldList is an array of configs like so :{ fieldName: \"mfrName\", columnLabel: \"MFR\" }\r\n    //dataList is an array of object to extract value from as defined by the field list\r\n    const filterOption = { fieldList, items: {} };\r\n    const keyRef = {};\r\n    if(Array.isArray(fieldList) && Array.isArray(dataList)) {\r\n        dataList.forEach((dataItem) => {\r\n            fieldList.forEach((fieldConfig)=> {\r\n                const fieldName = fieldConfig.fieldName;\r\n                if(keyRef[fieldName] === undefined)\r\n                    keyRef[fieldName] = [];\r\n                if(filterOption[fieldName] === undefined)\r\n                    filterOption[fieldName] = [];\r\n\r\n                const targetValue = getItemPropertyValue(dataItem, fieldName);\r\n                if(keyRef[fieldName].indexOf(targetValue) === -1) {\r\n                    keyRef[fieldName].push(targetValue);\r\n                    filterOption[fieldName].push({option: targetValue, selected: false});\r\n                }\r\n                filterOption[fieldName].sort((a,b)=> a.option < b.option ? -1 : 1);\r\n            });\r\n        })\r\n    }\r\n\r\n    return filterOption;\r\n}\r\n\r\nexport const convertToSheetArray = (targetObject, columnFields) => {\r\n    const result = [];\r\n    try {\r\n        if (Array.isArray(targetObject)) {\r\n            result.push(columnFields);\r\n            targetObject.forEach((targetItem) => {\r\n                const oneRow = [];\r\n                columnFields.forEach((targetField)=> {\r\n                    const cellValue = getItemPropertyValue(targetItem, targetField);\r\n                    oneRow.push(cellValue);\r\n                });\r\n                result.push(oneRow);\r\n            })\r\n        }\r\n    } catch (ex) {\r\n\r\n    }\r\n    return result;\r\n};\r\n\r\nexport const setUnauthorizedHandler = (handler) => {\r\n    if(typeof(handler) === \"function\") {\r\n        handleUnauthorized = handler;\r\n    }\r\n};\r\n\r\nexport const setRouteComponent = (component) => routeComponent = component;\r\n\r\nexport const connectArray = (component, arrayOfModels, styles = null) => {\r\n    const intermediateComponents = [];\r\n    const startComponent = styles !== null ?\r\n        withStyles(styles)(component) : component;\r\n\r\n    arrayOfModels.forEach((model, index) => {\r\n        if(index === 0) {\r\n            const newItem = (params) => model.connect(startComponent, params);\r\n            intermediateComponents.push(newItem);\r\n        } else {\r\n            const newItem = (params) => model.connect(intermediateComponents[index - 1], params);\r\n            intermediateComponents.push(newItem);\r\n        }\r\n    });\r\n\r\n    return intermediateComponents[intermediateComponents.length - 1];\r\n};\r\n\r\nexport const inTable = (onClickFunc) => {\r\n    return (event, target) => {\r\n        event.stopPropagation();\r\n        onClickFunc(event, target);\r\n    };\r\n};\r\n\r\nexport const getItemPropertyValue = function (targetObject, fieldName) {\r\n    let propValue = targetObject || \"\";\r\n\r\n    if(typeof(fieldName) === 'function')\r\n        propValue = fieldName(targetObject);\r\n    else if(fieldName !== \"\") {\r\n        const childFields = fieldName && fieldName.split('.') || [];\r\n        //get to the property value by iterating through the object structure\r\n        childFields.forEach((childField) => {\r\n            propValue = propValue && propValue[childField];\r\n        });\r\n    }\r\n\r\n    return propValue;\r\n};\r\n\r\nexport const filterOutExistingByField = (fullList, existingList, fieldNameFull, fieldNameExisting) => {\r\n    ///<summary>calculate remaining Ids.  Provide list of Ids and Object that has key field</summary>\r\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\r\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\r\n    return Array.isArray(fullList) && fullList.filter(function (el) {\r\n        const startValue = getItemPropertyValue(el, fieldNameFull);\r\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\r\n            const existingField = fieldNameExisting || fieldNameExisting === \"\" ? fieldNameExisting : fieldNameFull;\r\n            const existingValue = getItemPropertyValue(existingList[iExisting], existingField);\r\n            if (startValue === existingValue)\r\n                return false;\r\n        }\r\n        return true;\r\n    }) || [];\r\n};\r\n\r\nexport const filterOutExistingByArrayId = (fullList, existingList, fieldNameFull) => {\r\n    ///<summary>calculate remaining Ids.  Provide list of Ids to exclude</summary>\r\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\r\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\r\n    return Array.isArray(fullList) && fullList.filter(function (el) {\r\n        const startValue = getItemPropertyValue(el, fieldNameFull);\r\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\r\n            const existingValue = existingList[iExisting];\r\n            if (startValue === existingValue)\r\n                return false;\r\n        }\r\n        return true;\r\n    }) || [];\r\n};\r\n\r\nexport function shuffleArray(array) {\r\n    let currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n\r\n    return array;\r\n}\r\n\r\nexport const showError = (errorMessage) => {\r\n    routeComponent.setState({errorMessage});\r\n};\r\n\r\nclass CustomError extends Error {\r\n    constructor(messageResponse, ...params) {\r\n        // Pass remaining arguments (including vendor specific ones) to parent constructor\r\n        super(...params)\r\n\r\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, CustomError)\r\n        }\r\n        // Custom debugging information\r\n        this.messageResponse = messageResponse;\r\n    }\r\n}\r\n\r\nexport const handleResponse = () => {\r\n    return async function(response) {\r\n        if(response.ok) {\r\n            return response.json();\r\n        }\r\n        if(response.status === 401) {\r\n            routeComponent.setState({errorMessage: \"Unauthorized\"});\r\n            if(handleUnauthorized)\r\n                handleUnauthorized();\r\n        }\r\n\r\n        const messageResponse = await response.json();\r\n        throw new CustomError(messageResponse, response.status);\r\n    };\r\n};\r\n\r\nexport const  b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\r\n    const byteCharacters = atob(b64Data);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n        const slice = byteCharacters.slice(offset, offset + sliceSize)\r\n\r\n        const byteNumbers = new Array(slice.length);\r\n        for (let i = 0; i < slice.length; i++) {\r\n            byteNumbers[i] = slice.charCodeAt(i)\r\n        }\r\n\r\n        const byteArray = new Uint8Array(byteNumbers);\r\n        byteArrays.push(byteArray)\r\n    }\r\n\r\n    return new Blob(byteArrays, { type: contentType })\r\n};\r\n\r\nexport const toCurrency = (theNumber) => {\r\n    return parseFloat(theNumber).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n};\r\n","import React from \"react\";\r\nimport { Card, CardContent,\r\n    CardActions, Button } from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport { Input as LoginIcon } from '@material-ui/icons';\r\nimport accountModel from \"../../models/accounts/accountModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport const LogInComponent = ({}) => {\r\n    const classes = useStyles();\r\n    const { loginWithRedirect, isAuthenticated } = useAuth0();\r\n    // noinspection HtmlUnknownTarget\r\n    return (\r\n        isAuthenticated ?\r\n        <Redirect push={true} to=\"/\" /> :\r\n        <form id=\"logon-submit\"\r\n              action=\"/login/google/source\"\r\n              className={classes.mainContainer}>\r\n            <Card style={{display: \"flex\"}}>\r\n                <div className={classes.outerCard}>\r\n                    <CardContent className={classes.cardContainer}>\r\n                        <img src={\"retail-shop-flat-icon_small.png\"}\r\n                             className={classes.logo}/>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                className={classes.actionButton}\r\n                                onClick={() => {\r\n                                    loginWithRedirect(\r\n                                        {returnTo: `${window.location.origin}/#/`}\r\n                                    );\r\n                                }}\r\n                        >\r\n                            <LoginIcon style={{marginRight: 10}}/> Login\r\n                        </Button>\r\n\r\n                    </CardActions>\r\n                </div>\r\n            </Card>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\r\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\r\n    cardContainer: {minHeight: 170,minWidth:240, textAlign:'center'},\r\n    logo: {width: 250, margin: \"auto\"},\r\n    actionButton: {width: \"100%\", margin:\"10px\"},\r\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\r\n    iconSpacing: { marginRight: 12},\r\n    outerCard: {margin: \"45px auto\"},\r\n    cardActionsContainer:{display:'flex', flexDirection: 'column'}\r\n});\r\n\r\nexport const LogIn = connectArray(LogInComponent, [accountModel]);\r\n","import React from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport { LogIn } from \"../desktop/accounts/LoginStart\";\r\n//this module is used to get a backdoor to the react router history object.\r\n//did not want ot pass history object all the way through to utility modules\r\nconst historyModel = {\r\n    loaded: false,\r\n    history: null\r\n};\r\n\r\nconst LoginRouteComponent = ({history}) => {\r\n    setHistory(history);\r\n    return (\r\n        <Route exact path=\"/login\" component={LogIn} />\r\n    );\r\n};\r\n\r\nconst setHistory = (history) => {\r\n    historyModel.history = history;\r\n    historyModel.loaded = true;\r\n};\r\n\r\nexport const getHistory = () => {\r\n    return historyModel;\r\n};\r\n\r\nexport const navigate = (location) => {\r\n    window.location.href = location;\r\n};\r\n\r\n// noinspection JSCheckFunctionSignatures\r\nexport const getLoginRoute = () => withRouter(LoginRouteComponent);","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getUserProfile = async (userId) => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/users/${userId}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                userProfile: result,\r\n                userProfileLoading: false,\r\n                userProfileLoadHasError: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                userProfile: null,\r\n                userProfileLoading: false,\r\n                userProfileLoadError: error.message || error,\r\n                userProfileLoadHasError: true\r\n            };\r\n        });\r\n};","import {getUserProfile} from \"./userMessages\";\r\n\r\nconst userAuthData = {\r\n    token: localStorage.getItem('token'),\r\n    name: localStorage.getItem('name') || \"\",\r\n    picUrl: localStorage.getItem('picUrl') || \"\",\r\n    email: localStorage.getItem('email') || \"\",\r\n    expiresOn: localStorage.getItem('expiresOn') || \"\",\r\n    featurePermissions: [1],\r\n    userDomain: localStorage.getItem('userDomain') || \"\",\r\n    catalogApi: process.env.CATALOG_API\r\n};\r\n\r\nexport const hasToken = () => !!userAuthData.token;\r\n\r\nconst setLogOutTimer = (expiresOn) => {\r\n    const {navigate} = require(\"../../route/history\");\r\n    clearLogOutTimer();\r\n    //time out 60 seconds before token expires\r\n    const msToTimeOut = (expiresOn * 1000 ) - new Date() - 60000;\r\n\r\n    if(msToTimeOut > 30) {\r\n        userAuthData.logOutTimer = setTimeout(\r\n            () => navigate(\"#/logout\"),\r\n            msToTimeOut\r\n        );\r\n    } else if (expiresOn > 0) {\r\n        navigate(\"#/logout\");\r\n    }\r\n};\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const readToken = (token) => {\r\n    const split = token && token.split('.');\r\n    if(split && split.length > 0) {\r\n        const base64Url = token.split('.')[1];\r\n        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n        return JSON.parse(window.atob(base64));\r\n    }\r\n    else\r\n        return {};\r\n};\r\n\r\ntry {\r\n    const stringFeatures = localStorage.getItem('featurePermissions');\r\n    userAuthData.featurePermissions = stringFeatures ? JSON.parse(stringFeatures) : [];\r\n\r\n    if(userAuthData.token) {\r\n        const tokenData = readToken(userAuthData.token);\r\n        localStorage.setItem('expiresOn', tokenData.exp);\r\n        userAuthData.expiresOn = tokenData.exp;\r\n\r\n        setLogOutTimer(tokenData.exp);\r\n        console.log(\"token from local storage\");\r\n    }\r\n} catch (ex) {\r\n    userAuthData.featurePermissions = [];\r\n}\r\n\r\nexport const setTokenValue = (token) => {\r\n    localStorage.setItem('token', token);\r\n    userAuthData.token = token;\r\n    const tokenData = readToken(token);\r\n\r\n    setLogOutTimer(tokenData.exp);\r\n};\r\n\r\nexport const initAuthStore = ()=> {\r\n    setLogOutTimer(userAuthData.expiresOn);\r\n};\r\n\r\n\r\n\r\nconst clearLogOutTimer = () => {\r\n    if(userAuthData.logOutTimer > -1) {\r\n        clearTimeout(userAuthData.logOutTimer);\r\n        userAuthData.logOutTimer = -1;\r\n    }\r\n};\r\n\r\nexport const isLoggedIn = () => userAuthData.token && true;\r\n\r\nexport const getStore = () => {\r\n\r\n    return userAuthData;\r\n};\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const getFullName = () =>\r\n    userAuthData.name;\r\n\r\nexport const hasFeature = (featureId) => {\r\n    //console.log(\"---- token hasFeature ----\");\r\n    //console.log(userAuthData.token);\r\n    return userAuthData.featurePermissions.indexOf(featureId) > -1 || true;\r\n};\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const getAuthHeaderValue = () => {\r\n    return userAuthData.token !== null ? `bearer ${userAuthData.token}` : \"\";\r\n};\r\n\r\nexport const setUserData = async ({name, picture, email, sub}) => {\r\n    userAuthData.featurePermissions = [1];\r\n    //localStorage.setItem('token', token);\r\n    const domain = await getUserDomain(sub);\r\n    localStorage.setItem('name', name);\r\n    localStorage.setItem('email', email);\r\n    localStorage.setItem('picUrl', picture);\r\n    localStorage.setItem('userDomain', domain);\r\n    localStorage.setItem('featurePermissions',\r\n        JSON.stringify(userAuthData.featurePermissions));\r\n\r\n    userAuthData.name = name;\r\n    userAuthData.email = email;\r\n    userAuthData.picUrl = picture;\r\n    userAuthData.userDomain = domain;\r\n    userAuthData.featurePermissions = [1];\r\n\r\n    return userAuthData;\r\n};\r\n\r\nexport const clearToken = () => {\r\n    //userAuthData.name = null;\r\n    //userAuthData.email = null;\r\n    //userAuthData.picUrl = null;\r\n    userAuthData.featurePermissions = [];\r\n    //localStorage.removeItem('name');\r\n    //localStorage.removeItem('email');\r\n    localStorage.removeItem('featurePermissions');\r\n    localStorage.removeItem('userDomain');\r\n    localStorage.removeItem(\"expiresOn\");\r\n    //localStorage.removeItem('picUrl');\r\n};\r\n\r\nexport const getUserDomain = async (userId) => {\r\n    const {userProfile} = await getUserProfile(userId);\r\n    console.log(\"userProfile\");\r\n    console.log(userProfile);\r\n    // noinspection JSUnresolvedVariable\r\n    return userProfile && userProfile.app_metadata\r\n        && userProfile.app_metadata.retailDomain;//\"darbyfurnitureoutlet.com\";\r\n};\r\n","import React from \"react\";\r\n\r\nexport const createContext = (createModel, getInitialState) => {\r\n    const ModelContext = React.createContext(createModel());\r\n\r\n    class ModelProvider extends React.Component {\r\n        /** @param props.match.params.testMode */\r\n        constructor(props) {\r\n            super(props);\r\n            const testMode = props && props.match && props.match.params && props.match.params.testMode\r\n                                && props.match.params.testMode.indexOf(\"testMode\") > -1 && props.match.params.testMode;\r\n            this.state = getInitialState(this, testMode || \"\");\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <ModelContext.Provider value={this.state}>\r\n                    {this.props.children}\r\n                </ModelContext.Provider>\r\n            )\r\n        }\r\n    }\r\n\r\n    const connect =(UserComponent, componentProps) => {\r\n        return (\r\n            <ModelContext.Consumer>\r\n                {(vm) => (\r\n                    <UserComponent {...vm} {...componentProps} />\r\n                )}\r\n            </ModelContext.Consumer>\r\n        );\r\n    };\r\n\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    return { ModelContext, ModelProvider, connect };\r\n};","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const saveCatalogStatus = async (status, id)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/${status}/${id}`;\r\n    const payloadGeneric = {\r\n        method: \"PATCH\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                success: true,\r\n                saveCatalogStatusResult: result,\r\n                catalogStatusLoading: false,\r\n                catalogListLoadError: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                catalogStatusLoading: false,\r\n                catalogListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteCatalog = async (catalog) => {\r\n    const result = await deleteCatalogRecord(catalog._id);\r\n    catalog.images.forEach((file) => deleteFile(file.id));\r\n    return result;\r\n};\r\n\r\nconst deleteCatalogRecord = (catalogId) => {\r\n    ///catalogApi/api/v1/catalog/5f166166312ef8249c6a5b57\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/${catalogId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            /* result\r\n            {\r\n                \"deletedCount\": 1\r\n            }\r\n            */\r\n            return {\r\n                deleteCatalogResult: result,\r\n                catalogListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteCatalogResult: false,\r\n                catalogListLoading: false,\r\n                deleteCatalogResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteFile = (fileId)=> {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/file/${fileId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            console.log(\"DELETE file result\");\r\n            console.log(result);\r\n            return {\r\n                deleteImageResult: result\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteImageResult: false,\r\n                deleteImageResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const uploadImage = async (fileToUpload, imageWidth) => {\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"myFile\", fileToUpload);\r\n\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/file/${imageWidth}`;// 800 and 500\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            //\"Content-Type\": \"multipart/form-data;\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: formData\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                uploadImageResult: result,\r\n                imageUploading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                uploadImageResult: false,\r\n                imageUploading: false,\r\n                uploadImageResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveCatalog = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/catalog`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveCatalogResult: result,\r\n                activeCatalogItem: itemToSave,\r\n                catalogListLoading: false,\r\n                catalogListLoadError: false\r\n            }\r\n        }).catch((errorResult) => {\r\n\r\n            return {\r\n                catalogListLoading: false,\r\n                catalogListLoadError:\r\n                    errorResult.messageResponse ||\r\n                    (errorResult.status && errorResult.status.message)\r\n                    || errorResult\r\n            };\r\n        });\r\n};\r\n\r\nexport const getNewCatalog = () => {\r\n    ///catalogapi/api/v1/catalog/new/darbyfurnitureoutlet.com\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/new/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                activeCatalogItem: result,\r\n                catalogListLoading: false,\r\n                catalogListLoadError: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                activeCatalogItem: null,\r\n                catalogListLoading: false,\r\n                catalogListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const getCatalogList = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n\r\n    if(!userDomain) {\r\n        return {\r\n            catalogList: [],\r\n            catalogListLoading: false,\r\n            catalogListLoadHasError: true,\r\n            catalogListLoadError: \"\"\r\n        };\r\n    } else {\r\n        const url = `${catalogApi}/catalogApi/api/v1/catalog/domain/${userDomain}`;\r\n        const payloadGeneric = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json; charset=utf-8\",\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        };\r\n\r\n        return fetch(url, payloadGeneric)\r\n            .then(handleResponse()).then((result) => {\r\n\r\n                return {\r\n                    catalogList: result,\r\n                    catalogListLoading: false,\r\n                    catalogListLoadHasError: false,\r\n                    catalogListLoadError: false\r\n                }\r\n            }).catch(() => { //error\r\n                debugger;\r\n                return {\r\n                    catalogList: [],\r\n                    catalogListLoading: false,\r\n                    catalogListLoadHasError: true,\r\n                    catalogListLoadError: \"\"//error.message || error\r\n                };\r\n            });\r\n    }\r\n};","\r\nexport const sortCatalog = (catalogList, categoryId)=> {\r\n    const calc = [...catalogList];\r\n    calc.sort((a, b) => {\r\n        const aHasCategory = a.categories && a.categories.length > 0;\r\n        const bHasCategory = b.categories && b.categories.length > 0;\r\n        const filterA = aHasCategory ? a.categories.filter((aItem) =>\r\n            aItem._id === categoryId ) : [];\r\n\r\n        const filterB = bHasCategory ? b.categories.filter((bItem) =>\r\n            bItem._id === categoryId ) : [];\r\n\r\n\r\n        if(filterA.length > 0 && filterB.length > 0) {\r\n            return filterA[0].sort - filterB[0].sort;\r\n        }\r\n        else if (filterA.length > 0)\r\n            return -1;\r\n        else\r\n            return 1;\r\n    });\r\n    //console.log('catalogList sort', calc);\r\n    return calc;\r\n};\r\nexport const filterCatalog = (catalogListSorted, categoryId)=> {\r\n    const calc = [...catalogListSorted];\r\n    const filterCatalogIn =[];\r\n    const filterCatalogOut=[];\r\n    calc.forEach((a) => {\r\n        \r\n        const filterA = catalogListSorted ? a.categories.filter((aItem) =>\r\n            aItem._id === categoryId ) : [];\r\n\r\n        if (filterA.length > 0)\r\n            filterCatalogIn.push(a);\r\n        else\r\n           filterCatalogOut.push(a);\r\n    });\r\n    return {filterCatalogIn,filterCatalogOut} ;\r\n};\r\nexport const getCatalogTotals = (catalogListSorted, arrayCategory)=> {\r\n    const calc = [...catalogListSorted];\r\n\r\n    const totalCategory = []\r\n    arrayCategory.forEach((category)=> {\r\n        let activeTotal=0;\r\n        let disabledTotal=0;\r\n        calc.forEach((a, index) => {\r\n\r\n            const filterA = catalogListSorted ? a.categories.filter((aItem) =>\r\n                aItem._id === category._id) : [];\r\n\r\n            if (filterA.length > 0)\r\n                (a.status==='active'?activeTotal++:disabledTotal++)\r\n            if(index === catalogListSorted.length-1) {\r\n                const stats = {activeTotal, disabledTotal, _id:category._id}\r\n                totalCategory.push(stats)\r\n            }\r\n\r\n        });\r\n    })\r\n    return totalCategory;\r\n};\r\n\r\n\r\nexport const filterCatalogNoCategory = (catalogListSorted)=> {\r\n    const calc = [...catalogListSorted];\r\n    const filterNoCatalog =[];\r\n    calc.forEach((a) => {\r\n        const filterA = a.categories.length ===0;\r\n        if (filterA)\r\n            filterNoCatalog.push(a);\r\n    });\r\n\r\n    return filterNoCatalog;\r\n};\r\n\r\n\r\nexport const swapOrder = (catalog, category, swapCatalog) => {\r\n    const target = {...catalog};\r\n    const swap = {...swapCatalog};\r\n    const targetCategory = target.categories.filter(\r\n        (cate)=> cate._id === category._id);\r\n    const swapCategory = swap.categories.filter(\r\n        (cate)=> cate._id === category._id);\r\n\r\n    if(targetCategory.length > 0 && swapCategory.length > 0) {\r\n        const newTarget = swapCategory[0].sort;\r\n        swapCategory[0].sort = targetCategory[0].sort;\r\n        targetCategory[0].sort = newTarget;\r\n    }\r\n    return {target, swap};\r\n};\r\n\r\nexport const getNextSortInCategory = (categoryId, catalogList) => {\r\n    let maxSort = 0;\r\n    catalogList.forEach((catalog) => {\r\n        catalog.categories.forEach((inCategory)=> {\r\n            if(inCategory._id === categoryId && inCategory.sort > maxSort)\r\n                maxSort = inCategory.sort;\r\n        });\r\n    });\r\n    return maxSort + 1;\r\n};","import {createContext} from \"../../utility/modelContext\";\r\nimport {saveCatalog, uploadImage, deleteFile, saveCatalogStatus,\r\n    getNewCatalog, deleteCatalog, getCatalogList} from \"./catalogMessage\";\r\nimport {sortCatalog, swapOrder, filterCatalog,\r\n    filterCatalogNoCategory,getCatalogTotals, getNextSortInCategory} from \"./catalogHelper\";\r\nimport {showError} from \"../../utility/helpers\";\r\n\r\nlet provider = null;\r\n\r\nexport const createModel = () => ({\r\n    activeCatalogItem: null,\r\n    catalogList: [],\r\n    catalogListFiltered: [],\r\n    catalogListOutCategory:[],\r\n    catalogListNoCategory:[],\r\n    catalogTotals:[],\r\n\r\n\r\n    catalogListLoading: false,\r\n    catalogListLoadError: false,\r\n    savingCatalogSort: false,\r\n    catalogListInit: false,\r\n    catalogStatusLoading:false,\r\n    categorySelected: null,\r\n    catalogSearchText: \"\",\r\n    imageUploading: false,\r\n    onCatalogListInit,\r\n    onSetActiveCatalogItem,\r\n    onSaveCatalogItem,\r\n    onUploadImage,\r\n    onCreateNewCatalog,\r\n    onDeleteCatalog,\r\n    onSetCatalogStatus,\r\n    onAddCategoryToCatalog,\r\n    onRemoveCategoryFromCatalog,\r\n    onCategorySelectChange,\r\n    onCatalogOrderChange,\r\n    onCatalogSearch,\r\n    onClearCatalogError,\r\n    onSetCatalogTotals,\r\n    getCatalogCategorySort\r\n});\r\n\r\nconst onClearCatalogError = ()=>{\r\n    provider.setState({catalogListLoadError: false});\r\n};\r\n\r\nconst getCatalogCategorySort = (categoryId) => {\r\n    const {catalogList} = provider.state;\r\n    return getNextSortInCategory(categoryId, catalogList);\r\n};\r\n\r\nconst onCatalogSearch = (catalogSearchText) => {\r\n    const searchText = catalogSearchText.toLowerCase();\r\n    const catalogListFilteredTemp = provider.state\r\n        .catalogList.filter((cat) =>\r\n            cat.shortDesc.toLowerCase().indexOf(searchText) > -1 ||\r\n            cat.modelNumber.toLowerCase().indexOf(searchText) > -1\r\n        );\r\n    const catalogListFiltered = sortCatalog(catalogListFilteredTemp,\r\n        provider.state.categorySelected &&\r\n        provider.state.categorySelected._id);\r\n\r\n    provider.setState({catalogSearchText, catalogListFiltered});\r\n};\r\n\r\nconst onCatalogOrderChange = async (catalog, category, swapCatalog) => {\r\n    try {\r\n        provider.setState({savingCatalogSort: true});\r\n        const {target, swap} = swapOrder(catalog,category, swapCatalog);\r\n\r\n        await commonSaveCatalogItem(target, false);\r\n        await commonSaveCatalogItem(swap, false);\r\n    } catch (ex) {\r\n\r\n    }\r\n    provider.setState({savingCatalogSort: false});\r\n};\r\n\r\n//category select drop down\r\nconst onCategorySelectChange = (categorySelected) => {\r\n    const result = setCategorySelectedCommon(categorySelected,\r\n        provider.state.catalogList);\r\n    provider.setState(result);\r\n};\r\n\r\nconst setCategorySelectedCommon = (categorySelected, catalogList) => {\r\n    const catalogListSorted = sortCatalog(catalogList,\r\n        categorySelected._id);\r\n\r\n    const {filterCatalogIn,filterCatalogOut } = filterCatalog(catalogListSorted,categorySelected._id );\r\n    const catalogListNoCategory = filterCatalogNoCategory(catalogListSorted);\r\n\r\n    return {\r\n        catalogListFiltered:filterCatalogIn,\r\n        catalogListOutCategory:filterCatalogOut,\r\n        categorySelected,\r\n        catalogListNoCategory\r\n    };\r\n};\r\n\r\nconst onAddCategoryToCatalog = async ({catalog, category}) => {\r\n    let maxSort = 1;\r\n\r\n    provider.state.catalogList.forEach((cat) => {\r\n        const searchCate = cat.categories.filter((cate)=> {\r\n            return cate._id === category._id;\r\n        });\r\n        if(searchCate.length > 0 && searchCate[0].sort > maxSort)\r\n            maxSort = searchCate[0].sort;\r\n    });\r\n\r\n    provider.setState({\r\n            \"catalogStatusLoading\": catalog._id,\r\n            \"catalogListLoading\": true\r\n        });\r\n\r\n    const newCatalog = {...catalog,\r\n        categories : [\r\n            {...category, sort: (maxSort + 1)},\r\n            ...catalog.categories]\r\n    };\r\n\r\n    await commonSaveCatalogItem(newCatalog, false);\r\n};\r\n\r\nconst onRemoveCategoryFromCatalog = async ({catalog, categoryId}) => {\r\n    provider.setState(\r\n        {\"catalogStatusLoading\": catalog._id,\r\n        catalogListLoading: true});\r\n    const categories = catalog.categories.filter(\r\n        (cat) => cat._id !== categoryId);\r\n    const newCatalog = {...catalog, categories};\r\n    await commonSaveCatalogItem(newCatalog, false);\r\n};\r\n\r\nconst onSetCatalogStatus = async (status, id) => {\r\n    provider.setState({\"catalogStatusLoading\": id, activeCatalogItem: null});\r\n\r\n    const {saveCatalogStatusResult, catalogListLoadError,\r\n        success} = await saveCatalogStatus(status, id);\r\n    // noinspection JSUnresolvedVariable\r\n    if(success && saveCatalogStatusResult.modifiedCount > 0) {\r\n        const catalogList = provider.state.catalogList\r\n            .map((catalog)=> {\r\n                if(catalog._id === id) {\r\n                    return {...catalog, status};\r\n                } else\r\n                    return catalog;\r\n            });\r\n        //change here\r\n        const {\r\n            catalogListFiltered,\r\n            catalogListOutCategory,\r\n            categorySelected,\r\n            catalogListNoCategory} =\r\n            setCategorySelectedCommon(provider.state.categorySelected,\r\n                catalogList);\r\n\r\n        provider.setState({\r\n            catalogList,\r\n            catalogListFiltered,\r\n            catalogListOutCategory,\r\n            categorySelected,\r\n            catalogStatusLoading: false,\r\n            catalogListLoadError,\r\n            catalogListNoCategory\r\n        });\r\n    } else\r\n        provider.setState({\"catalogStatusLoading\": false, catalogListLoadError});\r\n};\r\n\r\nconst onDeleteCatalog = async (catalog) => {\r\n    provider.setState({catalogListLoading: true});\r\n    const result = await deleteCatalog(catalog);\r\n\r\n    result.catalogList = provider.state.catalogList.filter(\r\n        (cat) => cat._id !== catalog._id\r\n    );\r\n    result.catalogListFiltered = sortCatalog(result.catalogList,\r\n        provider.state.categorySelected &&\r\n        provider.state.categorySelected._id);\r\n    result.activeCatalogItem = null;\r\n    provider.setState(result);\r\n};\r\n\r\nconst onUploadImage = async (imageToSave, oldFileId) => {\r\n    provider.setState({imageUploading: true});\r\n    if(oldFileId)\r\n        await deleteFile(oldFileId);\r\n    const result = await uploadImage(imageToSave, 540); //800\r\n    provider.setState({imageUploading: false});\r\n    return result;\r\n};\r\n\r\nconst onCreateNewCatalog = async ()=> {\r\n    provider.setState({catalogListInit: true});\r\n    const result = await getNewCatalog();\r\n    provider.setState(result);\r\n};\r\n\r\nconst onSaveCatalogItem = async (itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther) => {\r\n\r\n    if(uploadImageMetadata && uploadImageMetadata.id &&\r\n        uploadImageMetadata.id.length > 0 ) {\r\n        provider.setState({catalogListLoading: true});\r\n        const fileShowing = {...uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther};\r\n        const search = itemEdit.images && itemEdit.images.find((im) => im.id === fileShowing.id);\r\n        const images = itemEdit.images && itemEdit.images.length > 1 && search ?\r\n            itemEdit.images.map((im) => {\r\n                return im.id === fileShowing.id ? fileShowing : im;\r\n            }) : [fileShowing];\r\n\r\n        const activeCatalogItem = {...itemEdit, images};\r\n        await commonSaveCatalogItem(activeCatalogItem);\r\n    } else {\r\n        showError(\"Select a picture before saving\");\r\n    }\r\n};\r\n\r\nconst commonSaveCatalogItem = async (activeCatalogItem, setActiveItem = true) => {\r\n    const result = await saveCatalog(activeCatalogItem);\r\n\r\n    if(result.catalogListLoadError === false) {\r\n        // noinspection JSUnresolvedVariable\r\n        if (result.saveCatalogResult && result.saveCatalogResult.modifiedCount > 0) {\r\n            result.catalogList = provider.state.catalogList.map((ct) => {\r\n                return ct._id === activeCatalogItem._id ? activeCatalogItem : ct;\r\n            });\r\n\r\n        } else { // noinspection JSUnresolvedVariable\r\n            if (result.saveCatalogResult &&\r\n                result.saveCatalogResult.upsertedCount > 0) {\r\n                result.catalogList = [\r\n                    ...provider.state.catalogList, activeCatalogItem\r\n                ];\r\n                /*\r\n                                result.catalogListFiltered = sortCatalog(result.catalogList,\r\n                                    provider.state.categorySelected &&\r\n                                    provider.state.categorySelected._id);\r\n                                    */\r\n            }\r\n        }\r\n\r\n        const {\r\n            catalogListFiltered,\r\n            catalogListOutCategory,\r\n            categorySelected,\r\n            catalogListNoCategory\r\n        } =\r\n            setCategorySelectedCommon(provider.state.categorySelected,\r\n                result.catalogList);\r\n\r\n        result.catalogListFiltered = catalogListFiltered;\r\n        result.categorySelected = categorySelected;\r\n        result.catalogListOutCategory = catalogListOutCategory;\r\n        result.catalogListNoCategory = catalogListNoCategory;\r\n\r\n        if (!setActiveItem)\r\n            result.activeCatalogItem = null;\r\n        result.catalogStatusLoading = false;\r\n\r\n        provider.setState(result);\r\n    } else {\r\n        provider.setState(result);\r\n    }\r\n};\r\n\r\nconst onSetActiveCatalogItem = (activeCatalogItem) => {\r\n    provider.setState({activeCatalogItem});\r\n};\r\n\r\nconst onCatalogListInit = () => {\r\n    provider.setState({catalogListInit: true, catalogListLoading: true});\r\n\r\n    getCatalogList().then((newState) => {\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        newState.catalogListFiltered = newState.catalogList;\r\n        if(newState.catalogListLoadHasError) {\r\n            newState.catalogListInit = false;\r\n            setTimeout(()=> {\r\n                provider.setState(newState);\r\n            }, 100);\r\n        } else {\r\n            provider.setState(newState);\r\n        }\r\n    }).catch(()=> { //ex\r\n        debugger;\r\n    });\r\n\r\n};\r\n\r\nconst onSetCatalogTotals = (categoryList,catalogList) =>{\r\n    console.log(\"onSetCatalogTotals\");\r\n    const catalogTotals=getCatalogTotals(catalogList, categoryList);\r\n    provider.setState({catalogTotals});\r\n    console.log(catalogTotals);\r\n\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const catalogModel = createContext(createModel, getInitialState);\r\n","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getCategoryList = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    if(!userDomain) {\r\n        return {\r\n            categoryList: [],\r\n            categoryListLoading: false,\r\n            categoryListLoadHasError: true,\r\n            categoryListInit:false,\r\n            categoryListLoadError: \"\"\r\n        };\r\n    } else {\r\n        const url = `${catalogApi}/catalogApi/api/v1/category/domain/${userDomain}`;\r\n        const payloadGeneric = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json; charset=utf-8\",\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        };\r\n\r\n        return fetch(url, payloadGeneric)\r\n            .then(handleResponse()).then((result) => {\r\n                return {\r\n                    categoryList: result,\r\n                    categoryListLoading: false,\r\n                    categoryListLoadHasError: false\r\n                }\r\n            }).catch((error) => {\r\n                return {\r\n                    categoryList: [],\r\n                    categoryListLoading: false,\r\n                    categoryListLoadHasError: true,\r\n                    categoryListLoadError: error.message || error\r\n                };\r\n            });\r\n    }\r\n};\r\n\r\nexport const getNewCategory = () => {\r\n    //catalogapi/api/v1/category/new/darbyfurnitureoutlet.com\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/category/new/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                activeCategoryItem: result,\r\n                categoryListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                activeCategoryItem: null,\r\n                categoryListLoading: false,\r\n                categoryListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveCategory = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/Category`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveCategoryResult: result,\r\n                activeCategoryItem: itemToSave,\r\n                categoryListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                categoryListLoading: false,\r\n                categoryListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteCategory = (categoryId) => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/category/${categoryId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            /* result\r\n            {\r\n                \"deletedCount\": 1\r\n            }\r\n            */\r\n            return {\r\n                deleteCategoryResult: result,\r\n                categoryListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteCategoryResult: false,\r\n                categoryListLoading: false,\r\n                deleteCategoryResultError: error.message || error\r\n            };\r\n        });\r\n};","import {createContext} from \"../../utility/modelContext\";\r\nimport {saveCategory, getCategoryList,\r\n    getNewCategory, deleteCategory} from \"./categoryMessage\";\r\n\r\nlet provider = null;\r\n\r\nexport const createModel = () => ({\r\n    activeCategoryItem: null,\r\n    categoryList: [],\r\n    categoryListLoading: false,\r\n    categoryListInit: false,\r\n    onCategoryListInit,\r\n    onSetActiveCategoryItem,\r\n    onSaveCategoryItem,\r\n    onCreateNewCategory,\r\n    onDeleteCategory\r\n});\r\n\r\nconst onCategoryListInit = () => {\r\n    provider.setState({categoryListInit: true});\r\n    getCategoryList().then((newState) => {\r\n        provider.setState(newState);\r\n    });\r\n};\r\n\r\nconst onSetActiveCategoryItem = (activeCategoryItem) => {\r\n    provider.setState({activeCategoryItem});\r\n};\r\n\r\nconst onSaveCategoryItem = async (itemToSave) => {\r\n    if(itemToSave.isNew)\r\n        delete itemToSave.isNew;\r\n    const result = saveCategory(itemToSave);\r\n    result.categoryList = provider.state.categoryList.map((cat) =>\r\n        cat._id === itemToSave._id ? itemToSave : cat);\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onCreateNewCategory = async () => {\r\n    provider.setState({categoryListInit: true});\r\n    const result = await getNewCategory();\r\n\r\n    result.categoryList = [result.activeCategoryItem, ...provider.state.categoryList,\r\n        ];\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onDeleteCategory = async (category) => {\r\n    provider.setState({categoryListLoading: true});\r\n    const result = await deleteCategory(category._id);\r\n\r\n    result.categoryList = provider.state.categoryList.filter(\r\n        (cat) => cat._id !== category._id\r\n    );\r\n\r\n    result.activeCategoryItem = null;\r\n    provider.setState(result);\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const categoryModel = createContext(createModel, getInitialState);\r\n","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getNewLocation = () => {\r\n    ////catalogapi/api/v1/company/location/new\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/company/location/new/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                activeLocationItem: result,\r\n                locationListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                activeLocationItem: null,\r\n                locationListLoading: false,\r\n                locationListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const getLocationList = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    //\r\n    const url = `${catalogApi}/catalogApi/api/v1/company/locations/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                locationList: result,\r\n                locationListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                locationList: [],\r\n                locationListLoading: false,\r\n                locationListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteLocationRecord = (locationId) => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/company/location/${locationId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            /* result\r\n            {\r\n                \"deletedCount\": 1\r\n            }\r\n            */\r\n            return {\r\n                deleteLocationResult: result,\r\n                locationListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteLocationResult: false,\r\n                locationListLoading: false,\r\n                deleteLocationResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveLocation = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/company/location`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveLocationResult: result,\r\n                activeLocationItem: itemToSave,\r\n                locationListLoading: false\r\n            };\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                locationListLoading: false,\r\n                locationListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n","import {createContext} from \"../../utility/modelContext\";\r\n\r\nimport {saveLocation, getLocationList,\r\n    getNewLocation, deleteLocationRecord} from \"./companyMessage\";\r\n\r\nlet provider = null;\r\n\r\nexport const createModel = () => ({\r\n    activeLocationItem: null,\r\n    locationList: [],\r\n    locationListLoading: false,\r\n    locationListInit: false,\r\n    onLocationListInit,\r\n    onSetActiveLocationItem,\r\n    onSaveLocationItem,\r\n    onCreateNewLocation,\r\n    onDeleteLocation\r\n});\r\n\r\nconst onLocationListInit = () => {\r\n    provider.setState({locationListInit: true});\r\n    getLocationList().then((newState) => {\r\n        provider.setState(newState);\r\n    });\r\n};\r\n\r\nconst onSetActiveLocationItem = (activeLocationItem) => {\r\n    provider.setState({activeLocationItem});\r\n};\r\n\r\nconst onSaveLocationItem = async (itemToSave) => {\r\n    if(itemToSave.isNew)\r\n        delete itemToSave.isNew;\r\n    const result = saveLocation(itemToSave);\r\n    result.locationList = provider.state.locationList.map((loc) =>\r\n        loc._id === itemToSave._id ? itemToSave : loc);\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onCreateNewLocation = async () => {\r\n    provider.setState({locationListInit: true});\r\n    const result = await getNewLocation();\r\n\r\n    result.locationList = [result.activeLocationItem, ...provider.state.locationList,\r\n    ];\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onDeleteLocation = async (location) => {\r\n    provider.setState({locationListLoading: true});\r\n    const result = await deleteLocationRecord(location._id);\r\n\r\n    result.locationList = provider.state.locationList.filter(\r\n        (loc) => loc._id !== location._id\r\n    );\r\n\r\n    result.activeLocationItem = null;\r\n    provider.setState(result);\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\n\r\nexport const companyLocationModel = createContext(createModel, getInitialState);\r\n\r\n","\r\nexport const hitConfigToChart = {\r\n    seriesName: \"hits\",\r\n    labelField: \"hitStart\",\r\n    dataField: \"hitCount\",\r\n    labelConverter: (data) => {\r\n\r\n        return data.substr(5, 5);\r\n    }\r\n}\r\n\r\nexport const statToChart = (dataList, config) => {\r\n    let result = [];\r\n    if(Array.isArray(dataList)){\r\n        result = dataList.map((data) => ({\r\n            name: config.labelConverter ? config.labelConverter(data[config.labelField]) : data[config.labelField],\r\n            [config.seriesName] : data[config.dataField]\r\n        }));\r\n    }\r\n    return result;\r\n}","import {createContext} from \"../../utility/modelContext\";\r\nimport {getHitReport} from \"./statsMessage\";\r\nimport {statToChart, hitConfigToChart} from \"./statsToChart\";\r\nimport {dateFormat} from \"dateformat\"\r\nexport const createModel = () => ({\r\n    hitReport: [],\r\n    hitChartData: [],\r\n    hitReportLoaded: true,\r\n    hitReportLoading: false,\r\n    hitReportLoadError: false,\r\n    hitReportInitDone: false,\r\n    weekStartDate:'',\r\n    weekEndDate:'',\r\n    onHitReportInit,\r\n    onHitReportGet,\r\n    setWeekDays\r\n});\r\nlet provider = null;\r\n\r\nconst onHitReportInit= async ()=> {\r\n    provider.setState({hitReportInitDone: true});\r\n    await onHitReportGet();\r\n}\r\nconst setWeekDays =(hitReportArr)=>{\r\n    const startWeek = new Date(hitReportArr[0].hitStart);\r\n    const endWeek = new Date(hitReportArr[hitReportArr.length-1].hitStart);\r\n\r\n    let sDay = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(startWeek);\r\n    let sMo = new Intl.DateTimeFormat('en', { month: 'short' }).format(startWeek);\r\n    let eDay = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(endWeek);\r\n    let eMo = new Intl.DateTimeFormat('en', { month: 'short' }).format(endWeek);\r\n    provider.setState({weekStartDate:`${sMo} ${sDay}`, weekEndDate:`${eMo} ${eDay}`})\r\n\r\n}\r\n\r\nconst onHitReportGet = async ()=> {\r\n    provider.setState({hitReportLoading: true});\r\n    const result = await getHitReport();\r\n    console.log(result.hitReport)\r\n    setWeekDays(result.hitReport)\r\n    if(!result.hitReportLoadError)\r\n        result.hitChartData =  statToChart(result.hitReport, hitConfigToChart);\r\n    provider.setState(result);\r\n}\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const statsModel = createContext(createModel, getInitialState);","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getHitReport = () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/hitReport/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            const hasData = Array.isArray(result);\r\n            return {\r\n                hitReport: hasData ? result : [],\r\n                hitReportLoaded: hasData,\r\n                hitReportLoading: false,\r\n                hitReportLoadError: hasData ?  false : \"Invalid Hit Data Returned\",\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                hitReportLoading: false,\r\n                hitReportLoadError: error.message || error\r\n            };\r\n        });\r\n};","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n//import {salesXlMap} from \"./salesXlMap\";\r\n\r\nexport const salesSearchByName = (name, location) => {\r\n    const {catalogApi , token} = getStore(); //userDomain\r\n    const url = `${catalogApi}/catalogApi/api/v1/sales/${name}/${location}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            const success = Array.isArray(result);\r\n\r\n            return {\r\n                salesSearch: success ? {\r\n                    rowCountFound: result.length,\r\n                        rows: [],\r\n                        items: result\r\n                }\r\n                    : {rowCountFound: 0, rows: [], items: []},\r\n                salesSearchLoading: false,\r\n                salesSearchLoadError: success ? false : result.err\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                salesSearchLoading: false,\r\n                salesSearchLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const salesHist = () => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/sales/hist`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            const success = Array.isArray(result);\r\n\r\n            return {\r\n                salesHist: success ? {\r\n                        rowCountFound: result.length,\r\n                        rows: [],\r\n                        items: result\r\n                    }\r\n                    : {rowCountFound: 0, rows: [], items: []},\r\n                salesHistLoading: false,\r\n                salesHistLoadError: success ? false : result.err\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                salesHistLoading: false,\r\n                salesHistLoadError: error.message || error\r\n            };\r\n        });\r\n};","import {createContext} from \"../../utility/modelContext\";\r\nimport {salesSearchByName} from \"./salesSearchMessage\";\r\n\r\nexport const createModel = () => ({\r\n    salesSearch: {rowCountFound: 0, rows: [], items: []},\r\n    salesSearchLoading: false,\r\n    salesSearchLoadError: false,\r\n    salesSearchLoaded: true,\r\n    onGetSalesByName\r\n});\r\n\r\nlet provider = null;\r\n\r\nconst onGetSalesByName = async (name, location) => {\r\n    provider.setState({salesSearchLoading: true});\r\n    const result = await salesSearchByName(name, location);\r\n\r\n    provider.setState(result);\r\n}\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const salesSearchModel = createContext(createModel, getInitialState);","import {createContext} from \"../../utility/modelContext\";\r\nimport {salesHist} from \"./salesSearchMessage\";\r\n\r\nexport const createModel = () => ({\r\n    \"salesHist\": {\r\n        \"rowCountFound\": 0,\r\n        \"rows\": [],\r\n        \"items\": []\r\n    },\r\n    \"salesHistLoading\": false,\r\n    \"salesHistLoadError\": false,\r\n    \"salesHistInitDone\": false,\r\n    onGetSalesHist,\r\n    onSalesHistInit\r\n});\r\n\r\nlet provider = null;\r\n\r\nconst onSalesHistInit= async ()=> {\r\n    provider.setState({salesHistInitDone: true});\r\n    await onGetSalesHist();\r\n}\r\n\r\nconst onGetSalesHist = async () => {\r\n    provider.setState({salesHistLoading: true});\r\n    const result = await salesHist();\r\n\r\n    provider.setState(result);\r\n}\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const salesHistModel = createContext(createModel, getInitialState);","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getSiteParams = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    //\r\n    const url = `${catalogApi}/catalogApi/api/v1/site/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                site: result && result.length > 0 ? result[0] : { },\r\n                siteLoading: false,\r\n                siteHasError: false\r\n            };\r\n        }).catch((error) => {\r\n            return {\r\n                site: {\r\n                    salesBackgroundColor: [0, 255, 255],\r\n                    salesFontColor: [0,0,0]},\r\n                siteLoading: false,\r\n                siteLoadError: error.message || error,\r\n                siteHasError: true\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveSite = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/site`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveSiteResult: result,\r\n                activeSaveItem: itemToSave,\r\n                siteLoading: false,\r\n                siteHasError: false,\r\n            };\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                siteHasError: true,\r\n                siteLoading: false,\r\n                siteLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n","import { createContext } from \"../../utility/modelContext\";\r\nimport  {getSiteParams, saveSite} from \"./siteMessaage\";\r\n\r\nlet provider = null;\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const createModel = () => ({\r\n    site: {\r\n        salesBackgroundColor: [0, 255, 255],\r\n        salesFontColor: [0,0,0]\r\n    },\r\n    siteLoading: false,\r\n    siteLoadError: \"\",\r\n    siteDataInitialized: false,\r\n    siteLoaded : false,\r\n    siteHasError : false,\r\n    siteMessage : \"\",\r\n    siteLoadMessageDetail: \"\",\r\n    onLoadSite,\r\n    onSaveSiteColor,\r\n    setSalesBackgroundColor,\r\n    setSalesFontColor\r\n});\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nconst setSalesBackgroundColor = (salesBackgroundColor) =>\r\n    provider.setState({site: {...provider.state.site, salesBackgroundColor}});\r\n\r\nconst setSalesFontColor = (salesFontColor) =>\r\n    provider.setState({site: {...provider.state.site, salesFontColor}});\r\n\r\nconst onSaveSiteColor = (siteColor) => {\r\n    provider.setState({ siteLoading: true });\r\n    const origValue = provider.state.site;\r\n    saveSite({...origValue,...siteColor});\r\n}\r\n\r\nconst onLoadSite = () => {\r\n    provider.setState({ siteLoading: true, siteDataInitialized : true });\r\n    getSiteParams().then((result)=>{\r\n\r\n        if(result.siteHasError === true)\r\n            provider.setState({site: {...result.site,\r\n                    salesBackgroundColor: provider.state.salesBackgroundColor,\r\n                    salesFontColor: provider.state.salesFontColor,\r\n            }});\r\n        else\r\n            provider.setState(result);\r\n    })\r\n};\r\n\r\nexport const siteModel = createContext(createModel, getInitialState);\r\nexport default siteModel;\r\n","import React from 'react';\r\nimport AccountModel from \"./models/accounts/accountModel\";\r\nimport {catalogModel} from \"./models/home/catalogModel\";\r\nimport {categoryModel} from \"./models/home/categoryModel\";\r\nimport {companyLocationModel} from \"./models/company/companyLocationsModel\";\r\nimport {statsModel} from \"./models/stats/statsModel\";\r\nimport {salesSearchModel} from \"./models/sales/salesSearchModel\";\r\nimport {salesHistModel} from \"./models/sales/salesHistModel\";\r\nimport {siteModel} from \"./models/company/siteModel\";\r\n\r\nexport const GlobalProviders = ({children}) => {\r\n\r\n    return (\r\n        <AccountModel.ModelProvider>\r\n            <catalogModel.ModelProvider>\r\n                <categoryModel.ModelProvider>\r\n                    <companyLocationModel.ModelProvider>\r\n                        <statsModel.ModelProvider>\r\n                            <salesSearchModel.ModelProvider>\r\n                                <salesHistModel.ModelProvider>\r\n                                    <siteModel.ModelProvider>\r\n                        {children}\r\n                                    </siteModel.ModelProvider>\r\n                                </salesHistModel.ModelProvider>\r\n                            </salesSearchModel.ModelProvider>\r\n                        </statsModel.ModelProvider>\r\n                    </companyLocationModel.ModelProvider>\r\n                </categoryModel.ModelProvider>\r\n            </catalogModel.ModelProvider>\r\n        </AccountModel.ModelProvider>\r\n    );\r\n};\r\n","import {useState, useEffect} from \"react\";\r\n\r\nexport const useIsMobile = () => {\r\n    const [isMobile, setIsMobile] = useState(window.innerWidth <= 760);\r\n    const resize = () => {\r\n        setIsMobile(window.innerWidth <= 760);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", resize);\r\n        return () => {\r\n            window.removeEventListener(\"resize\", resize);\r\n        };\r\n    },[]);\r\n\r\n    return isMobile;\r\n};\r\n\r\nexport function useCardSize() {\r\n    const calcCardSize = (contWidth) => {\r\n\r\n        let widthCalc = \"\";\r\n        let heightPicCalc = \"\";\r\n        if(contWidth < 550) {\r\n            widthCalc= \"93vw\";\r\n            heightPicCalc = \"72.54vw\";\r\n        }\r\n        else if(contWidth < 700) {\r\n            widthCalc= \"46vw\";\r\n            heightPicCalc = \"35.88vw\";\r\n        }\r\n        else if(contWidth < 1200) {\r\n            widthCalc= \"30vw\";\r\n            heightPicCalc = \"24.3vw\";\r\n        }\r\n        else {\r\n            widthCalc= \"15vw\";//\"14vw\";//\"16.67vw\";//\"23vw\";\r\n            heightPicCalc = \"11.7vw\";//\"10.92vw\";//\"13vw\";//\"17.94vw\";\r\n        }\r\n\r\n        return {widthCalc, heightPicCalc};\r\n    };\r\n    const [cardWidth, setCardWidth] = useState(calcCardSize(window.innerWidth));\r\n\r\n    useEffect(() => {\r\n        function resizeWidth() {\r\n            const res = calcCardSize(window.innerWidth);\r\n            setCardWidth(res);\r\n        }\r\n\r\n        window.addEventListener(\"resize\", resizeWidth);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", resizeWidth);\r\n        };\r\n    },[]); // Empty array ensures that effect is only run on mount\r\n\r\n    return cardWidth;\r\n}","import {Home, Category, LocationCity, SearchTwoTone, Timeline, Money,BorderAll} from \"@material-ui/icons\";\r\n//category , , featureId: 1\r\nconst mainLinksAll = [\r\n    {label : \"Home\", icon: Home, selected:!(window.location.href.includes('location') || window.location.href.includes('category') || window.location.href.includes('keyLogs') || window.location.href.includes('catalogSearch') || window.location.href.includes('hits') || window.location.href.includes('salesByName') ), link:\"#/\", route:\"/\", isMobile: true },\r\n    {label : \"Category\", icon: Category, selected:window.location.href.includes('category'),  link:\"#/category\", route:\"/category\", isMobile: true },\r\n    {label : \"Locations\", icon: LocationCity, selected:window.location.href.includes('location'),  link:\"#/location\", route:\"/location\", isMobile: true },\r\n    {label : \"Filter\", icon: SearchTwoTone, selected:window.location.href.includes('catalogSearch'),  link:\"#/catalogSearch\", route:\"/catalogSearch\", isMobile: true },\r\n    {label : \"Hits\", icon: Timeline, selected:window.location.href.includes('hits'),  link:\"#/hits\", route:\"/hits\", isMobile: true },\r\n    {label : \"Sales\", icon: Money, selected:window.location.href.includes('salesByName'),  link:\"#/salesByName\", route:\"/salesByName\", isMobile: true },\r\n    {label : \"Sales Hist\", icon: BorderAll, selected:window.location.href.includes('salesHist'),  link:\"#/salesHist\", route:\"/salesHist\", isMobile: true }\r\n];//#//hits\r\n\r\nexport const getMenus = (mobileOnly)=> {\r\n    if(mobileOnly)\r\n        return mainLinksAll.filter(link => link.isMobile);\r\n    else\r\n        return mainLinksAll;\r\n};\r\n","import React from 'react';\r\nimport {useIsMobile} from \"../../utility/useIsMobile\";\r\nimport { SideStrip } from \"fancy-menu\"\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Input\r\n} from \"@material-ui/icons\";\r\nimport accountModel from \"../../models/accounts/accountModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {getMenus} from \"../../models/home/menuStore\";\r\nimport {getStore, setUserData} from \"../../models/accounts/userAuthStore\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\nconst mainLinksAll = getMenus();\r\n\r\nconst bottomLinks = [\r\n    {label : \"Logout\", icon: Input, link:\"#/logout\" }\r\n];\r\n\r\nexport const FullMenuNavComponent = ({ children, firstName, lastName,\r\n                                         userLoggedIn, picUrl, userFeatures  }) => {\r\n    const isMobile = useIsMobile();\r\n    const classes = useStyles(isMobile);\r\n\r\n    const {\r\n        isLoading,\r\n        //isAuthenticated,\r\n        //error,\r\n        user,\r\n        //loginWithRedirect,\r\n        //logout,\r\n    } = useAuth0();\r\n\r\n    const mainLinks = mainLinksAll.filter(\r\n        (link) => link.featureId === undefined ||\r\n            userFeatures.indexOf(link.featureId) > -1);\r\n\r\n    const userInfo = getStore();\r\n    if(!isLoading) {\r\n        console.log(\"---- Full Menu ----\");\r\n        console.log(user);\r\n    }\r\n    if(user) {\r\n        if(userInfo.token && userInfo.userDomain === \"\")\r\n           setUserData(user);\r\n        userInfo.picUrl = user.picture;\r\n        userInfo.name = user.name;\r\n    }\r\n\r\n    return (\r\n        userInfo.name &&\r\n        <div>\r\n            <SideStrip mainLinks={mainLinks}\r\n                       bottomLinks={bottomLinks}\r\n                       onMenuClose={() => {\r\n                          // setOpenMenu(false);\r\n                       }}\r\n                       expandMenu={false}\r\n                       userLabel={userInfo.name}\r\n                       imageUrl={decodeURIComponent(userInfo.picUrl)}\r\n            />\r\n            <div className={classes.mainContainer}>\r\n                {children}\r\n            </div>\r\n        </div> ||\r\n            <div>{children}</div>\r\n    );\r\n};\r\n\r\nexport const FullMenuNav = connectArray(FullMenuNavComponent,[accountModel]);\r\n\r\nconst useStyles = (isMobile) => makeStyles({\r\n    mainContainer:{\r\n        marginLeft: isMobile ? 7 : 70,\r\n        marginRight: 7\r\n    },\r\n})();\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport {clearToken} from \"../../models/accounts/userAuthStore\";\r\nimport { Card, CardContent,\r\n    CardActions, Button, Typography  } from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport { Input as LoginIcon, Info } from '@material-ui/icons';\r\nimport accountModel from \"../../models/accounts/accountModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nexport const LoggedOutComponent = ({onNotifyMainNavOfLogOff, userLoggedIn}) => {\r\n\r\n    const classes = useStyles();\r\n    const { loginWithRedirect,\r\n        logout,\r\n        isAuthenticated,\r\n        isLoading\r\n    } = useAuth0();\r\n\r\n    useEffect(() => {\r\n        clearToken();\r\n        if(isAuthenticated)\r\n            logout({returnTo: `${window.location.origin}/#/login`});\r\n\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"featurePermissions\");\r\n\r\n        if(userLoggedIn)\r\n            onNotifyMainNavOfLogOff();\r\n    });\r\n    // noinspection HtmlUnknownAnchorTarget\r\n    return (\r\n        <form id=\"logout-submit\"\r\n              className={classes.mainContainer}>\r\n            {!isLoading && !isAuthenticated &&\r\n            <Card style={{display: \"flex\"}}>\r\n                <div className={classes.outerCard}>\r\n                    <CardContent className={classes.cardContainer}>\r\n                        <img src={\"retail-shop-flat-icon_small.jpg\"}\r\n                             className={classes.logo}/>\r\n                        <div className={classes.messageContainer}>\r\n                            <Info className={classes.iconSpacing}/><Typography>You have been logged out.</Typography>\r\n                        </div>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                className={classes.actionButton}\r\n                                onClick={() => {\r\n                                    loginWithRedirect();\r\n                                }}\r\n                        >\r\n                            <LoginIcon style={{marginRight: 10}}/> Login\r\n                        </Button>\r\n\r\n                    </CardActions>\r\n                </div>\r\n            </Card>\r\n            }\r\n            {(isLoading || isAuthenticated ) &&\r\n                <span>... logging out please wait</span>\r\n            }\r\n        </form>\r\n    )\r\n};\r\n\r\nexport const LoggedOut = connectArray(LoggedOutComponent, [accountModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\r\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\r\n    cardContainer: {minHeight: 170},\r\n    logo: {width: 250, margin: \"auto\"},\r\n    actionButton: {width: \"80%\", margin:\"auto\"},\r\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\r\n    iconSpacing: { marginRight: 12},\r\n    outerCard: {margin: \"45px auto\"}\r\n});","import React from \"react\";\r\nimport {InputBase} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Search as SearchIcon} from \"@material-ui/icons\";\r\n\r\nexport const SearchTextBox = ({onSearchChange}) => {\r\n    const classes = useStyle();\r\n    return (\r\n        <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n                placeholder=\"Search…\"\r\n                onChange={(event) => onSearchChange(event.target.value)}\r\n                classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                }}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst useStyle = makeStyles(theme  => ({\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 7),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }\r\n}));","/*global siteData */\r\nimport React from \"react\";\r\nimport { AppBar, Toolbar, IconButton, Typography,\r\n     Button } from \"@material-ui/core\";\r\nimport { makeStyles} from \"@material-ui/core/styles\";\r\nimport { Add as AddIcon} from \"@material-ui/icons\";\r\nimport {SearchTextBox} from \"./SearchTextBox\";\r\nimport PropTypes from 'prop-types';\r\nimport {useIsMobile} from \"../useIsMobile\";\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n\r\n    return {\r\n        root: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            color: \"black\",\r\n            fontSize: \"14px\",\r\n            marginBottom: 10,\r\n            marginLeft: -20,\r\n            boxShadow: \"0 0\",\r\n        },\r\n        rootMobile: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            color: \"black\",\r\n            fontSize: \"14px\",\r\n            marginBottom: 10,\r\n            marginTop: 0,\r\n            marginLeft: 20,\r\n            boxShadow: \"0 0\",\r\n            width: \"unset\"\r\n        },\r\n        toolBar : {\r\n            minHeight: 38,\r\n            height: 38\r\n        },\r\n        avatar : {\r\n            backgroundColor: \"transparent\",\r\n            color: theme.palette.primary.main,\r\n            marginRight: 15,\r\n            marginLeft: -15,\r\n        },\r\n        searchTextContainer: {\r\n            display: \"flex\",\r\n            position: \"absolute\",\r\n            right: 5,\r\n            top: 7,\r\n        },\r\n        childContainerNoSearch: {\r\n            display: \"flex\",\r\n        },\r\n        childContainer: {\r\n            display: \"flex\",\r\n            //position: \"absolute\",\r\n            right: 270,\r\n            top: 7,\r\n            marginLeft: 8\r\n        },\r\n        searchTextBox: {\r\n            width: 120\r\n        },\r\n        searchTextLabel: {\r\n            marginRight: \"5px\",\r\n            marginTop: \"6px\",\r\n        },\r\n        menuButton: {\r\n            marginLeft: -18,\r\n            marginRight: 10,\r\n        },\r\n        labelTitle: {\r\n            color: theme.palette.primary.main,\r\n            //marginRight: 28,\r\n            display: \"flex\"\r\n        },\r\n        labelTitleWithTextBox: {\r\n            color: theme.palette.primary.main,\r\n            marginRight: 28,\r\n            display: \"flex\",\r\n            marginTop: 12\r\n        }\r\n    };\r\n});\r\n\r\nexport const AppBarTitleAddSearchComponent =\r\n    ({ title, LeftIcon, onSearchChange, hideSearch, onAdd,\r\n         addLabel, children, childHasTextBox,\r\n         onAvatarClick}) => {\r\n\r\n    const isMobile = useIsMobile();\r\n    const classes = useStyles();\r\n    return (\r\n        <AppBar className={isMobile ? classes.rootMobile : classes.root} position=\"static\">\r\n            <Toolbar variant=\"dense\">\r\n                <LeftIcon style={{marginRight: 10}} />\r\n                <span className={childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle}>\r\n                    {/*  <IconButton className={classes.menuButton}\r\n                                color=\"inherit\"\r\n                                aria-label=\"Menu\"\r\n                                onClick={() => onAvatarClick && onAvatarClick()}\r\n                    >\r\n                        <LeftIcon />\r\n                    </IconButton>*/}\r\n\r\n                    <Typography variant=\"h6\" color=\"inherit\" >\r\n                        {title}\r\n                    </Typography>\r\n\r\n                </span>\r\n                {onAdd &&\r\n                    !isMobile &&\r\n                    <Button variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={onAdd}\r\n                            startIcon={<AddIcon />}\r\n                            style={{marginLeft: 20}}>\r\n                        {addLabel || \"Add\"}\r\n                    </Button>\r\n                }\r\n\r\n                {onAdd &&\r\n                    isMobile &&\r\n                    <IconButton\r\n                            color=\"secondary\"\r\n                            onClick={onAdd}\r\n                            style={{marginLeft: 10}}>\r\n                        <AddIcon />\r\n                    </IconButton>\r\n                }\r\n\r\n                <span className={hideSearch || onSearchChange === undefined || childHasTextBox ? classes.childContainerNoSearch : classes.childContainer}>\r\n                    {children}\r\n                </span>\r\n                {hideSearch !== true && onSearchChange !== undefined &&\r\n                <span className={classes.searchTextContainer}>\r\n\r\n                        <span className={classes.searchTextBox}>\r\n                            <SearchTextBox onSearchChange={(value) => onSearchChange(value)} />\r\n                        </span>\r\n                    </span>\r\n                }\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n};\r\n\r\nexport const AppBarTitleAddSearch = AppBarTitleAddSearchComponent;\r\n\r\nexport const AppBarTitleComponent = ({ title, LeftIcon, variant, iconSize, marginLeft, style, children,\r\n                                        childHasTextBox\r\n                                     }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <AppBar className={classes.root} style={style} position=\"static\">\r\n            <Toolbar variant=\"dense\"  >\r\n                <span className={ childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle} >\r\n                    <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">\r\n                        <LeftIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" color=\"inherit\" style={{marginTop: 9}} >\r\n                        {title}\r\n                    </Typography>\r\n                </span>\r\n                <span className={classes.childContainerNoSearch }>\r\n                    {children}\r\n                </span>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport const AppBarTitle = AppBarTitleComponent;\r\n\r\nAppBarTitle.propTypes = {\r\n    LeftIcon: PropTypes.elementType.isRequired,\r\n    title: PropTypes.string\r\n};\r\n","import React, {Fragment} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport const AlertDialog = ({onClick, children, title, message, ...props}) => {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        setOpen(false);\r\n        onClick();\r\n    };\r\n    return (\r\n        <Fragment>\r\n            <Button {...props} onClick={handleClickOpen}>\r\n                {children}\r\n            </Button>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {message}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleOk} variant=\"contained\" color=\"primary\" autoFocus>\r\n                        OK\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </Fragment>\r\n    );\r\n};","import React, {useState, useEffect} from \"react\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {siteModel} from \"../../models/company/siteModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {TextField, InputAdornment, Button, Paper,\r\nCheckbox, FormControlLabel, Switch} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Save, Close, Delete} from \"@material-ui/icons\";\r\nimport {toCurrency} from \"../../utility/helpers\";\r\nimport {getStore} from \"../../models/accounts/userAuthStore\";\r\nimport {PicRatioFill} from \"pic-ratio-fill\";\r\nimport {AlertDialog} from \"../../utility/components/AlertDialog\";\r\n\r\nconst {catalogApi} = getStore();\r\nconst containerWidth = 532;\r\nconst containerHeight = 415;\r\n\r\nconst CatalogItemEditComponent = ({\r\n     activeCatalogItem, onSaveCatalogItem, catalogListLoading,\r\n     onUploadImage, onDeleteCatalog, imageUploading, categoryList,\r\n     getCatalogCategorySort, onSetActiveCatalogItem, site\r\n}) => {\r\n    const imageIsConfig = activeCatalogItem.images\r\n        && activeCatalogItem.images.length > 0;\r\n    const imageId = imageIsConfig ?\r\n        activeCatalogItem.images[0].id : false;\r\n\r\n    const imageUrl = imageIsConfig ?\r\n        `${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}?1` :\r\n        null\r\n    ;\r\n\r\n    const rgbData = imageIsConfig ?\r\n        activeCatalogItem.images[0].colorRgb : [0,0,0];\r\n    const metaUpload = imageIsConfig ?\r\n        {\r\n            \"id\": activeCatalogItem.images[0].id,\r\n            \"fileName\": activeCatalogItem.images[0].fileName\r\n        } : null;\r\n\r\n\r\n    const [itemEdit, setItemEdit] = useState({...activeCatalogItem});\r\n    const [uploadImage, setUpLoadImage] = useState(imageUrl);\r\n\r\n    const [uploadImageMetadata, setUpLoadImageMetadata] = useState(metaUpload);\r\n\r\n    const [willFitWidth, setWillFitWidth] = useState(\r\n        imageIsConfig ? activeCatalogItem.images[0].willFitWidth : true);\r\n\r\n    const [colorRgb, setColorRgb] = useState(rgbData);\r\n    const [colorRgbOther,setColorRgbOther] = useState(rgbData);\r\n    const [unitPrice, setUnitPrice] = useState(itemEdit.unitPrice);\r\n\r\n    const onValueChange = (fieldName, value) => setItemEdit({...itemEdit, [fieldName]: value});\r\n\r\n    const onValueChangeSale = (fieldName, value) => {\r\n        const newItem = {...itemEdit};\r\n        if(itemEdit.sale === undefined)\r\n            newItem.sale = {...{enabled: true, price: \"0.00\", color: [0,0,0]}, [fieldName]: value};\r\n        else\r\n            newItem.sale = {...newItem.sale, [fieldName]: value};\r\n\r\n        setItemEdit(newItem);\r\n    };\r\n\r\n    const classes = useStyle();\r\n    useEffect(()=>{\r\n        if(activeCatalogItem._id !== itemEdit._id) {\r\n            const imageIsConfig = activeCatalogItem.images\r\n                && activeCatalogItem.images.length > 0;\r\n\r\n            setItemEdit({...activeCatalogItem});\r\n            setUnitPrice(activeCatalogItem.unitPrice);\r\n            setUpLoadImage(imageUrl);\r\n            setColorRgb(rgbData);\r\n            setUpLoadImageMetadata(metaUpload);\r\n            setWillFitWidth(imageIsConfig &&\r\n                activeCatalogItem.images[0].willFitWidth);\r\n        }\r\n    });\r\n\r\n    const onAddCategory =({category})=> {\r\n        const newItem = {...itemEdit};\r\n        const sort = getCatalogCategorySort(category._id);\r\n        newItem.categories = [...newItem.categories,\r\n            {...category, sort}];\r\n        console.log(sort);\r\n        setItemEdit(newItem);\r\n    };\r\n\r\n    const onRemoveCategory = ({categoryId}) => {\r\n        const newItem = {...itemEdit};\r\n        newItem.categories = newItem.categories.filter(\r\n            (cate) => cate._id !== categoryId);\r\n        //debugger;\r\n        setItemEdit(newItem);\r\n    };\r\n\r\n    const colorRgbValue = site?.salesBackgroundColor && site.salesBackgroundColor.length > 2 ?\r\n        `rgb(${site.salesBackgroundColor[0]},${site.salesBackgroundColor[1]}, ${site.salesBackgroundColor[2]})`:\r\n        \"rgb(255,255,255)\";\r\n\r\n    return(\r\n        <div className={classes.rootContainer}>\r\n            <Paper className={classes.paperEntryContainer}>\r\n                <div style={{display:\"flex\"}} >\r\n                    <Button variant=\"contained\"\r\n                            color=\"primary\"\r\n                            startIcon={<Save />}\r\n                            style={{marginRight: 20}}\r\n                            onClick={() => onSaveCatalogItem(itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther)}\r\n                    >\r\n                        Save\r\n                    </Button>\r\n                    <AlertDialog\r\n                        startIcon={<Delete />}\r\n                        onClick={() => onDeleteCatalog(itemEdit)}\r\n                        title={\"Are You Sure?\"}\r\n                        message={`Are You Sure you want to delete \"${itemEdit.shortDesc}\"?`}\r\n                    >\r\n                        Delete\r\n                    </AlertDialog>\r\n\r\n                    <Button\r\n                        startIcon={<Close />}\r\n                        style={{marginRight: 20}}\r\n                        onClick={() => onSetActiveCatalogItem(null)}\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                </div>\r\n                <div className={classes.editContainer}>\r\n                        <TextField\r\n                            style={{width:\"100%\"}}\r\n                            label=\"Short Desc\"\r\n                            value={itemEdit.shortDesc}\r\n                            onChange={(event) => onValueChange(\"shortDesc\", event.target.value)}\r\n                        />\r\n\r\n\r\n                    <div>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Switch\r\n                                    checked={itemEdit.status === \"active\"}\r\n                                    onChange={(event)=> {\r\n                                        const newStatus = event.target.checked ?\r\n                                            \"active\" : \"disabled\";\r\n                                        onValueChange(\"status\",newStatus);\r\n                                    }}\r\n                                    color=\"primary\"\r\n                                    name=\"checkedB\"\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                            }\r\n                            label=\"Show\"\r\n                        />\r\n\r\n                    </div>\r\n                </div>\r\n                <TextField\r\n                    style={{width:\"30%\"}}\r\n                    label=\"Model #\"\r\n                    value={itemEdit.modelNumber || \"\"}\r\n                    onChange={(event) => onValueChange(\"modelNumber\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"60%\"}}\r\n                    label=\"Mfr Name\"\r\n                    value={itemEdit.mfrName || \"\"}\r\n                    onChange={(event) => onValueChange(\"mfrName\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"30%\"}}\r\n                    label={`Unit Price:$ ${toCurrency(itemEdit.unitPrice)}`}\r\n                    value={unitPrice || \"\"}\r\n                    InputProps={{\r\n                        startAdornment:\r\n                            <InputAdornment position=\"start\">$</InputAdornment>\r\n                    }}\r\n                    onChange={(event) => {\r\n                        setUnitPrice(event.target.value);\r\n                        onValueChange(\"unitPrice\", parseFloat(event.target.value));\r\n                    }}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"62%\"}}\r\n                    label=\"Extra Desc\"\r\n                    value={itemEdit.extraDesc}\r\n                    onChange={(event) => onValueChange(\"extraDesc\", event.target.value)}\r\n                />\r\n\r\n\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    multiline\r\n                    maxRows={4}\r\n                    label=\"Description\"\r\n                    value={itemEdit.description}\r\n                    onChange={(event) => onValueChange(\"description\", event.target.value)}\r\n                />\r\n\r\n                <FormControlLabel\r\n                    control={\r\n                        <Checkbox\r\n                            checked={itemEdit.sale && itemEdit.sale.enabled}\r\n                            onChange={()=> {\r\n                                const enabled = (itemEdit.sale && itemEdit.sale.enabled) || false;\r\n                                onValueChangeSale(\"enabled\", !enabled);\r\n                            }}\r\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                        />\r\n                    }\r\n                    label=\"Sale Enabled\"\r\n                />\r\n                {itemEdit.sale && itemEdit.sale.enabled &&\r\n                    <div style={{display: \"flex\",\r\n                        border: `${colorRgbValue} solid 10px`,\r\n                        padding: \"7px\"\r\n                    }}\r\n                    >\r\n                    <TextField\r\n                        style={{width:\"30%\", marginBottom: 10}}\r\n                        label={`Sale Price:$ ${toCurrency(itemEdit.sale.price)}`}\r\n                        value={itemEdit.sale.price || \"\"}\r\n                        InputProps={{\r\n                            startAdornment:\r\n                                <InputAdornment position=\"start\">$</InputAdornment>\r\n                        }}\r\n                        onChange={(event) => {\r\n                            //setUnitPrice(event.target.value);\r\n                            onValueChangeSale(\"price\", parseFloat(event.target.value));\r\n                        }}\r\n                    />\r\n\r\n                    </div>\r\n                }\r\n                <hr />\r\n                <div>\r\n                {categoryList && categoryList.map((categoryRef)=> {\r\n                    const itemCategory = itemEdit.categories.find((itemCat)=> itemCat._id === categoryRef._id );\r\n                    //debugger;\r\n                    return(\r\n                        <FormControlLabel\r\n                            key={categoryRef._id}\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={itemCategory !== undefined}\r\n                                    onChange={(event)=> {\r\n                                        if(itemCategory === undefined && event.target.checked)\r\n                                            onAddCategory({ //onAddCategoryToCatalog\r\n                                                catalog : itemEdit,\r\n                                                category: categoryRef\r\n                                            });\r\n                                        else {\r\n                                            onRemoveCategory({ //onRemoveCategoryFromCatalog\r\n                                                catalog: itemEdit,\r\n                                                categoryId : categoryRef._id\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                            }\r\n                            label={categoryRef.category}\r\n                        />\r\n                    )\r\n                })}\r\n\r\n                </div>\r\n\r\n            {!catalogListLoading && !imageUploading &&\r\n                <div>\r\n                    <div>\r\n                        <input type=\"file\" name=\"myFile\" id=\"myFile\"\r\n                               style={{width:200}}\r\n                               onChange={async (event) => {\r\n                                   console.log(event.target.files);\r\n                                   const reader = new FileReader();\r\n                                   /**\r\n                                    * @param {{target:object}} e\r\n                                    */\r\n                                   reader.onload = function(e) {\r\n                                       console.log(\"image read locally\");\r\n                                       setUpLoadImage(e.target.result);\r\n                                   };\r\n                                   reader.readAsDataURL(event.target.files[0]);\r\n                                   const uploadResult = await onUploadImage(event.target.files[0], imageId);\r\n\r\n                                   if(uploadResult.uploadImageResult) {\r\n                                       setUpLoadImageMetadata(uploadResult.uploadImageResult);\r\n                                   }\r\n                               }}\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n            {catalogListLoading && <span>Saving...</span>}\r\n            {imageUploading && <span>Uploading...</span>}\r\n\r\n\r\n            </Paper>\r\n            <Paper>\r\n            {uploadImage !== null ?\r\n            <PicRatioFill\r\n                width={containerWidth}\r\n                height={containerHeight}\r\n                src={uploadImage}\r\n                onChangeColors={(color)=>{\r\n                    setColorRgb(color.colorRgb);\r\n                    setColorRgbOther(color.colorRgbOpposite);\r\n                    setWillFitWidth(color.willFitWidth);\r\n                    //debugger;\r\n                }}\r\n            />\r\n            : <img width={containerWidth} alt=\"Template\"\r\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII=\" />\r\n            }\r\n            </Paper>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const CatalogItemEdit = connectArray(CatalogItemEditComponent,\r\n    [catalogModel, categoryModel, siteModel]);\r\n\r\nconst useStyle = makeStyles({\r\n    rootContainer: {\r\n        display: \"block\"\r\n    },\r\n    picBorderHeight: {\r\n        width: \"50%\",\r\n        height: containerHeight,\r\n        zIndex: 1,\r\n    },\r\n    picBorderWidth: {\r\n        width: \"100%\",\r\n        height: \"50%\",\r\n        zIndex: 1,\r\n    },\r\n    imageBoxHeight: {\r\n        width: containerWidth,\r\n        height: containerHeight,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\",\r\n        display:\"flex\"\r\n    },\r\n    imageBoxWidth: {\r\n        width: containerWidth,\r\n        height: containerHeight,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\"\r\n    },\r\n    fixHeight: {\r\n        height: \"100%\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n        position: \"relative\",\r\n        zIndex: 2\r\n    },\r\n    fixWidth: {\r\n        width: \"inherit\",\r\n        position: \"absolute\",\r\n        transform: \"translateY(-50%)\",\r\n        zIndex: 2\r\n    },\r\n    editContainer: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\"\r\n    },\r\n    textContainer: {\r\n        '& > *': {\r\n            margin: 7,\r\n        }\r\n    },\r\n    paperEntryContainer: {\r\n        '& > *': {\r\n            margin: 7,\r\n        },\r\n        padding: 10,\r\n        width: \"100%\",\r\n        marginBottom: 15,\r\n        backgroundColor: \"#f2f0ea\"\r\n    }\r\n});\r\n","import React from \"react\";\r\nimport { Chip, Avatar, ListItem, ListItemText } from \"@material-ui/core\";\r\nimport { LibraryBooks } from \"@material-ui/icons\";\r\n\r\nexport const NoData = ({dataCount, children})=> (\r\n        dataCount === 0 &&\r\n        <Chip\r\n            avatar={\r\n                <Avatar>\r\n                    <LibraryBooks />\r\n                </Avatar>\r\n            }\r\n            label=\"No Data\"\r\n        />\r\n                || children\r\n);\r\n\r\nexport const ListNoData = ({dataCount, containerClass, className, children, noDataText})=> (\r\n    <div className={containerClass}>\r\n        {dataCount === 0 &&\r\n            <ListItem className={className}>\r\n                <ListItemText>\r\n                <Chip\r\n                    avatar={\r\n                        <Avatar>\r\n                            <LibraryBooks />\r\n                        </Avatar>\r\n                    }\r\n                    label={noDataText || \"No Data\"}\r\n                />\r\n                </ListItemText>\r\n            </ListItem>\r\n        || children\r\n        }\r\n    </div>\r\n);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {MenuList, MenuItem, IconButton} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Close} from \"@material-ui/icons\";\r\nimport {getItemPropertyValue} from \"../../helpers\";\r\nimport {ListNoData} from \"../NoData\";\r\n\r\nconst useStyle = makeStyles({\r\n        iconRight: {\r\n            position: \"absolute\",\r\n            right: 5,\r\n            top: ({closeButtonTopOffset}) => closeButtonTopOffset || -7\r\n        },\r\n        textDisplay :{\r\n            maxWidth: \"calc(100% - 50px)\",\r\n            overflow: \"hidden\",\r\n            fontSize:14\r\n        },\r\n        itemContainer: {\r\n            minHeight: 20,\r\n            paddingTop: 4,\r\n            paddingBottom: 4\r\n        }\r\n    }\r\n);\r\n\r\nexport const SelectedListComponent = ({items, displayField, onRemove, maxHeight, leftControls,\r\n                                          closeButtonTopOffset\r\n}) => {\r\n\r\n    const classes = useStyle({closeButtonTopOffset});\r\n\r\n\r\n    return (\r\n        <div style={{maxHeight: maxHeight, overflow:\"auto\"}}>\r\n            <MenuList>\r\n                <ListNoData dataCount={items.length}>\r\n                    {items.map((item, index) => (\r\n                        <MenuItem key={index} className={classes.itemContainer}>\r\n                            {leftControls && leftControls(item, index)}\r\n                            <span className={classes.textDisplay}>{getItemPropertyValue(item, displayField)}</span>\r\n                            <IconButton onClick={ ()=> onRemove(item)}\r\n                                        className={classes.iconRight}\r\n                            >\r\n                                <Close/>\r\n                            </IconButton>\r\n                        </MenuItem>\r\n                    ))}\r\n                </ListNoData>\r\n            </MenuList>\r\n        </div>\r\n    );\r\n};\r\n\r\nSelectedListComponent.propTypes = {\r\n    items: PropTypes.array.isRequired,\r\n    displayField: PropTypes.oneOfType([\r\n        PropTypes.node.isRequired,\r\n        PropTypes.func.isRequired\r\n    ]),\r\n    onRemove: PropTypes.func,\r\n    maxHeight: PropTypes.number\r\n};\r\n\r\nexport const SelectedList = SelectedListComponent;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input, FormControl, InputLabel, MenuList, MenuItem, Popper, ClickAwayListener,\r\n    Grow, Paper, InputAdornment, Typography\r\n} from '@material-ui/core';\r\nimport {withStyles} from \"@material-ui/styles\";\r\nimport { Search, ArrowDropDown, ArrowDropUp\r\n} from '@material-ui/icons';\r\nimport { getItemPropertyValue } from \"../helpers\";\r\n\r\nclass SelectSearchComponent extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        const maxOptions = props.maxArrayLength || 7;\r\n        this.optionActiveRef = React.createRef();\r\n        this.state = {\r\n            showFullList: props.showFullList || false,\r\n            showDropDown: props.showDropDown || false,\r\n            searchString: \"\",//this.searchOptions(props.options, props.keyField, props.displayField, props.selected),\r\n            filteredPageOptions: props.options.slice(0,7),\r\n            filteredAllOptions: props.options,\r\n            autoFocus: props.autoFocus,\r\n            hasFocusOptionList: false,\r\n            hasFocusTextBox: false,\r\n            selectedIndex: 0,\r\n            maxArrayLength: maxOptions,\r\n            anchorEl: null\r\n        };\r\n    }\r\n\r\n    static getValueDisplay(props) {\r\n        const searchSelectedItem =props.selected && props.options.filter(item => {\r\n            return item[props.keyField] === props.selected[props.keyField]\r\n        }) || [];\r\n        return searchSelectedItem.length > 0 ? searchSelectedItem[0][props.displayField] : \"\";\r\n    }\r\n\r\n    onShowDropDown(event) {\r\n        // noinspection JSCheckFunctionSignatures\r\n        this.setState({anchorEl: event.currentTarget, showDropDown: true, filteredPageOptions: this.props.options.slice(0,7), filteredAllOptions: this.props.options});\r\n    }\r\n\r\n    hideDropDown() {\r\n        // noinspection JSCheckFunctionSignatures\r\n        this.setState({showDropDown: false});\r\n    }\r\n    /**\r\n     * @param {{keyCode:int}} e\r\n     */\r\n    onKeyPress(e){\r\n\r\n        if(e.keyCode === 13){\r\n            if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex) {\r\n                this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]);\r\n            }else if(this.state.showFullList) {\r\n                this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]);\r\n            }\r\n        } else if(e.keyCode === 40) {\r\n\r\n            if(this.state.showFullList && this.state.filteredAllOptions.length > this.state.selectedIndex + 1) {\r\n                // noinspection JSCheckFunctionSignatures\r\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\r\n                if(this.optionContainerRef && this.optionActiveRef) {\r\n                    if (this.optionContainerRef.scrollTo)\r\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\r\n                    else if (this.optionContainerRef.scrollTop !== undefined)\r\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\r\n                }\r\n            } if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex + 1) {\r\n                // noinspection JSCheckFunctionSignatures\r\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\r\n                if(this.optionContainerRef && this.optionActiveRef) {\r\n                    if (this.optionContainerRef.scrollTo)\r\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\r\n                    else if (this.optionContainerRef.scrollTop !== undefined)\r\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\r\n                }\r\n            }\r\n        } else if(e.keyCode === 38) {\r\n            if(this.state.selectedIndex  > 0) {\r\n                // noinspection JSCheckFunctionSignatures\r\n                this.setState({selectedIndex: this.state.selectedIndex - 1});\r\n                if(this.optionContainerRef && this.optionActiveRef) {\r\n                    if (this.optionContainerRef.scrollTo)\r\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop-46);\r\n                    else if (this.optionContainerRef.scrollTop !== undefined)\r\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop-46;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSearchChange(value) {\r\n        if(value !== \"\") {\r\n            const filtered = value && value.toLowerCase ? this.props.options.filter(item => {\r\n                return getItemPropertyValue(item,this.props.displayField).toLowerCase().indexOf(value.toLowerCase()) > -1;\r\n            }) : [];\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({searchString: value, filteredPageOptions : filtered.slice(0,7), selectedIndex : 0,\r\n                            filteredAllOptions: filtered});\r\n        }\r\n        else\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({searchString: value, filteredPageOptions : this.props.options.slice(0,7), selectedIndex : 0,\r\n                            filteredAllOptions: this.props.options});\r\n    }\r\n\r\n    onItemSelect(item) {\r\n        if(item) {\r\n            this.props.onChange(item);\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({showDropDown: false, searchString: \"\"});\r\n        }\r\n    }\r\n\r\n    onSetAnchor(ref) {\r\n        if(this.state.anchorEl === null && ref != null)\r\n        // noinspection JSCheckFunctionSignatures\r\n            this.setState({anchorEl: ref});\r\n    }\r\n\r\n    render() {\r\n        const valueDisplay = this.constructor.getValueDisplay(this.props);\r\n        const { label, classes } = this.props;\r\n        const {anchorEl, showDropDown} = this.state;\r\n\r\n        const isShowDropDown = Boolean(anchorEl) && showDropDown;\r\n\r\n        return (\r\n            <div className={classes.root} >\r\n                <FormControl style={{width:\"100%\"}}>\r\n                    <ClickAwayListener onClickAway={() => this.hideDropDown()}>\r\n                        <div>\r\n                            {this.state.showDropDown ?\r\n                                <FormControl style={{width:\"100%\"}}>\r\n                                    {label && label.length > 0 &&\r\n                                        <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\r\n                                    }\r\n\r\n                                    <Input\r\n                                        value={this.state.searchString}\r\n                                        ref={(ref) => { this.onSetAnchor(ref); } }\r\n                                        autoFocus={this.state.autoFocus}\r\n                                        onChange={(event)=> this.onSearchChange(event.target.value)}\r\n                                        onKeyDown={(event)=> this.onKeyPress(event)}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <Search style={{marginRight: 10}} color=\"primary\" />\r\n                                                { this.props.onClose &&\r\n                                                    <ArrowDropUp style={{marginRight: 10, cursor:\"pointer\"}}\r\n                                                                 color=\"primary\"\r\n                                                                 onClick={()=> this.props.onClose()}\r\n                                                    />\r\n                                                }\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </FormControl>\r\n                                :\r\n                                <FormControl style={{width:\"100%\"}}>\r\n                                    {label && label.length > 0 &&\r\n                                    <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\r\n                                    }\r\n                                    <Input autoFocus={this.state.autoFocus}\r\n                                        value={valueDisplay}\r\n                                        onClick={(event) => this.onShowDropDown(event)}\r\n                                        onKeyDown={(event) => this.onShowDropDown(event)}\r\n\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <ArrowDropDown style={{marginRight: 10}} color=\"primary\" />\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </FormControl>\r\n                            }\r\n\r\n                            <Popper open={isShowDropDown}\r\n                                    anchorEl={anchorEl}\r\n                                    style={{position:\"fixed\", zIndex:9999}}\r\n                                    transition disablePortal>\r\n\r\n                                {({ TransitionProps, placement }) => (\r\n                                    <Grow\r\n                                        {...TransitionProps}\r\n                                        id=\"menu-list-grow\"\r\n                                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                                    >\r\n                                        <Paper>\r\n                                            {!this.state.showFullList &&\r\n                                                <MenuList>\r\n                                                    {this.props.topControl }\r\n                                                    {this.state.filteredPageOptions.length > 0 &&\r\n                                                        this.state.filteredPageOptions.map((item, index) =>\r\n                                                            (\r\n                                                                <MenuItem key={index}\r\n                                                                          selected={index === this.state.selectedIndex}\r\n                                                                          onClick={() => this.onItemSelect(item)}>\r\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\r\n                                                                </MenuItem>\r\n                                                            ))\r\n                                                    }\r\n                                                    {this.state.filteredPageOptions.length === 0 &&\r\n                                                        <MenuItem>\r\n                                                            No Data\r\n                                                        </MenuItem>\r\n                                                    }\r\n\r\n                                                    {this.state.filteredPageOptions.length > 0 &&\r\n                                                        this.state.maxArrayLength === this.state.filteredPageOptions.length &&\r\n                                                            <Typography\r\n                                                                color=\"textSecondary\"\r\n                                                                className={classes.noOptionsMessage}\r\n                                                            >\r\n                                                                ...\r\n                                                            </Typography>\r\n                                                    }\r\n                                                </MenuList>\r\n                                            }\r\n\r\n                                            {this.state.showFullList &&\r\n                                                <div style={{maxHeight: 300, maxWidth: 300, overflow:\"auto\"}}\r\n                                                     ref={ (ref) => { this.optionContainerRef = ref; } }\r\n                                                >\r\n                                                <MenuList >\r\n                                                    {this.props.topControl }\r\n                                                    {this.state.filteredAllOptions.length > 0 &&\r\n                                                        this.state.filteredAllOptions.map((item, index) =>\r\n                                                        (\r\n                                                            index === this.state.selectedIndex ?\r\n                                                                <span key={index} ref={ (ref) => { this.optionActiveRef = ref; } } >\r\n                                                                <MenuItem\r\n\r\n                                                                          selected={index === this.state.selectedIndex}\r\n                                                                          onClick={() => this.onItemSelect(item)}>\r\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\r\n                                                                </MenuItem>\r\n                                                                </span>\r\n                                                                :\r\n                                                                <MenuItem key={index}\r\n                                                                          selected={index === this.state.selectedIndex}\r\n                                                                          onClick={() => this.onItemSelect(item)}>\r\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\r\n                                                                </MenuItem>\r\n                                                        ))\r\n                                                    }\r\n                                                    {this.state.filteredAllOptions.length === 0 &&\r\n                                                        <MenuItem>\r\n                                                            No Data\r\n                                                        </MenuItem>\r\n                                                    }\r\n                                                </MenuList>\r\n                                                </div>\r\n                                            }\r\n                                        </Paper>\r\n                                    </Grow>\r\n                                )}\r\n                            </Popper>\r\n                        </div>\r\n                    </ClickAwayListener>\r\n                </FormControl>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nSelectSearchComponent.propTypes = {\r\n    displayField: PropTypes.oneOfType([\r\n        PropTypes.node.isRequired,\r\n        PropTypes.func.isRequired\r\n    ]),\r\n    keyField: PropTypes.node.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    showFullList: PropTypes.bool,\r\n    onClose: PropTypes.func,\r\n    topControl: PropTypes.node\r\n};\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        zIndex: 99999999,\r\n        position: \"relative\"\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        minHeight: 56\r\n    },\r\n    noOptionsMessage: {\r\n        padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n    },\r\n});\r\n\r\nexport const SelectSearch = withStyles(styles)(SelectSearchComponent);","import React from 'react';\r\nimport { CircularProgress} from '@material-ui/core';\r\nimport {withStyles} from \"@material-ui/styles\";\r\nimport {  PlayForWork as LoadingIcon} from '@material-ui/icons';\r\n\r\nconst styles = () => ({\r\n    spinnerWrapper: {\r\n        position: 'relative',\r\n        margin: 'auto',\r\n\r\n    },\r\n    fabProgress: {\r\n        color: \"primary\",\r\n        position: 'absolute',\r\n        left: 0,\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nexport const SpinnerDownloadingComponent = ({classes, spinnerSize, style, loading, children}) => {\r\n\r\n    return (\r\n        (children === undefined || loading) ?\r\n            <div className={classes.spinnerWrapper} style={{...style, width: spinnerSize}}>\r\n                <LoadingIcon color=\"secondary\" style={{width: spinnerSize, height: spinnerSize}}/>\r\n                <CircularProgress\r\n                    size={spinnerSize}\r\n                    className={classes.fabProgress}\r\n                />\r\n            </div> :\r\n            children\r\n    );\r\n};\r\n\r\nexport const SpinnerDownloading = withStyles(styles)(SpinnerDownloadingComponent);\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {SelectSearch} from \"../../utility/components\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\n\r\nexport const CategorySelectComponent = ({categoryList, onChange,\r\n                  categoryListInit, onCategoryListInit}) => {\r\n    const [selected, setSelected] = useState(null);\r\n    const modList = [{_id:null, category: \"All\"}, ...categoryList];\r\n    useEffect(()=>{\r\n        if(!categoryListInit)\r\n            onCategoryListInit();\r\n    });\r\n    return (\r\n        <SelectSearch\r\n            label=\"Category\"\r\n            showFullList={true}\r\n            options={modList}\r\n            keyField={\"_id\"}\r\n            displayField={\"category\"}\r\n            onChange={(category) => {\r\n                setSelected(category);\r\n                if(onChange)\r\n                    onChange(category);\r\n            }}\r\n            selected={selected}\r\n        />\r\n    )\r\n};\r\n\r\nexport const CategorySelect = connectArray(CategorySelectComponent,\r\n    [categoryModel]);","import React from  \"react\";\r\nimport {Snackbar, Paper, Typography} from \"@material-ui/core\";\r\nimport {Warning, Close, PriorityHigh} from \"@material-ui/icons\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const PopupError = ({errorMessage, onClearErrorMessage, status}) => {\r\n    const showPopup = !!(errorMessage && errorMessage.length > 0);\r\n    let statusColor = \"#ffffff\";\r\n    let StatusIcon = Warning;\r\n    if(status === \"success\" && showPopup) {\r\n        statusColor = \"#1ead29\";\r\n        StatusIcon = PriorityHigh;\r\n    } else if(showPopup)\r\n        statusColor = \"#ff525b\";\r\n\r\n    return (\r\n        <Snackbar\r\n            anchorOrigin={{ vertical: \"top\", horizontal : \"center\" }}\r\n            open={showPopup}\r\n            autoHideDuration={10000}\r\n            onClose={onClearErrorMessage}>\r\n            <Paper style={{\r\n                padding: 10,\r\n                backgroundColor: statusColor,\r\n                display:\"flex\"}}\r\n                   elevation={3}>\r\n                <StatusIcon style={{marginRight: 15, color:\"white\"}} />\r\n                <Typography style={{color: \"white\"}}>{errorMessage}</Typography>\r\n                <Close onClick={onClearErrorMessage}\r\n                       style={{marginLeft: 15, color:\"white\", cursor: \"pointer\"}}\r\n                />\r\n            </Paper>\r\n        </Snackbar>\r\n    );\r\n};\r\n\r\nPopupError.propTypes = {\r\n    errorMessage: PropTypes.string.isRequired,\r\n    onClearErrorMessage: PropTypes.func.isRequired\r\n};","import React from \"react\";\r\nimport {Card, CardHeader, CardContent, Switch,\r\n    FormControlLabel, Checkbox, IconButton} from \"@material-ui/core\";\r\nimport {ThreeSixty, ArrowForward, ArrowBack} from \"@material-ui/icons\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useCardSize} from \"../../utility/useIsMobile\";\r\nimport {getStore} from \"../../models/accounts/userAuthStore\";\r\nimport {toCurrency} from \"../../utility/helpers\";\r\nimport {PicRatioView} from \"pic-ratio-fill\";\r\nconst {catalogApi} = getStore();\r\n\r\nexport const CatalogCard = ({catalog, onClick, inEdit, onSetStatus,\r\n                            disableEdit, isSaving, category, savingCatalogSort,\r\n                            onAddCategory, onRemoveCategory, showSortArrows,\r\n                            onOrderChange, prevCatalog, nextCatalog,\r\n                                salesBackgroundColor, salesFontColor}) => {\r\n\r\n    const {widthCalc, heightPicCalc} = useCardSize();\r\n    const widthValue= inEdit ? \"100%\" : widthCalc;\r\n    const imageIsConfig = catalog.images && catalog.images.length > 0;\r\n\r\n    const imageId = imageIsConfig ?\r\n        catalog.images[0].id : \"5f41d4dac6f0db5918e4cb20\";\r\n\r\n    const classes = useStyle({\r\n        widthValue,\r\n        heightValue: heightPicCalc\r\n    });\r\n\r\n    const willFitWidth = imageIsConfig && catalog.images[0].willFitWidth;\r\n    const colorRgb = imageIsConfig && catalog.images[0].colorRgb;\r\n    //const colorRgbOther = imageIsConfig && catalog.images[0].colorRgbOther;\r\n\r\n    const filterCategory = category && catalog.categories.filter(\r\n        (cat) => cat._id === category._id ) || [];\r\n    const isInCategory = filterCategory.length > 0;\r\n\r\n    const inCategoryEdit = category && category._id;\r\n\r\n    // noinspection JSUnresolvedVariable\r\n    return (\r\n    <Card className={classes.card}>\r\n\r\n        <div className={classes.cardContainer} >\r\n            {!disableEdit &&\r\n            (\r\n                isSaving ?\r\n                    <FormControlLabel\r\n                        control={\r\n                            <ThreeSixty/>\r\n                        }\r\n                        label=\"Saving\"\r\n                        style={{minHeight: 42, marginLeft: 10}}\r\n                    /> :\r\n                    <FormControlLabel\r\n                        control={\r\n                            <Switch\r\n                                checked={catalog.status === \"active\"}\r\n                                onChange={(event)=> {\r\n                                    const newStatus = event.target.checked ?\r\n                                        \"active\" : \"disabled\";\r\n                                    onSetStatus(newStatus, catalog._id);\r\n                                }}\r\n                                color=\"primary\"\r\n                                name=\"checkedB\"\r\n                                inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                            />\r\n                        }\r\n                        label=\"Show\"\r\n                        style={{marginLeft: 3, marginRight: 0}}\r\n                    />\r\n            )\r\n            }\r\n\r\n            {!disableEdit &&\r\n            (\r\n                isSaving ?\r\n                    <FormControlLabel\r\n                        control={\r\n                            <ThreeSixty/>\r\n                        }\r\n                        label=\"Saving\"\r\n                        style={{minHeight: 42, marginLeft: 10}}\r\n                    /> :\r\n                    (inCategoryEdit && <FormControlLabel\r\n                        control={\r\n                            <Checkbox\r\n                                checked={isInCategory}\r\n                                onChange={(event) => {\r\n                                    const newStatusChecked = event.target.checked;\r\n                                    if(newStatusChecked)\r\n                                        onAddCategory({\r\n                                            catalog:catalog,\r\n                                            category\r\n                                        });\r\n                                    else\r\n                                        onRemoveCategory({\r\n                                            catalog:catalog,\r\n                                            categoryId:category._id\r\n                                        });\r\n                                }}\r\n                                inputProps={{'aria-label': 'primary checkbox'}}\r\n                            />\r\n                        }\r\n                        label=\"Categ...\"\r\n                        style={{marginLeft: 3}}\r\n                    />\r\n                    )\r\n            )\r\n            }\r\n            {\r\n                (catalog.sale === undefined || !catalog.sale.enabled) &&\r\n                <div\r\n                    className={classes.catPrice}\r\n\r\n                >${toCurrency(catalog.unitPrice)}</div>\r\n            }\r\n            {showSortArrows && inCategoryEdit && !savingCatalogSort && prevCatalog && isInCategory &&\r\n                <IconButton aria-label=\"Up\"\r\n                            size=\"medium\"\r\n                            className={classes.buttonLeft}\r\n                            onClick={()=> onOrderChange(catalog, category, prevCatalog)}\r\n                >\r\n                    <ArrowBack fontSize=\"large\" />\r\n                </IconButton>\r\n            }\r\n            <CardContent\r\n                onClick={() => {if(onClick) onClick();}}\r\n                className={willFitWidth ? classes.imageBoxWidth : classes.imageBoxHeight}\r\n            >\r\n                { catalog.sale && catalog.sale.enabled &&\r\n                    <div\r\n                        className={classes.catSale}\r\n                        style={{\r\n                            \"color\" : `rgb(${salesFontColor[0]},${salesFontColor[1]}, ${salesFontColor[2]})`,\r\n                            \"backgroundColor\": `rgb(${salesBackgroundColor[0]},${salesBackgroundColor[1]}, ${salesBackgroundColor[2]})`\r\n                        }}\r\n                    >${catalog.sale?.price}</div>\r\n                }\r\n                <PicRatioView\r\n                    src={`${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}`}\r\n                    width={widthValue}\r\n                    height={heightPicCalc}\r\n                    colorRgb={colorRgb}\r\n                    colorRgbOpposite={colorRgb}\r\n                    willFitWidth={willFitWidth}\r\n                />\r\n\r\n            </CardContent>\r\n            {showSortArrows && inCategoryEdit && !savingCatalogSort && nextCatalog && isInCategory &&\r\n            <IconButton aria-label=\"Up\"\r\n                        className={classes.buttonRight}\r\n                        onClick={()=> onOrderChange(catalog, category, nextCatalog)}\r\n            >\r\n                <ArrowForward fontSize=\"large\"/>\r\n            </IconButton>\r\n            }\r\n        <CardHeader\r\n            title={catalog.shortDesc || \"\"}\r\n            subheader={catalog.modelNumber && catalog.mfrName && `${catalog.mfrName} : ${catalog.modelNumber}` || \"_\"}\r\n            classes={{\r\n                title:classes.cardTitle,\r\n                subheader: classes.cardSubheader,\r\n                content : classes.cardRoot\r\n            }}\r\n        />\r\n        </div>\r\n    </Card>\r\n    )\r\n};\r\n//props => props.widthCalc\r\nconst useStyle = makeStyles({\r\n    catSale: {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        //font: \"800 16px Arial\",\r\n        \"border-bottom-right-radius\": 10,\r\n        \"border-bottom-left-radius\": 10,\r\n        \"border-top-left-radius\": 10,\r\n        color: \"white\",\r\n        right:0,\r\n        transform: \"rotate(30deg)\"\r\n    },\r\n    catPrice: {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#000000ba\",\r\n        //font: \"800 16px Arial\",\r\n        \"border-bottom-right-radius\": 10,\r\n        color: \"white\"\r\n    },\r\n    card: {\r\n        width: props => props.widthValue,\r\n        marginBottom: 20,\r\n        backgroundColor: \"#d0c6c626\"\r\n    },\r\n    cardContainer: {\r\n        position: \"relative\"\r\n    },\r\n    cardTitle: {\r\n        fontSize: 16,\r\n        width:\"100%\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\"\r\n    },\r\n    cardSubheader: {\r\n        fontSize: 14,\r\n        width:\"100%\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\"\r\n    },\r\n    cardRoot: {\r\n        width: \"100%\"\r\n    },\r\n    imageBoxHeight: {\r\n        width: props => props.widthValue,\r\n        height: props => props.heightValue,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\",\r\n        display:\"flex\",\r\n        padding:0\r\n    },\r\n    imageBoxWidth: {\r\n        width: props => props.widthValue,\r\n        height: props => props.heightValue,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\",\r\n        padding:0\r\n    },\r\n    buttonUp : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        left: \"calc(50% - 20px)\",\r\n        top: 40,\r\n        width: 50,\r\n        height: 50\r\n    },\r\n    buttonDown : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        left: \"calc(50% - 20px)\",\r\n        bottom: 75,\r\n        width: 50,\r\n        height: 50\r\n    },\r\n    buttonLeft : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        left: 5,\r\n        top: \"calc(50% - 20px)\",\r\n        width: 50,\r\n        height: 50\r\n    },\r\n    buttonRight : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        top: \"calc(50% - 20px)\",\r\n        right: 5,\r\n        width: 50,\r\n        height: 50\r\n    }\r\n});\r\n\r\n","// noinspection DuplicatedCode\r\n\r\nimport React, {useState, useEffect} from \"react\";\r\nimport {CatalogCard} from \"./CatalogCard\";\r\nimport {Typography, Divider} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {siteModel} from \"../../models/company/siteModel\";\r\nimport {useIsMobile} from \"../../utility/useIsMobile\";\r\n\r\n\r\nexport const CatalogListComponent = ({catalogListFiltered , categorySelected,\r\n         activeCatalogItem ,onSetCatalogStatus, onAddCategoryToCatalog,\r\n         onRemoveCategoryFromCatalog ,catalogStatusLoading, onCatalogOrderChange, savingCatalogSort,\r\n         onSetActiveCatalogItem, catalogListNoCategory, showSortArrows, site})=> {\r\n\r\n    const inEdit = activeCatalogItem !== null;\r\n    const classes = useStyle({inEdit});\r\n    const isMobile = useIsMobile();\r\n    const [itemsToLoad, setItemsToLoad] = useState(4);\r\n    useEffect(()=> {\r\n        console.log(itemsToLoad);\r\n        let tmrRef = null;\r\n        if(itemsToLoad < catalogListFiltered.length) {\r\n            tmrRef = setTimeout(()=> setItemsToLoad(itemsToLoad + 5), 200);\r\n        }\r\n        return () => {\r\n            if(tmrRef) clearTimeout(tmrRef);\r\n        }\r\n    })\r\n    return(\r\n        <div className={classes.container}>\r\n        <div className={classes.catalogListComponent}>\r\n\r\n            {  catalogListFiltered.slice(0, itemsToLoad).map((catalog, index)=> {\r\n\r\n                    const prevCatalog = index > 0 ?\r\n                        catalogListFiltered[index - 1] : null;\r\n\r\n                    const nextCatalog =\r\n                        catalogListFiltered.length > (index - 2) ?\r\n                            catalogListFiltered[index + 1] : null;\r\n\r\n                    const filterCategory = categorySelected && nextCatalog && nextCatalog.categories.filter(\r\n                        (cat) => cat._id === categorySelected._id ) || [];\r\n\r\n\r\n                    const nextIsInCategory = filterCategory.length > 0;\r\n                    return(\r\n                        <CatalogCard\r\n                            showSortArrows={showSortArrows}\r\n                            key={`${catalog._id}${catalog.sort}`}\r\n                            prevCatalog={prevCatalog}\r\n                            nextCatalog={nextIsInCategory ? nextCatalog : null}\r\n                            inEdit={inEdit}\r\n                            catalog={catalog}\r\n                            category={categorySelected}\r\n                            disableEdit={activeCatalogItem != null}\r\n                            onSetStatus={onSetCatalogStatus}\r\n                            onAddCategory={onAddCategoryToCatalog}\r\n                            onRemoveCategory={onRemoveCategoryFromCatalog}\r\n                            isSaving={catalog._id === catalogStatusLoading}\r\n                            onOrderChange={onCatalogOrderChange}\r\n                            savingCatalogSort={savingCatalogSort}\r\n                            salesBackgroundColor={site.salesBackgroundColor || [0, 255, 255]}\r\n                            salesFontColor={site.salesFontColor || [0, 0, 0]}\r\n                            onClick={() => {\r\n                                if (!isMobile) {\r\n                                    onSetActiveCatalogItem(catalog);\r\n                                }\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n            )}\r\n\r\n        </div>\r\n            <Divider variant=\"middle\" />\r\n            {!isMobile && catalogListNoCategory.length > 0 &&\r\n            <Typography gutterBottom variant=\"h5\">\r\n                Items not in any Category\r\n            </Typography>\r\n            }\r\n\r\n            <div className={classes.catalogListComponent}>\r\n\r\n            {!isMobile && catalogListNoCategory.map((catalog, index)=> {\r\n\r\n                    const prevCatalog = index > 0 ?\r\n                        catalogListFiltered[index - 1] : null;\r\n\r\n                    const nextCatalog =\r\n                        catalogListFiltered.length > (index - 2) ?\r\n                            catalogListFiltered[index + 1] : null;\r\n\r\n                    const filterCategory = categorySelected && nextCatalog && nextCatalog.categories.filter(\r\n                        (cat) => cat._id === categorySelected._id ) || [];\r\n\r\n\r\n                    const nextIsInCategory = filterCategory.length > 0;\r\n                    return(\r\n                        <CatalogCard\r\n                            key={`${catalog._id}${catalog.sort}`}\r\n                            prevCatalog={prevCatalog}\r\n                            nextCatalog={nextIsInCategory ? nextCatalog : null}\r\n                            inEdit={inEdit}\r\n                            catalog={catalog}\r\n                            category={categorySelected}\r\n                            disableEdit={activeCatalogItem != null}\r\n                            onSetStatus={onSetCatalogStatus}\r\n                            onAddCategory={onAddCategoryToCatalog}\r\n                            onRemoveCategory={onRemoveCategoryFromCatalog}\r\n                            isSaving={catalog._id === catalogStatusLoading}\r\n                            onOrderChange={onCatalogOrderChange}\r\n                            savingCatalogSort={savingCatalogSort}\r\n                            onClick={() => {\r\n                                if (!isMobile) {\r\n                                    onSetActiveCatalogItem(catalog);\r\n                                }\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n            )}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n//space-between\r\n//space-around\r\nconst useStyle = makeStyles({\r\n\r\n    catalogListComponent: {\r\n        '& :not(:nth-child(6n+1))' : {\r\n            marginLeft: \"calc( (97.6% - (16% * 6)) / 5 )\"\r\n        },\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-start',\r\n    }, container: {\r\n        display:\"block\",\r\n        flexWrap:\"wrap\",\r\n        justifyContent: \"flex-start\",\r\n        width: props => props.inEdit ? \"24vw\" : \"100%\",\r\n        overflow: \"auto\",\r\n    },noCatalogList: {\r\n        '& :not(:nth-child(6n+1))' : {\r\n            marginLeft: \"calc( (97.6% - (16% * 6)) / 5 )\"\r\n        },\r\n        display: 'flex',\r\n        flexWrap: 'nowrap',\r\n        justifyContent: 'flex-start',\r\n    },\r\n\r\n});\r\nexport const CatalogList = connectArray(CatalogListComponent,[catalogModel, categoryModel, siteModel]);\r\n","import React from \"react\";\r\nimport {DataUsage, Category} from\"@material-ui/icons\";\r\n\r\nexport const CatalogItemIcon = DataUsage;\r\nexport const CategoryIcons = Category;\r\n\r\n","import React, {Fragment, useEffect, useState} from \"react\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {siteModel} from \"../../models/company/siteModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {makeStyles, withStyles} from \"@material-ui/core/styles\";\r\nimport {Button, IconButton, Typography} from \"@material-ui/core\";\r\nimport {Close, Edit, Save} from \"@material-ui/icons\";\r\nimport {CatalogItemEdit} from \"./CatalogItemEdit\";\r\nimport {useIsMobile} from \"../../utility/useIsMobile\";\r\nimport {CategorySelect} from \"./CategorySelect\";\r\nimport {PopupError} from \"../../utility/components/PopupError\";\r\nimport {Accordion } from '@material-ui/core';\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {CatalogList} from \"./CatalogListComponent\";\r\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {CatalogItemIcon} from \"../SiteIcons\";\r\nimport {HuePicker, CompactPicker} from \"react-color\";\r\n\r\nconst AccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        padding: theme.spacing(2),\r\n    }\r\n}))(MuiAccordionDetails);\r\nconst AccordionSummary = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgba(0, 0, 0, .03)',\r\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        marginBottom: -1,\r\n        minHeight: 56,\r\n        '&$expanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n        alignItems:'center'\r\n    },\r\n    expanded: {},\r\n})(MuiAccordionSummary);\r\nexport const CatalogTableComponent = ({catalogList,catalogTotals,onSetCatalogTotals,\r\n                                          catalogListInit, onCatalogListInit,\r\n                                          onSetActiveCatalogItem, activeCatalogItem,\r\n                                          onCategorySelectChange, catalogListLoadError,\r\n                                          onClearCatalogError, categoryList,\r\n                                        onSaveSiteColor, siteDataInitialized, onLoadSite,\r\n                                          site, setSalesBackgroundColor, setSalesFontColor\r\n                                      }) => {\r\n\r\n    useEffect(()=> {\r\n        if(!catalogListInit)\r\n            onCatalogListInit();\r\n        if(!siteDataInitialized && catalogList.length > 0)\r\n            onLoadSite();\r\n    });\r\n    useEffect(()=> {\r\n        if(catalogTotals.length===0 && categoryList.length > 0 &&\r\n            catalogList.length > 0) {\r\n\r\n            onSetCatalogTotals(categoryList, catalogList);\r\n        }\r\n    });\r\n\r\n\r\n    const isMobile = useIsMobile();\r\n    const [categorySelected, setCategorySelected] = useState({_id:null, category: \"All\"});\r\n    const [editSalesTextStyle, setEditSalesTextStyle] =\r\n        useState(false);\r\n\r\n    console.log(\"site\");\r\n    console.log(site);\r\n    const salesBackgroundColor = site.salesBackgroundColor ?? [0,255,255];\r\n    const salesFontColor = site.salesFontColor ?? [0,0,0];\r\n    console.log(salesBackgroundColor);\r\n\r\n    const [showSortArrows, setShowSortArrows] = useState(false);\r\n    const inEdit = activeCatalogItem !== null;\r\n    const classes = useStyle({inEdit});\r\n\r\n    const errorMessage = catalogListLoadError &&\r\n        Array.isArray(catalogListLoadError) &&\r\n        catalogListLoadError.length > 0 &&\r\n        `${catalogListLoadError[0].dataPath} ${catalogListLoadError[0].message}`\r\n        || \"Error Saving\";\r\n    console.log(errorMessage);\r\n\r\n\r\n    const salesBackgroundRgbValue = salesBackgroundColor?.length > 2 ?\r\n        `rgb(${salesBackgroundColor[0]},${salesBackgroundColor[1]}, ${salesBackgroundColor[2]})`:\r\n        \"rgb(255,255,255)\";\r\n\r\n    //salesFontColor\r\n    const salesFontRgbValue = salesFontColor.length > 2 ?\r\n        `rgb(${salesFontColor[0]},${salesFontColor[1]}, ${salesFontColor[2]})`:\r\n        \"rgb(255,255,255)\";\r\n\r\n    return (\r\n        <Fragment>\r\n            <PopupError\r\n                errorMessage={catalogListLoadError && errorMessage || \"\"}\r\n                onClearErrorMessage={() => onClearCatalogError(false)}\r\n                status={\"error\"}\r\n            />\r\n            <Accordion\r\n                expanded={editSalesTextStyle}\r\n                className={classes.accordion}\r\n                onChange={()=> {\r\n                    setEditSalesTextStyle(!editSalesTextStyle);\r\n                }}\r\n            >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon/>}\r\n                >\r\n                    <Edit />\r\n                    <Typography className={classes.categoryTitle}>\r\n                        Sales Text Styling\r\n                    </Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <div style={{display:\"flex\"}}>\r\n                        <div>\r\n                            <div style={{display:\"flex\"}}>\r\n                                <Typography className={classes.categoryTitle}\r\n                                            style={{padding: 10, width: 250}}\r\n                                >\r\n                                    Sales Background Color\r\n                                </Typography>\r\n                                <div style={{display: \"flex\",\r\n\r\n                                    padding: \"7px\"\r\n                                }}\r\n                                >\r\n                                    <HuePicker\r\n                                        color={{r: salesBackgroundColor[0], g: salesBackgroundColor[1], b: salesBackgroundColor[2]}}\r\n                                        onChangeComplete={(color) => {\r\n                                            setSalesBackgroundColor([color.rgb.r, color.rgb.g, color.rgb.b]);\r\n                                        }}\r\n                                    />\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div style={{display:\"flex\"}}>\r\n                                <Typography className={classes.categoryTitle}\r\n                                            style={{padding: 10, width: 250}}\r\n                                >\r\n                                    Sales Font Color\r\n                                </Typography>\r\n                                <div style={{display: \"flex\",\r\n\r\n                                    padding: \"7px\",\r\n                                    marginTop: 10\r\n                                }}\r\n                                >\r\n                                    <CompactPicker\r\n                                        color={{r: salesFontColor[0], g: salesFontColor[1], b: salesFontColor[2]}}\r\n                                        onChangeComplete={(color) => {\r\n                                            setSalesFontColor([color.rgb.r, color.rgb.g, color.rgb.b]);\r\n                                        }}\r\n                                    />\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div style={{paddingLeft: 20, display: \"flex\"}}>\r\n                            <div\r\n                                className={classes.catSale}\r\n                                style={{\r\n                                    \"backgroundColor\": `${salesBackgroundRgbValue}`,\r\n                                    \"color\": `${salesFontRgbValue}`,\r\n                                    \"width\": 35,\r\n                                    \"height\": 20\r\n                                }}\r\n                            >$999</div>\r\n\r\n                            <div style={{margin: 20}}>\r\n                                <Button variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        startIcon={<Save />}\r\n                                        style={{marginRight: 20}}\r\n                                        onClick={() => onSaveSiteColor({salesBackgroundColor,salesFontColor})}\r\n                                >\r\n                                    Save Style\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </AccordionDetails>\r\n\r\n            </Accordion>\r\n\r\n            <div style={{width: 360, marginTop: -10, marginBottom: 10}}>\r\n                <CategorySelect\r\n                    onChange={(category) => {\r\n                        setCategorySelected(category);\r\n                        onCategorySelectChange(category);\r\n                    }}\r\n                />\r\n            </div>\r\n            <div className={classes.mainContainer}>\r\n                <div className={classes.scrollContainer}>\r\n                    <div className={classes.container}>\r\n\r\n                        {categoryList.map((category) => {\r\n                           const totals= catalogTotals ? catalogTotals.filter((aItem) =>\r\n                                aItem._id === category._id) : [];\r\n                           const expandCategory = category._id === categorySelected._id;\r\n                            return(\r\n\r\n                            <Accordion expanded={expandCategory}\r\n                                       TransitionProps={{timeout:0}}\r\n                                       onChange={()=>{\r\n                                           console.log(\"click\");\r\n                                           if (category._id === categorySelected._id) {\r\n                                               const emptyCat = {_id: null, category: \"All\"};\r\n                                               setCategorySelected(emptyCat);\r\n                                               onCategorySelectChange(emptyCat);\r\n                                           } else {\r\n                                               setCategorySelected(category);\r\n                                               onCategorySelectChange(category);\r\n                                           }\r\n                                       }}\r\n                                       key={category._id}\r\n                                       className={classes.accordion}\r\n                                       hidden={categorySelected && categorySelected._id && category._id !== categorySelected._id}\r\n\r\n                            >\r\n                                <AccordionSummary\r\n                                    expandIcon={<ExpandMoreIcon/>}\r\n                                >\r\n                                    <CatalogItemIcon />\r\n                                    <Typography className={classes.categoryTitle}>\r\n                                       {category.category}\r\n                                    </Typography>\r\n                                    {!inEdit&&\r\n                                        <>\r\n                                    {\r\n                                        !isMobile && totals.length > 0 &&\r\n                                            <Typography style={{marginRight: '10%', position: 'absolute', right: 30}}>\r\n                                                Active: {totals[0].activeTotal} Disabled: {totals[0].disabledTotal} Total: {totals[0].disabledTotal + totals[0].activeTotal}\r\n                                            </Typography>\r\n                                    }\r\n                                    {!isMobile && !inEdit&& category._id === categorySelected._id ?\r\n                                        <>\r\n                                        <Button variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                className={classes.reorderButton}\r\n                                                onClick={(event)=> {\r\n                                                    event.stopPropagation();\r\n                                                    setShowSortArrows(!showSortArrows);\r\n                                                    console.log(\"test\");\r\n                                                }}\r\n                                        >\r\n                                            {showSortArrows ? \"Hide\" : \"Show\" } Reorder Arrows\r\n                                        </Button>\r\n                                        </> : null}\r\n                                        </>\r\n                                    }\r\n\r\n\r\n                                </AccordionSummary>\r\n                                <AccordionDetails>\r\n\r\n                                    {expandCategory && <CatalogList\r\n                                        showSortArrows={!isMobile && showSortArrows}\r\n                                    />\r\n                                    }\r\n                                </AccordionDetails>\r\n\r\n                            </Accordion>\r\n\r\n\r\n                            )\r\n\r\n                        })\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                {inEdit &&\r\n                <div className={classes.containerEdit}>\r\n                    <div style={{width: \"100%\"}}>\r\n                        <IconButton\r\n                            className={classes.editControl}\r\n                            onClick={()=> {\r\n                                onSetActiveCatalogItem(null);\r\n                            }}\r\n                        >\r\n                            <Close/>\r\n                        </IconButton>\r\n                    </div>\r\n                    <CatalogItemEdit />\r\n                </div>\r\n                }\r\n\r\n\r\n\r\n            </div>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const CatalogTable = connectArray(CatalogTableComponent,\r\n    [catalogModel, categoryModel, siteModel]);\r\n\r\nconst useStyle = makeStyles({\r\n    catSale: {\r\n        //position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        //font: \"800 16px Arial\",\r\n        \"border-bottom-right-radius\": 10,\r\n        \"border-bottom-left-radius\": 10,\r\n        \"border-top-left-radius\": 10,\r\n        color: \"white\",\r\n        right:0,\r\n        transform: \"rotate(0deg)\"\r\n    },\r\n    scrollContainer: {\r\n        height: \"calc( 100vh - 120px)\",\r\n        width: props => props.inEdit ? \"0vw\" : \"100%\",\r\n        overflow: \"auto\",\r\n    },\r\n    container: {\r\n        display:\"block\",\r\n        flexWrap:\"wrap\",\r\n        justifyContent: \"space-between\",\r\n        width:  \"100%\",\r\n\r\n    },\r\n    containerEdit: {\r\n        display:\"flex\",\r\n        flexWrap:\"wrap\",\r\n        justifyContent: \"flex-start\",\r\n        height: 80,\r\n        width: \"calc( 75vw - 87px)\"\r\n    },\r\n    editControl: {\r\n        position: \"absolute\",\r\n        right: 10,\r\n        //top: 90,\r\n        zIndex: 999\r\n    },\r\n    mainContainer: {\r\n        display:\"flex\",\r\n        flexWrap:\"wrap\",\r\n    },\r\n    gridList: {\r\n        flexWrap: 'wrap',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n      },\r\n      gridListBottom: {\r\n        flexWrap: 'nowrap',\r\n        bottom:0,\r\n        position:'absolute',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n        display:'flex',\r\n        width: '100%',\r\n        overflow: 'scroll'\r\n\r\n      },\r\n      gridListTile:{\r\n\r\n\r\n      },\r\n      accordion:{\r\n          height:'100%'\r\n      },\r\n    accordionDetails:{\r\n        '&$expanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n      reorderButton: {\r\n        margin:0,\r\n          'text-transform':'none',\r\n          background:'#64b5f6',\r\n          marginLeft:'40px'\r\n      },\r\n    categoryTitle:{\r\n        fontWeight:500,\r\n        fontSize:'large',\r\n        marginLeft: 15\r\n    }\r\n});\r\n","import React, {Fragment} from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {OpenWith} from \"@material-ui/icons\";\r\nimport {CatalogTable} from \"../catalog/CatalogTable\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {CatalogItemIcon} from \"../SiteIcons\";\r\n\r\nexport const HomeMainComponent = ({onCreateNewCatalog,\r\n    onCatalogSearch, catalogSearchText }) => {\r\n    //const { user, isAuthenticated } = useAuth0();\r\n\r\n    return (\r\n        <Fragment>\r\n            <AppBarTitleAddSearch\r\n                title=\"Catalogs\"\r\n                LeftIcon={CatalogItemIcon}\r\n                onSearchChange={(value) => {\r\n                    onCatalogSearch(value);\r\n                }}\r\n\r\n                onAdd={()=> {\r\n                    onCreateNewCatalog();\r\n                } }\r\n            />\r\n            <CatalogTable/>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport const HomeMain = connectArray(HomeMainComponent,[catalogModel]);","import React, {Fragment} from 'react';\r\nimport { Redirect, Route} from 'react-router-dom';\r\nimport {hasFeature, hasToken} from \"../models/accounts/userAuthStore\";\r\nimport {useAuth0} from \"@auth0/auth0-react\";\r\n\r\nexport const PrivateRoute = ({ history, permission, component: Component, ...rest }) => {\r\n    const { isLoading, isAuthenticated } = useAuth0();\r\n\r\n    const calcHasFeature = hasFeature(permission);\r\n    const calcHasAuth = (isAuthenticated || hasToken()) && calcHasFeature;\r\n\r\n    return (\r\n        <Route {...rest} render={(props) => {\r\n            //hasFeature(permission) ||\r\n            return (\r\n                <Fragment>\r\n                    {calcHasAuth && <Component {...props} />}\r\n                    {!calcHasAuth && !isLoading &&\r\n                    <Redirect push={true} to={{pathname: '/login', state: {from: props.location}}}/>\r\n                    }\r\n                    {!calcHasAuth && isLoading &&\r\n                    <span>...Loading User Privileges</span>\r\n                    }\r\n                </Fragment>\r\n            );\r\n        }}\r\n        />\r\n    )\r\n};","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Paper, ListItemText, ListItem, TextField,\r\n    ListItemIcon, FormControlLabel, Checkbox, IconButton,\r\n    InputLabel, Select, MenuItem, FormControl\r\n} from \"@material-ui/core\";\r\nimport {Category, Save, Delete} from \"@material-ui/icons\";\r\n\r\nexport const CategoryItemEdit = ({category, saveCategory, deleteCategoey}) => {\r\n    const [itemChanged, setItemChanged] = useState(false);\r\n    const [itemEdit, setItemEdit] = useState({...category});\r\n    const onValueChange = (fieldName, value) => {\r\n        setItemEdit({...itemEdit, [fieldName]: value});\r\n        setItemChanged(true);\r\n    };\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <Paper className={classes.paper}>\r\n            <ListItem style={{display: \"flex\"}}>\r\n                <ListItemIcon>\r\n                    <Category />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    primary={itemEdit.category}\r\n                    classes={{\r\n                        primary: itemChanged ? classes.title : undefined\r\n                    }}\r\n                />\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            saveCategory(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Save />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            deleteCategoey(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Delete />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n            </ListItem>\r\n            <ListItem>\r\n                <FormControlLabel\r\n                    style={{width:\"50%\"}}\r\n                    control={\r\n                        <Checkbox\r\n                            checked={itemEdit.systemOnly}\r\n                            onChange={(event)=> {\r\n                                const newStatus = event.target.checked;\r\n                                onValueChange(\"systemOnly\",newStatus);\r\n                            }}\r\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                        />\r\n                    }\r\n                    label=\"System\"\r\n                />\r\n                <FormControl className={classes.formControl}>\r\n                    <InputLabel>Sort</InputLabel>\r\n                    <Select\r\n                        value={itemEdit.sort}\r\n                        onChange={(event)=>{\r\n                            onValueChange(\"sort\",event.target.value)\r\n                        }}\r\n                    >\r\n                        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((value) => (\r\n                            <MenuItem key={value} value={value}>{value}</MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Title\"\r\n                    value={itemEdit.category}\r\n                    onChange={(event) => onValueChange(\"category\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    edgeEndChange: {\r\n        marginRight: -20\r\n    },\r\n    title: {\r\n        fontWeight: 900,\r\n        color: \"limegreen\",\r\n        fontSize: \"x-large\"\r\n    }\r\n}));","import React, {Fragment, useEffect} from \"react\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {CategoryItemEdit} from \"./CategoryItemEdit\";\r\n\r\nconst CategoryTableComponent = ({onCategoryListInit, categoryListInit,\r\n                                    categoryList, onSaveCategoryItem,\r\n                                    onDeleteCategory}) => {\r\n    useEffect(()=> {\r\n        if(!categoryListInit)\r\n            onCategoryListInit();\r\n    });\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <Grid container className={classes.root} spacing={2}>\r\n            {categoryList.map((category, index) => {\r\n\r\n                return (\r\n                    <Grid item xs={12} md={4} key={category._id}>\r\n                        <CategoryItemEdit\r\n                            category={category}\r\n                            saveCategory={onSaveCategoryItem}\r\n                            deleteCategoey={onDeleteCategory}\r\n                        />\r\n                    </Grid>\r\n                )\r\n            })}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const CategoryTable = connectArray(CategoryTableComponent,\r\n    [categoryModel]);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    control: {\r\n\r\n    },\r\n}));","import React, {Fragment} from \"react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {OpenWith} from \"@material-ui/icons\";\r\nimport {CategoryTable} from \"../catalog/CategoryTable\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\n\r\nexport const CategoryMaintenanceComponent = ({onCreateNewCategory}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Fragment>\r\n\r\n            <AppBarTitleAddSearch\r\n                title=\"Category\"\r\n                LeftIcon={OpenWith}\r\n                onSearchChange={(value) => {}}\r\n                onAdd={()=> {\r\n                    onCreateNewCategory();\r\n                }}\r\n            />\r\n            <div className={classes.mainContainer}>\r\n                <CategoryTable/>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const CategoryMaintenance = connectArray(\r\n    CategoryMaintenanceComponent, [categoryModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer: {\r\n        backgroundColor: \"#e8e7e7\",\r\n        minHeight: \"calc(100vh - 65px)\",\r\n        padding: 5,\r\n        marginTop: -10\r\n    }\r\n});\r\n","\r\n\r\nexport const hoursToView = (hoursFull) => {\r\n    const result = [];\r\n    if(hoursFull && Array.isArray(hoursFull) && hoursFull.length > 0) {\r\n        let prevHour = {hours: \"\"};\r\n        let prevResult = \"\";\r\n        hoursFull.forEach((hourIn, index)=> {\r\n            if(index > 0 && prevHour.hours !== hourIn.hours)\r\n                result.push(prevResult);\r\n\r\n            prevResult = calcHour(hourIn.day, hourIn.hours, prevHour);\r\n\r\n            if(prevHour.hours !== hourIn.hours)\r\n                prevHour = hourIn;\r\n        });\r\n        result.push(prevResult);\r\n    }\r\n    return result.length > 0 ? result : [\"Please call for hours\"];\r\n};\r\n\r\nconst calcHour = (day, hours, prevDay) => {\r\n    const dayRef = dayOptions.filter((dayOption) => dayOption.id === day);\r\n    const dayRefPrev = prevDay ? dayOptions.filter((dayOption) => dayOption.id === prevDay.day)\r\n        : null;\r\n\r\n    if(dayRef.length > 0) {\r\n        if (dayRefPrev && dayRefPrev.length > 0 && prevDay.hours === hours)\r\n            return `${dayRefPrev[0].short} to ${dayRef[0].short} ${hours}`;\r\n        else\r\n            return `${dayRef[0].short} ${hours}`;\r\n    }\r\n    else\r\n        return \"\";\r\n};\r\n\r\nexport const createHoursEditModel = (startingHours) => {\r\n    return dayOptions.map((dayOption) => {\r\n        const findHour = startingHours.filter((stHour) => stHour.day === dayOption.id);\r\n        if(findHour.length > 0)\r\n            return {...dayOption, hours: findHour[0].hours, selected: true};\r\n        else\r\n            return {...dayOption, hours: \"\", selected: false};\r\n    });\r\n};\r\n\r\nexport const dayOptions = [\r\n    {\r\n        \"id\": 0,\r\n        \"name\": \"Sunday\",\r\n        \"short\": \"Sun\"\r\n    }, {\r\n        \"id\": 1,\r\n        \"name\": \"Monday\",\r\n        \"short\": \"Mon\"\r\n    }, {\r\n        \"id\": 2,\r\n        \"name\": \"Tuesday\",\r\n        \"short\": \"Tues\"\r\n    }, {\r\n        \"id\": 3,\r\n        \"name\": \"Wednesday\",\r\n        \"short\": \"Wed\"\r\n    }, {\r\n        \"id\": 4,\r\n        \"name\": \"Thursday\",\r\n        \"short\": \"Thurs\"\r\n    }, {\r\n        \"id\": 5,\r\n        \"name\": \"Friday\",\r\n        \"short\": \"Fri\"\r\n    }, {\r\n        \"id\": 6,\r\n        \"name\": \"Saturday\",\r\n        \"short\": \"Sat\"\r\n    }\r\n];","import React, {Fragment, useState} from \"react\";\r\nimport {createHoursEditModel} from \"../../models/company/locationHoursManager\";\r\nimport {ListItem, ListItemIcon, Checkbox,\r\n    ListItemText, TextField, Button} from \"@material-ui/core\"\r\nimport {Save} from \"@material-ui/icons\";\r\nexport const LocationHoursEdit = ({hoursFull, save}) => {\r\n    const [viewHours, setViewHours] =\r\n        useState(createHoursEditModel(hoursFull));\r\n    const changeValue = (arrayIndex, fieldName, fieldValue) => {\r\n        const newValue = viewHours.map((hour, index)=> {\r\n            if(arrayIndex === index)\r\n                return {...hour, [fieldName]: fieldValue};\r\n            else\r\n                return hour;\r\n        });\r\n        setViewHours(newValue);\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {\r\n                viewHours.map((hour, index) => {\r\n\r\n                    return (\r\n                        <ListItem key={hour.id} role={undefined} dense button>\r\n                            <ListItemIcon>\r\n                                <Checkbox\r\n                                    edge=\"start\"\r\n                                    checked={hour.selected}\r\n                                    tabIndex={-1}\r\n                                    disableRipple\r\n                                    onChange={(event)=> {\r\n                                        changeValue(index,\"selected\",\r\n                                            event.target.checked)\r\n                                    }}\r\n                                />\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                style={{minWidth:100}}\r\n                                primary={hour.name} />\r\n                            <ListItemText\r\n                                style={{minWidth:200}}\r\n                                primary={\r\n                                    <TextField\r\n                                        label=\"Hours\"\r\n                                        value={hour.hours}\r\n                                        onChange={(event) => {\r\n                                            changeValue(index, \"hours\",\r\n                                                event.target.value)\r\n                                        }}\r\n                                />}\r\n                            />\r\n                        </ListItem>\r\n                    )\r\n                })\r\n            }\r\n            <Button\r\n                style={{marginTop: 20}}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                startIcon={<Save />}\r\n                onClick={()=> {\r\n                    save(viewHours.filter((vh)=> vh.selected)\r\n                        .map((vh) => ({\r\n                        day: vh.id,\r\n                        hours: vh.hours\r\n                    })))\r\n                }}\r\n            >\r\n                Save\r\n            </Button>\r\n        </Fragment>\r\n    );\r\n};","import React, {useState} from  \"react\";\r\nimport {hoursToView} from \"../../models/company/locationHoursManager\";\r\nimport {Modal,Paper, ListItem, ListItemIcon,\r\n    ListItemText, IconButton} from \"@material-ui/core\";\r\nimport {AccessTime, Close, Edit, Timelapse} from \"@material-ui/icons\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {LocationHoursEdit} from \"./LocationHoursEdit\";\r\n\r\nexport const LocationHours = ({hoursFull, save}) => {\r\n    //const [hours, setHours] = useState(hoursToView(hoursFull));\r\n    const hours = hoursToView(hoursFull);\r\n    const [open, setOpen] = useState(false);\r\n    const classes = useStyle();\r\n    return (\r\n        <div>\r\n            <ListItem>\r\n                <ListItemIcon\r\n                    style={{marginLeft: -25}}\r\n                >\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            setOpen(true);\r\n                        }}\r\n                    >\r\n                        <Edit />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    primary=\"Hours\"\r\n                    classes={{\r\n                        primary: undefined\r\n                    }}\r\n                />\r\n\r\n\r\n            </ListItem>\r\n\r\n            {hours.map((hour) => {\r\n\r\n                return (\r\n                    <div key={hour}>{hour}</div>\r\n                )\r\n              })\r\n            }\r\n            <Modal\r\n                open={open}\r\n                onClose={()=> setOpen(false)}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n            >\r\n                <Paper className={classes.modalPaper}>\r\n                    <ListItem style={{\r\n                        display: \"flex\",\r\n                        marginTop:-15\r\n                    }}>\r\n                        <ListItemIcon style={{marginLeft:-20}}>\r\n                            <AccessTime />\r\n                        </ListItemIcon>\r\n\r\n                        <ListItemText\r\n                            primary=\"Hours\"\r\n                        />\r\n\r\n                        <ListItemIcon className={classes.edgeEndChange}>\r\n                            <IconButton\r\n                                edge=\"end\"\r\n                                aria-label=\"Save\"\r\n                                color=\"primary\"\r\n                                classes={{\r\n                                    edgeEnd:classes.edgeEndChange\r\n                                }}\r\n                                onClick={()=> {\r\n                                    setOpen(false);\r\n                                }}\r\n                            >\r\n                                <Close />\r\n                            </IconButton>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                    <LocationHoursEdit\r\n                        hoursFull={hoursFull}\r\n                        save={(newList)=> {\r\n                            setOpen(false);\r\n                            //setHours(hoursToView(newList));\r\n                            save(newList);\r\n                        }}\r\n                    />\r\n                </Paper>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst useStyle = makeStyles({\r\n    modalPaper: {\r\n        position: 'absolute',\r\n        width: 400,\r\n        padding: 20,\r\n        top: \"5%\",\r\n        left: \"calc(50% - 200px)\",\r\n        overflowX: \"hidden\",\r\n        overflowY: \"auto\",\r\n        minHeight: 300\r\n    },\r\n    edgeEndChange: {\r\n        marginRight: -20\r\n    },\r\n});","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Paper, ListItemText, ListItem, TextField,\r\n    ListItemIcon, IconButton\r\n} from \"@material-ui/core\";\r\nimport {HomeTwoTone, Save, Delete} from \"@material-ui/icons\";\r\nimport {LocationHours} from \"./LocationHours\";\r\n\r\nexport const LocationItemEdit = ({location, saveLocation,\r\n                                     deleteLocation}) => {\r\n\r\n    const [itemChanged, setItemChanged] = useState(false);\r\n    const [itemEdit, setItemEdit] = useState({...location});\r\n    const onValueChange = (fieldName, value, setChange = true) => {\r\n        setItemEdit({...itemEdit, [fieldName]: value});\r\n        setItemChanged(setChange);\r\n    };\r\n\r\n    const onChangeAddress = (fieldName, value) => {\r\n        const address = {...itemEdit.address, [fieldName]: value};\r\n        setItemEdit({...itemEdit, address });\r\n        setItemChanged(true);\r\n    };\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <Paper className={classes.paper}>\r\n            <ListItem>\r\n                <ListItemIcon>\r\n                    <HomeTwoTone />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    primary={itemEdit.locationName}\r\n                    classes={{\r\n                        primary: itemChanged ? classes.title : undefined\r\n                    }}\r\n                />\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            saveLocation(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Save />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            deleteLocation(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Delete />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Title\"\r\n                    value={itemEdit.locationName}\r\n                    onChange={(event) => onValueChange(\"locationName\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Address 1\"\r\n                    value={itemEdit.address.address1}\r\n                    onChange={(event) => onChangeAddress(\"address1\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Address 2\"\r\n                    value={itemEdit.address.address2}\r\n                    onChange={(event) => onChangeAddress(\"address1\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"45%\", marginRight:\"10%\"}}\r\n                    label=\"City\"\r\n                    value={itemEdit.address.city}\r\n                    onChange={(event) => onChangeAddress(\"city\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"45%\"}}\r\n                    label=\"State\"\r\n                    value={itemEdit.address.state}\r\n                    onChange={(event) => onChangeAddress(\"state\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"30%\", marginRight:\"5%\"}}\r\n                    label=\"Zip Code\"\r\n                    value={itemEdit.address.zipCode}\r\n                    onChange={(event) => onChangeAddress(\"zipCode\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"30%\", marginRight:\"5%\"}}\r\n                    label=\"Phone#\"\r\n                    value={itemEdit.phonePublic}\r\n                    onChange={(event) => onValueChange(\"phonePublic\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"30%\"}}\r\n                    label=\"Map Link\"\r\n                    value={itemEdit.mapLink}\r\n                    onChange={(event) => onValueChange(\"mapLink\", event.target.value)}\r\n                />\r\n\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Email\"\r\n                    value={itemEdit.email}\r\n                    onChange={(event) => onValueChange(\"email\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <LocationHours\r\n                    hoursFull={itemEdit.hours}\r\n                    save={(hours)=> {\r\n                        onValueChange(\"hours\",hours, false);\r\n                        saveLocation({...itemEdit, hours});\r\n                    }}\r\n                    />\r\n            </ListItem>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    edgeEndChange: {\r\n        marginRight: -20\r\n    },\r\n    title: {\r\n        fontWeight: 900,\r\n        color: \"limegreen\",\r\n        fontSize: \"x-large\"\r\n    }\r\n}));","import React, {Fragment, useEffect} from \"react\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {companyLocationModel} from \"../../models/company/companyLocationsModel\";\r\nimport {LocationItemEdit} from \"./LocationItemEdit\";\r\n\r\nconst LocationTableComponent = ({onLocationListInit, locationListInit,\r\n                                    locationList, onSaveLocationItem,\r\n                                    onDeleteLocation}) => {\r\n    useEffect(()=> {\r\n        if(!locationListInit)\r\n            onLocationListInit();\r\n    });\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <Grid container className={classes.root} spacing={2}>\r\n                {locationList.map((location) => {\r\n\r\n                    return (\r\n                        <Grid item xs={12} md={4} key={location._id}>\r\n                            <LocationItemEdit\r\n                                location={location}\r\n                                saveLocation={onSaveLocationItem}\r\n                                deleteLocation={onDeleteLocation}\r\n                            />\r\n                        </Grid>\r\n                    )\r\n                })}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const LocationTable = connectArray(LocationTableComponent,\r\n    [companyLocationModel]);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    control: {\r\n\r\n    },\r\n}));","import React, {Fragment} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {companyLocationModel} from \"../../models/company/companyLocationsModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {OpenWith} from \"@material-ui/icons/index\";\r\nimport {LocationTable} from \"./LocationTable\";\r\n\r\nexport const LocationMaintenanceComponent = ({onCreateNewLocation}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Fragment>\r\n            <AppBarTitleAddSearch\r\n                title=\"Locations\"\r\n                LeftIcon={OpenWith}\r\n                onSearchChange={(value) => {}}\r\n                onAdd={()=> {\r\n                    onCreateNewLocation();\r\n                }}\r\n            />\r\n            <div className={classes.mainContainer}>\r\n                <LocationTable/>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport const LocationMaintenance = connectArray(\r\n    LocationMaintenanceComponent, [companyLocationModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer: {\r\n        backgroundColor: \"#e8e7e7\",\r\n        minHeight: \"calc(100vh - 65px)\",\r\n        padding: 5,\r\n        marginTop: -10\r\n    }\r\n});","\r\nexport const catalogExportFields = [\r\n    \"modelNumber\",\r\n    \"mfrName\",\r\n    \"shortDesc\",\r\n    \"unitPrice\",\r\n    \"status\",\r\n    \"images.0.fileName\"\r\n];\r\n\r\nexport const catalogTableConfig = {\r\n    key: \"modelNumber\",\r\n    itemsPerPage: 10,\r\n    defaultSort: \"modelNumber\",\r\n    sortDescending: false,\r\n    columns: [\r\n        { fieldForSort: \"modelNumber\", columnLabel: \"Model#\" },\r\n        { fieldForSort: \"mfrName\", columnLabel: \"Mfr\" },\r\n        { fieldForSort: \"unitPrice\", columnLabel: \"Price\" },\r\n        { fieldForSort: \"status\", columnLabel: \"Status\" },\r\n        { fieldForSort: \"images.0.fileName\", columnLabel: \"File\" },\r\n    ]\r\n}\r\n\r\nexport const catalogSelectOptions = [\r\n    { fieldName: \"mfrName\", columnLabel: \"Manufacturer\" },\r\n    { fieldName: \"status\", columnLabel: \"Status\" }\r\n];","import React, {useEffect, useState} from \"react\";\r\nimport XLSX, {utils} from  \"xlsx\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {connectArray, convertToSheetArray} from \"../../utility/helpers\";\r\nimport {FormControlLabel, Switch, Paper, Button} from \"@material-ui/core\";\r\nimport {TableChart} from \"@material-ui/icons\";\r\nimport {catalogExportFields, catalogTableConfig} from \"../../models/home/catalogXlExport\";\r\nimport {createFilterOptions} from \"../../utility/helpers\";\r\nimport {SpinnerDownloading} from \"../../utility/components\";\r\nimport {TablePaging} from \"table-page-search\";\r\nimport {catalogSelectOptions} from \"../../models/home/catalogXlExport\";\r\nimport {getItemPropertyValue} from \"../../utility/helpers\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst CatalogSearchMainComponent = ({catalogList, catalogListInit,\r\n              onCatalogListInit, catalogListLoading}) => {\r\n    useEffect(()=> {\r\n        if(!catalogListInit) {\r\n            onCatalogListInit();\r\n        } else if(catalogFiltered === null && !catalogListLoading) {\r\n            setCatalogFiltered(catalogList);\r\n            const options = createFilterOptions(catalogSelectOptions,\r\n                catalogList);\r\n            setFilterOptions(options);\r\n        }\r\n    });\r\n    const [catalogFiltered, setCatalogFiltered]= useState(null);\r\n    const [filterOptions, setFilterOptions]= useState(null);\r\n\r\n    console.log(filterOptions);\r\n\r\n    const onFilterOptionToggle = (fieldName, optionValue, isSelected) => {\r\n        const newFilterOptions = {\r\n            fieldList: filterOptions.fieldList\r\n        };\r\n\r\n        const filterSets = {};\r\n\r\n        filterOptions.fieldList.forEach((fieldRef) => {\r\n            filterSets[fieldRef.fieldName] = [];\r\n            newFilterOptions[fieldRef.fieldName] =\r\n                filterOptions[fieldRef.fieldName].map(\r\n                    (optionRef) => optionRef.option ===  optionValue ?\r\n                        {option : optionValue, selected: isSelected} :\r\n                        optionRef\r\n                );\r\n            newFilterOptions[fieldRef.fieldName].forEach((optionRef) => {\r\n                if(optionRef.selected)\r\n                    filterSets[fieldRef.fieldName].push(optionRef.option);\r\n            });\r\n        });\r\n\r\n        const newCatalogFiltered = catalogList.filter((catalog)=>{\r\n            let isIncluded = true;\r\n            newFilterOptions.fieldList.forEach((fieldRef) => {\r\n                const catalogValue = getItemPropertyValue(catalog, fieldRef.fieldName);\r\n                if(filterSets[fieldRef.fieldName].length > 0 && filterSets[fieldRef.fieldName].indexOf(catalogValue) === -1)\r\n                    isIncluded = false;\r\n            });\r\n            return isIncluded;\r\n        })\r\n        setFilterOptions(newFilterOptions);\r\n        setCatalogFiltered(newCatalogFiltered);\r\n    };\r\n    const classes = useStyle();\r\n    return (\r\n        catalogFiltered === null ?\r\n            <SpinnerDownloading\r\n                spinnerSize={60}\r\n                style={{paddingTop: \"25vh\"}}\r\n            /> :\r\n        <div>\r\n            Total Records : {catalogFiltered && catalogFiltered.length}\r\n            {filterOptions && <div>\r\n                {filterOptions.fieldList.map((fieldRef)=> {\r\n\r\n                    return (\r\n                        <Paper key={fieldRef.fieldName} className={classes.filterContainer}>\r\n                            <label className={classes.optionLabel} >\r\n                                {fieldRef.columnLabel}\r\n                            </label>\r\n                        <div className={classes.filterItemContainer}>\r\n\r\n                            {filterOptions[fieldRef.fieldName].map(\r\n                                (optionRef) => {\r\n\r\n                                    return (\r\n                                        <div key={optionRef.option}  className={classes.optionContainer}>\r\n                                            <FormControlLabel\r\n                                                control={\r\n                                                    <Switch\r\n                                                        checked={optionRef.selected}\r\n                                                        onChange={(event)=> {\r\n                                                            onFilterOptionToggle(fieldRef.fieldName, optionRef.option, event.target.checked);\r\n                                                        }}\r\n                                                        color=\"primary\"\r\n                                                        name=\"checkedB\"\r\n                                                        inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                                    />\r\n                                                }\r\n                                                label={\r\n                                                    <span>\r\n                                                        {optionRef.option && optionRef.option.length > 0 ? optionRef.option : \"None\"}\r\n                                                    </span>\r\n                                                }\r\n                                                style={{marginLeft: 3, marginRight: 0}}\r\n                                            />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                        </div>\r\n                        </Paper>\r\n                    );\r\n                })}\r\n            </div>\r\n            }\r\n            <TablePaging\r\n                dataList={catalogFiltered}\r\n                headerConfig={catalogTableConfig}\r\n            />\r\n            <Button\r\n                startIcon={<TableChart />}\r\n                style={{marginRight: 20, marginTop: 20, marginBottom:30}}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                    const data = convertToSheetArray(catalogFiltered, catalogExportFields);\r\n                    /* convert from array of arrays to workbook */\r\n                    const worksheet = utils.aoa_to_sheet(data);\r\n                    const new_workbook = utils.book_new();\r\n                    utils.book_append_sheet(new_workbook, worksheet, \"Catalog\");\r\n\r\n                    XLSX.writeFile(new_workbook, 'catalog.xlsx');\r\n                }}\r\n            >\r\n                Export\r\n            </Button>\r\n        </div>\r\n    );};\r\n\r\nexport const CatalogSearchMain = connectArray(CatalogSearchMainComponent,\r\n    [catalogModel]);\r\n\r\nconst useStyle = makeStyles({\r\n    filterContainer : {\r\n        margin: 10,\r\n        padding: 10,\r\n        border: \"black solid 2px\"\r\n    },\r\n    filterItemContainer:{\r\n        display: \"flex\",\r\n        flexFlow: \"row wrap\",\r\n    },\r\n    optionLabel: {\r\n        width: 110\r\n    },\r\n    optionContainer: {\r\n        width: 220\r\n    }\r\n})\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {statsModel} from \"../../models/stats/statsModel\";\r\nimport {Timeline} from \"@material-ui/icons\";\r\nimport {\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    Legend,\r\n    LabelList\r\n} from 'recharts';\r\n\r\nconst HitReportMainComponent = ({hitChartData, hitReportInitDone, onHitReportInit,weekEndDate,weekStartDate,setWeekDays})=> {\r\n    useEffect(()=> {\r\n\r\n        if(!hitReportInitDone)\r\n            onHitReportInit();\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <AppBarTitleAddSearch\r\n                title={`Weekly Hits ${weekStartDate} - ${weekEndDate}`}\r\n                LeftIcon={Timeline}\r\n            />\r\n\r\n\r\n                <BarChart\r\n                    width={800}\r\n                    height={300}\r\n                    data={hitChartData}\r\n                    margin={{\r\n                        top: 20,\r\n                        right: 30,\r\n                        left: 20,\r\n                        bottom: 50,\r\n                    }}\r\n                >\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis   dy={25} dx={-5} dataKey=\"name\" angle={-90} label={{ angle:-90,value: 'Month-Day', position: 'insideBottomRight', offset: 28 }} />\r\n\r\n                    <YAxis  />\r\n                    <Tooltip  />\r\n                    <Legend  wrapperStyle={{position: \"initial\"}} />\r\n\r\n                    <Bar dataKey=\"hits\" fill=\"#82ca9d\" minPointSize={10} >\r\n                        <LabelList  angle={-90} dataKey=\"hits\"  />\r\n                    </Bar>\r\n\r\n                </BarChart>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const HitReportMain = connectArray(HitReportMainComponent, [statsModel]);\r\n\r\n","import React, {useState} from \"react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {salesSearchModel} from \"../../models/sales/salesSearchModel\";\r\nimport {Money, Search} from \"@material-ui/icons\";\r\nimport {IconButton, InputBase, Paper, Divider, InputLabel,\r\n    Button, ButtonGroup} from \"@material-ui/core\";\r\nimport {SpinnerDownloading} from \"../../utility/components\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {TablePaging} from \"table-page-search\";\r\n\r\nconst headerConfig = {\r\n    key: \"0\",\r\n    itemsPerPage: 10,\r\n    defaultSort: \"1\",\r\n    sortDescending: true,\r\n    columns: [\r\n        {fieldForSort: \"ticketNum\", columnLabel: \"TIX NO\"},\r\n        { fieldForSort: \"day\", columnLabel: \"Day\"\r\n        },\r\n        { fieldForSort: \"month\", columnLabel: \"Month\"\r\n        },\r\n        { fieldForSort: \"name\", columnLabel: \"Name\" },\r\n        { fieldForSort: \"price\", columnLabel: \"Price\" },\r\n        { fieldForSort: \"sale\", columnLabel: \"Sale\" }\r\n    ]\r\n};\r\n\r\nconst SalesByNameMainComponent = ({onGetSalesByName, salesSearch, salesSearchLoading}) => {\r\n    console.log(salesSearch);\r\n    const titleCount = salesSearch && salesSearch.rowCountFound > 0 ?\r\n        `${salesSearch.rowCountFound} Found`\r\n        : \"Enter Name and Click Search\";\r\n    const classes = useStyles();\r\n    const dataLoaded = salesSearch.items.length > 0;\r\n    const [searchText, setSearchText] = useState(\"\");\r\n    const [filterTable, setFilterTable] = useState(\"\");\r\n    const [location, setLocation] = useState(localStorage.getItem('salesLocation') || \"JO\");\r\n\r\n    return (\r\n        <div>\r\n            <AppBarTitleAddSearch\r\n                title={`Sales Search By Name (${titleCount})`}\r\n                LeftIcon={Money}\r\n            />\r\n            <div style={{display:\"flex\"}}>\r\n            <Paper className={classes.searchButtonRoot}>\r\n                <SpinnerDownloading loading={salesSearchLoading}\r\n                                    spinnerSize={30}\r\n                                    classes={{spinnerWrapper: classes.spinnerWrapper }}\r\n                >\r\n                    <InputBase\r\n                        placeholder=\"Search By Name\"\r\n                        inputProps={{ 'aria-label': 'search google maps' }}\r\n                        value={searchText}\r\n                        onChange={\r\n                            (event)=> setSearchText(event.target.value)}\r\n                        onKeyUp={(event) => {\r\n                            if (event.keyCode === 13) {\r\n                                onGetSalesByName(searchText, location)\r\n                            }\r\n                        }}\r\n                    />\r\n                    <IconButton onClick={()=> onGetSalesByName(searchText, location)}\r\n\r\n                    >\r\n                        <Search />\r\n                    </IconButton>\r\n                </SpinnerDownloading>\r\n            </Paper>\r\n                <ButtonGroup size=\"small\" color=\"secondary\" aria-label=\"small outlined button group\"\r\n                style={{marginRight: 20}}>\r\n                    <Button\r\n                        style={{background: location === \"JO\" ? \"aliceblue\" : \"\"}}\r\n                        onClick={() => {\r\n                            localStorage.setItem(\"salesLocation\", 'JO');\r\n                            setLocation(\"JO\");\r\n                        }}\r\n                    >\r\n                        Jonesboro\r\n                    </Button>\r\n                    <Button\r\n                        style={{background: location === \"GR\" ? \"aliceblue\" : \"\"}}\r\n                        onClick={() => {\r\n                            localStorage.setItem(\"salesLocation\", 'GR');\r\n                            setLocation(\"GR\");\r\n                        }}\r\n                    >\r\n                        Griffin\r\n                    </Button>\r\n                </ButtonGroup>\r\n            {dataLoaded &&\r\n            <Paper className={classes.filterRoot}>\r\n                <InputLabel className={classes.searchLabel}>Filter Table Results</InputLabel>\r\n                <Divider className={classes.divider} orientation=\"vertical\" />\r\n                <InputBase\r\n                    placeholder=\"Filter By Month/Year/Name\"\r\n                    inputProps={{'aria-label': 'search google maps'}}\r\n                    value={filterTable}\r\n                    onChange={\r\n                        (event) => setFilterTable(event.target.value)\r\n                    }\r\n\r\n                />\r\n            </Paper>\r\n            }\r\n            </div>\r\n            <TablePaging  loading={salesSearchLoading}\r\n                          dataList={salesSearch.items}\r\n                          headerConfig={headerConfig}\r\n                          filterText={filterTable}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const SalesByNameMain = connectArray(SalesByNameMainComponent, [salesSearchModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    searchButtonRoot : {\r\n        paddingLeft: 15,\r\n        paddingRight: 0,\r\n        width: 265,\r\n        marginRight: 20\r\n    },\r\n    filterRoot : {\r\n        paddingLeft: 15,\r\n        paddingRight: 0,\r\n        width: 450,\r\n        display: \"flex\"\r\n    },\r\n    spinnerWrapper : {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    divider: {\r\n        height: 28,\r\n        margin: 4,\r\n        paddingTop: 15,\r\n        marginLeft : 10,\r\n        marginRight: 10\r\n    },\r\n    searchLabel: {\r\n        paddingTop: 15\r\n    }\r\n})","import React, {useEffect, useState} from \"react\";\r\nimport {TablePaging} from \"table-page-search\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {BorderAll} from \"@material-ui/icons\";\r\nimport {salesHistModel} from \"../../models/sales/salesHistModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\n\r\n\r\nconst headerConfig = {\r\n    key: \"0\",\r\n    itemsPerPage: 10,\r\n    defaultSort: \"runDate._seconds\",\r\n    sortDescending: true,\r\n    columns: [\r\n        { fieldForSort: \"fileName\", columnLabel: \"File\"},\r\n        {\r\n            display: (row, columnConfig, onRowClick)=> new Date(row.runDate._seconds * 1000).toDateString()\r\n            , columnLabel: \"Date\" },\r\n        { fieldForSort: \"count\", columnLabel: \"Count\" }\r\n    ]\r\n};\r\n\r\nconst SalesHistMainComponent = ({salesHist, onGetSalesHist, salesHistLoading, salesHistLoadError,\r\n                                    salesHistInitDone, onSalesHistInit}) => {\r\n    useEffect(()=> {\r\n        if(!salesHistInitDone)\r\n            onSalesHistInit();\r\n    });\r\n\r\n    const [searchText, setSearchText] = useState(\"\");\r\n\r\n    return (\r\n        <div>\r\n            <AppBarTitleAddSearch\r\n                title={`Sales Hist`}\r\n                LeftIcon={BorderAll}\r\n                onSearchChange={setSearchText}\r\n            />\r\n            <TablePaging  loading={salesHistLoading}\r\n                          dataList={salesHist.items}\r\n                          headerConfig={headerConfig}\r\n                          filterText={searchText}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const SalesHistMain = connectArray(SalesHistMainComponent, [salesHistModel]);\r\n","import React from 'react';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport { GlobalProviders} from \"../GlobalProviders\";\r\nimport {getLoginRoute} from \"./history\";\r\nimport {FullMenuNav} from \"../desktop/home/FullMenuNav\";\r\nimport { LoggedOut } from \"../desktop/accounts/LoggedOut\";\r\nimport {initAuthStore} from \"../models/accounts/userAuthStore\";\r\nimport {HomeMain} from \"../desktop/home/HomeMain\";\r\nimport {PrivateRoute} from \"./PrivateRoute\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport {setTokenValue, hasToken} from \"../models/accounts/userAuthStore\";\r\nimport {CategoryMaintenance} from \"../desktop/home/CategoryMaintenance\";\r\nimport {setRouteComponent} from \"../utility/helpers\";\r\nimport {PopupError} from \"../utility/components/PopupError\";\r\nimport {LocationMaintenance} from \"../desktop/company/LocationMaintenance\";\r\nimport {CatalogSearchMain} from \"../desktop/catalogSearch/CatalogSearchMain\";\r\nimport {HitReportMain} from \"../desktop/stats/HitReportMain\";\r\nimport {SalesByNameMain} from \"../desktop/sales/SalesByNameMain\";\r\nimport {SalesHistMain} from \"../desktop/sales/SalesHist\";\r\n\r\n// noinspection JSUnusedLocalSymbols\r\nexport class RouteComponent extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isMobile: window.innerWidth <= 760,\r\n            errorMessage: \"\",\r\n            showAlert: false,\r\n            alertStatus: \"\",\r\n            tokenLoading: false,\r\n            tokenLoaded: false\r\n        };\r\n    }\r\n\r\n    onCloseAlert() {\r\n        // noinspection JSCheckFunctionSignatures\r\n        this.setState({errorMessage: \"\", alertStatus: \"\"});\r\n    }\r\n\r\n    componentDidMount() {\r\n        setRouteComponent(this);\r\n        initAuthStore();\r\n        const checkSize = ()=> {\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({isMobile: window.innerWidth <= 760});\r\n        };\r\n        window.addEventListener(\"resize\", checkSize);\r\n    }\r\n\r\n    render() {\r\n        const getToken = async () =>{\r\n            const { getAccessTokenSilently } = this.props.auth0;\r\n            try {\r\n                this.setState({tokenLoading: true});\r\n                const accessToken = await getAccessTokenSilently();\r\n                console.log(\"-------- Token Complete First Try -------\");\r\n                console.log(accessToken);\r\n                setTokenValue(accessToken);\r\n                this.setState({\r\n                    errorMessage: \"You Have Access\",\r\n                    alertStatus: \"success\",\r\n                    //tokenLoading: false,\r\n                    tokenLoaded: true\r\n                });\r\n            } catch (ex) {\r\n                //when login in with google account, you have to try twice to get token.\r\n                getAccessTokenSilently().then((accessToken)=> {\r\n                    setTokenValue(accessToken);\r\n                    console.log(\"-------- Token Complete second Try-------\");\r\n                    console.log(accessToken);\r\n                    // noinspection JSCheckFunctionSignatures\r\n                    this.setState({\r\n                        errorMessage: \"Access Allowed\",\r\n                        alertStatus: \"success\",\r\n                        //tokenLoading: false,\r\n                        tokenLoaded: true\r\n                    });\r\n                }).catch((ex)=> {\r\n                    console.log(\"-------- No Token -------\");\r\n                    console.log(ex.message || ex);\r\n                    this.setState({errorMessage: ex.message,\r\n                        //tokenLoading: false\r\n                    });\r\n                });\r\n            }\r\n        };\r\n\r\n        const { user, isLoading } = this.props.auth0;\r\n\r\n        const {isMobile, errorMessage, alertStatus,\r\n            tokenLoading, tokenLoaded} = this.state;\r\n\r\n        if(!isLoading && !tokenLoading && !tokenLoaded && errorMessage === \"\") {\r\n            console.log(\"--- user render ---\");\r\n            console.log({errorMessage, isLoading, tokenLoading, tokenLoaded});\r\n            console.log(this.props.auth0);\r\n            if(!hasToken())\r\n                // noinspection JSIgnoredPromiseFromCall\r\n                getToken();\r\n        }\r\n        const LoginRoute = getLoginRoute();\r\n\r\n        // noinspection JSUnusedLocalSymbols\r\n        const MenuNav = FullMenuNav; //isMobile ? MobileNav :\r\n        //if(errorMessage !== \"\" ) //show error hear\r\n        //    const tt = \"\";\r\n\r\n        return (\r\n            <GlobalProviders>\r\n                <PopupError\r\n                    errorMessage={errorMessage}\r\n                    onClearErrorMessage={() => this.onCloseAlert()}\r\n                    status={alertStatus}\r\n                />\r\n                    <HashRouter>\r\n                        <MenuNav>\r\n                        <div>\r\n                            <LoginRoute/>\r\n                            <Route exact path=\"/logOut\"\r\n                                   component={LoggedOut} />\r\n\r\n                            <Route exact path=\"/logcomplete\"\r\n                                   component={LoggedOut} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/\"\r\n                                          component={isMobile ? HomeMain : HomeMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/location\"\r\n                                          component={isMobile ?\r\n                                              LocationMaintenance : LocationMaintenance} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/catalogSearch\"\r\n                                          component={isMobile ?\r\n                                              CatalogSearchMain : CatalogSearchMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/category\"\r\n                                          component={isMobile ?\r\n                                              CategoryMaintenance : CategoryMaintenance} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/hits\"\r\n                                          component={isMobile ?\r\n                                              HitReportMain : HitReportMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/salesByName\"\r\n                                          component={isMobile ?\r\n                                              SalesByNameMain : SalesByNameMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/salesHist\"\r\n                                          component={isMobile ?\r\n                                              SalesHistMain : SalesHistMain} />\r\n                        </div>\r\n                        </MenuNav>\r\n                    </HashRouter>\r\n            </GlobalProviders>\r\n        );\r\n    }\r\n}\r\n\r\n/*\r\n\r\n */\r\n\r\nexport default withAuth0(RouteComponent)","import './index.css'\r\nimport React from 'react'\r\nimport {render} from 'react-dom'\r\nimport RouteConfig from  \"./route/RouteConfig\";\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport { grey, yellow } from '@material-ui/core/colors';\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\nconst muiTheme = createMuiTheme({\r\n    typography: {\r\n        useNextVariants: true,\r\n    },\r\n    palette: {\r\n        textColor: grey.A700,\r\n        primary: {\r\n            main: \"#3d6090\",\r\n            success: \"#4caf50\",\r\n            idle: yellow[500]\r\n        },\r\n        secondary: { main: \"#428bca\"}\r\n    }\r\n});\r\n\r\nrender(\r\n    <Auth0Provider\r\n        domain={process.env.AUTH_DOMAIN}\r\n        clientId={process.env.AUTH_CLIENT_ID}\r\n        audience={process.env.AUTH_AUDIENCE}\r\n        redirectUri={`${window.location.origin}`}\r\n        scope=\"read.events\"\r\n    >\r\n        <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\r\n    </Auth0Provider>,\r\n    document.querySelector('#app'));\r\n\r\nfunction BootstrapLogIn() {\r\n    const {\r\n        isLoading,\r\n        isAuthenticated,\r\n        error,\r\n        user,\r\n        loginWithRedirect,\r\n        logout,\r\n    } = useAuth0();\r\n\r\n    if (isLoading) {\r\n        return <div>Loading Auth...</div>;\r\n    }\r\n    if (error) {\r\n        return <div>Oops... {error.message}</div>;\r\n    }\r\n\r\n    if (isAuthenticated) {\r\n        return (\r\n            <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\r\n        );\r\n    } else {\r\n        return <button onClick={loginWithRedirect}>Log in</button>;\r\n    }\r\n}\r\n\r\n","import { createContext } from \"../../utility/modelContext\";\r\nimport {setUserData, getStore, isLoggedIn} from \"./userAuthStore\";\r\nlet provider = null;\r\nimport {setUnauthorizedHandler} from \"../../utility/helpers\";\r\nimport {clearToken} from \"./userAuthStore\";\r\n\r\nexport const createModel = () => {\r\n    const userStore = getStore();\r\n    console.log(\"isLoggedIn\");\r\n    console.log(isLoggedIn());\r\n\r\n    return {\r\n        loadingAuth: !isLoggedIn(),\r\n        userNotAuthorized: false,\r\n        userLoggedIn: isLoggedIn(),\r\n        name: userStore.name,\r\n        picUrl: userStore.picUrl,\r\n        userFeatures: userStore.featurePermissions ||[],\r\n        faceLoginMessage:null,\r\n        passwordMessage:'',\r\n        confirmPasswordMessage:'',\r\n        profileLoading: false,\r\n        onSetAccount,\r\n        onNotifyMainNavOfLogOff\r\n    };\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    setUnauthorizedHandler(onNotifyMainNavOfLogOff);\r\n    return  createModel();\r\n};\r\n\r\nconst onNotifyMainNavOfLogOff = () => {\r\n    clearToken();\r\n    provider.setState({userLoggedIn: false});\r\n    const {navigate} = require(\"../../route/history\");\r\n    navigate(\"#/logout\");\r\n\r\n};\r\n\r\nconst onSetAccount = (loginInfo) => {\r\n        console.log(\"loginInfo\");\r\n        console.log(loginInfo);\r\n        setUserData(loginInfo);\r\n        provider.setState({\r\n            picUrl: loginInfo.picUrl,\r\n            name: loginInfo.name,\r\n            email:loginInfo.email,\r\n            userLoggedIn : true});\r\n};\r\n\r\nexport default createContext(createModel, getInitialState);\r\n"],"sourceRoot":""}