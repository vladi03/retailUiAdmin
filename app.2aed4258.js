(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return g})),a.d(t,"h",(function(){return m})),a.d(t,"e",(function(){return u})),a.d(t,"i",(function(){return p}));var o=a(359);let n=null,r=null;const l=(e,t)=>{const a={fieldList:e,items:{}},o={};return Array.isArray(e)&&Array.isArray(t)&&t.forEach(t=>{e.forEach(e=>{const n=e.fieldName;void 0===o[n]&&(o[n]=[]),void 0===a[n]&&(a[n]=[]);const r=g(t,n);-1===o[n].indexOf(r)&&(o[n].push(r),a[n].push({option:r,selected:!1})),a[n].sort((e,t)=>e.option<t.option?-1:1)})}),a},i=(e,t)=>{const a=[];try{Array.isArray(e)&&(a.push(t),e.forEach(e=>{const o=[];t.forEach(t=>{const a=g(e,t);o.push(a)}),a.push(o)}))}catch(e){}return a},s=e=>{"function"==typeof e&&(r=e)},c=e=>n=e,d=function(e,t,a){void 0===a&&(a=null);const n=[],r=null!==a?Object(o.a)(a)(e):e;return t.forEach((e,t)=>{if(0===t){const t=t=>e.connect(r,t);n.push(t)}else{const a=a=>e.connect(n[t-1],a);n.push(a)}}),n[n.length-1]},g=function(e,t){let a=e||"";if("function"==typeof t)a=t(e);else if(""!==t){(t&&t.split(".")||[]).forEach(e=>{a=a&&a[e]})}return a};const m=e=>{n.setState({errorMessage:e})};class h extends Error{constructor(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];super(...a),Error.captureStackTrace&&Error.captureStackTrace(this,h),this.messageResponse=e}}const u=()=>async function(e){if(e.ok)return e.json();401===e.status&&(n.setState({errorMessage:"Unauthorized"}),r&&r());const t=await e.json();throw new h(t,e.status)},p=e=>parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},163:function(e,t,a){"use strict";a.r(t),a.d(t,"getHistory",(function(){return v})),a.d(t,"navigate",(function(){return S})),a.d(t,"getLoginRoute",(function(){return w}));var o=a(0),n=a.n(o),r=a(39),l=a(6165),i=a(6166),s=a(6167),c=a(232),d=a(256),g=a(6168),m=a(89),h=a(11),u=a(50),p=n.a.createElement(r.a,{push:!0,to:"/"});const f=Object(d.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170,minWidth:240,textAlign:"center"},logo:{width:250,margin:"auto"},actionButton:{width:"100%",margin:"10px"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"},cardActionsContainer:{display:"flex",flexDirection:"column"}}),E=Object(h.a)(e=>{let{}=e;const t=f(),{loginWithRedirect:a,isAuthenticated:o}=Object(u.b)();return o?p:n.a.createElement("form",{id:"logon-submit",action:"/login/google/source",className:t.mainContainer},n.a.createElement(l.a,{style:{display:"flex"}},n.a.createElement("div",{className:t.outerCard},n.a.createElement(i.a,{className:t.cardContainer},n.a.createElement("img",{src:"retail-shop-flat-icon_small.png",className:t.logo})),n.a.createElement(s.a,null,n.a.createElement(c.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:()=>{a({returnTo:window.location.origin+"/#/"})}},n.a.createElement(g.a,{style:{marginRight:10}})," Login")))))},[m.a]),y={loaded:!1,history:null};var b=n.a.createElement(r.b,{exact:!0,path:"/login",component:E});const C=e=>{let{history:t}=e;return L(t),b},L=e=>{y.history=e,y.loaded=!0},v=()=>y,S=e=>{window.location.href=e},w=()=>Object(r.f)(C)},19:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return g})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"h",(function(){return u})),a.d(t,"a",(function(){return p}));var o=a(11);const n={token:localStorage.getItem("token"),name:localStorage.getItem("name")||"",picUrl:localStorage.getItem("picUrl")||"",email:localStorage.getItem("email")||"",expiresOn:localStorage.getItem("expiresOn")||"",featurePermissions:[1],userDomain:localStorage.getItem("userDomain")||"",catalogApi:"https://api.netware.io"},r=()=>!!n.token,l=e=>{const{navigate:t}=a(163);d();const o=1e3*e-new Date-6e4;o>30?n.logOutTimer=setTimeout(()=>t("#/logout"),o):e>0&&t("#/logout")},i=e=>{const t=e&&e.split(".");if(t&&t.length>0){const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(t))}return{}};try{const e=localStorage.getItem("featurePermissions");if(n.featurePermissions=e?JSON.parse(e):[],n.token){const e=i(n.token);localStorage.setItem("expiresOn",e.exp),n.expiresOn=e.exp,l(e.exp),console.log("token from local storage")}}catch(e){n.featurePermissions=[]}const s=e=>{localStorage.setItem("token",e),n.token=e;const t=i(e);l(t.exp)},c=()=>{l(n.expiresOn)},d=()=>{n.logOutTimer>-1&&(clearTimeout(n.logOutTimer),n.logOutTimer=-1)},g=()=>n.token&&!0,m=()=>n,h=e=>n.featurePermissions.indexOf(e)>-1||!0,u=async e=>{let{name:t,picture:a,email:o,sub:r}=e;n.featurePermissions=[1];const l=await f(r);return localStorage.setItem("name",t),localStorage.setItem("email",o),localStorage.setItem("picUrl",a),localStorage.setItem("userDomain",l),localStorage.setItem("featurePermissions",JSON.stringify(n.featurePermissions)),n.name=t,n.email=o,n.picUrl=a,n.userDomain=l,n.featurePermissions=[1],n},p=()=>{n.featurePermissions=[],localStorage.removeItem("featurePermissions"),localStorage.removeItem("userDomain"),localStorage.removeItem("expiresOn")},f=async e=>{const{userProfile:t}=await(async e=>{const{catalogApi:t,token:a}=m();return fetch(t+"/catalogapi/api/v1/users/"+e,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a}}).then(Object(o.e)()).then(e=>({userProfile:e,userProfileLoading:!1,userProfileLoadHasError:!1})).catch(e=>({userProfile:null,userProfileLoading:!1,userProfileLoadError:e.message||e,userProfileLoadHasError:!0}))})(e);return console.log("userProfile"),console.log(t),t&&t.app_metadata&&t.app_metadata.retailDomain}},310:function(e,t){},376:function(e,t,a){e.exports=a(6129)},377:function(e,t,a){},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a(90),n=a(0),r=a.n(n);const l=(e,t)=>{const a=r.a.createContext(e());class n extends r.a.Component{constructor(e){super(e);const a=e&&e.match&&e.match.params&&e.match.params.testMode&&e.match.params.testMode.indexOf("testMode")>-1&&e.match.params.testMode;this.state=t(this,a||"")}render(){return r.a.createElement(a.Provider,{value:this.state},this.props.children)}}return{ModelContext:a,ModelProvider:n,connect:(e,t)=>r.a.createElement(a.Consumer,null,a=>r.a.createElement(e,Object(o.a)({},a,t)))}}},6059:function(e,t){},6060:function(e,t){},6129:function(e,t,a){"use strict";a.r(t);a(377);var o=a(0),n=a.n(o),r=a(28),l=a(39),i=a(130),s=a(89),c=a(49),d=a(19),g=a(11);const m=e=>{const{catalogApi:t,token:a}=Object(d.b)();return fetch(t+"/catalogapi/api/v1/catalog/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a}}).then(Object(g.e)()).then(e=>({deleteCatalogResult:e,catalogListLoading:!1})).catch(e=>({deleteCatalogResult:!1,catalogListLoading:!1,deleteCatalogResultError:e.message||e}))},h=e=>{const{catalogApi:t,token:a}=Object(d.b)();return fetch(t+"/catalogapi/api/v1/catalog/file/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a}}).then(Object(g.e)()).then(e=>(console.log("DELETE file result"),console.log(e),{deleteImageResult:e})).catch(e=>({deleteImageResult:!1,deleteImageResultError:e.message||e}))},u=(e,t)=>{const a=[...e];return a.sort((e,a)=>{const o=e.categories&&e.categories.length>0,n=a.categories&&a.categories.length>0,r=o?e.categories.filter(e=>e._id===t):[],l=n?a.categories.filter(e=>e._id===t):[];return r.length>0&&l.length>0?r[0].sort-l[0].sort:r.length>0?-1:1}),a};let p=null;const f=()=>({activeCatalogItem:null,catalogList:[],catalogListFiltered:[],catalogListOutCategory:[],catalogListNoCategory:[],catalogTotals:[],catalogListLoading:!1,catalogListLoadError:!1,savingCatalogSort:!1,catalogListInit:!1,catalogStatusLoading:!1,categorySelected:null,catalogSearchText:"",imageUploading:!1,onCatalogListInit:N,onSetActiveCatalogItem:R,onSaveCatalogItem:I,onUploadImage:A,onCreateNewCatalog:k,onDeleteCatalog:x,onSetCatalogStatus:O,onAddCategoryToCatalog:S,onRemoveCategoryFromCatalog:w,onCategorySelectChange:L,onCatalogOrderChange:C,onCatalogSearch:b,onClearCatalogError:E,onSetCatalogTotals:T,getCatalogCategorySort:y}),E=()=>{p.setState({catalogListLoadError:!1})},y=e=>{const{catalogList:t}=p.state;return((e,t)=>{let a=0;return t.forEach(t=>{t.categories.forEach(t=>{t._id===e&&t.sort>a&&(a=t.sort)})}),a+1})(e,t)},b=e=>{const t=e.toLowerCase(),a=p.state.catalogList.filter(e=>e.shortDesc.toLowerCase().indexOf(t)>-1||e.modelNumber.toLowerCase().indexOf(t)>-1),o=u(a,p.state.categorySelected&&p.state.categorySelected._id);p.setState({catalogSearchText:e,catalogListFiltered:o})},C=async(e,t,a)=>{try{p.setState({savingCatalogSort:!0});const{target:o,swap:n}=((e,t,a)=>{const o={...e},n={...a},r=o.categories.filter(e=>e._id===t._id),l=n.categories.filter(e=>e._id===t._id);if(r.length>0&&l.length>0){const e=l[0].sort;l[0].sort=r[0].sort,r[0].sort=e}return{target:o,swap:n}})(e,t,a);await j(o,!1),await j(n,!1)}catch(e){}p.setState({savingCatalogSort:!1})},L=e=>{const t=v(e,p.state.catalogList);p.setState(t)},v=(e,t)=>{const a=u(t,e._id),{filterCatalogIn:o,filterCatalogOut:n}=((e,t)=>{const a=[...e],o=[],n=[];return a.forEach(a=>{(e?a.categories.filter(e=>e._id===t):[]).length>0?o.push(a):n.push(a)}),{filterCatalogIn:o,filterCatalogOut:n}})(a,e._id);return{catalogListFiltered:o,catalogListOutCategory:n,categorySelected:e,catalogListNoCategory:(e=>{const t=[...e],a=[];return t.forEach(e=>{0===e.categories.length&&a.push(e)}),a})(a)}},S=async e=>{let{catalog:t,category:a}=e,o=1;p.state.catalogList.forEach(e=>{const t=e.categories.filter(e=>e._id===a._id);t.length>0&&t[0].sort>o&&(o=t[0].sort)}),p.setState({catalogStatusLoading:t._id,catalogListLoading:!0});const n={...t,categories:[{...a,sort:o+1},...t.categories]};await j(n,!1)},w=async e=>{let{catalog:t,categoryId:a}=e;p.setState({catalogStatusLoading:t._id,catalogListLoading:!0});const o=t.categories.filter(e=>e._id!==a),n={...t,categories:o};await j(n,!1)},O=async(e,t)=>{p.setState({catalogStatusLoading:t,activeCatalogItem:null});const{saveCatalogStatusResult:a,catalogListLoadError:o,success:n}=await(async(e,t)=>{const{catalogApi:a,token:o}=Object(d.b)();return fetch(a+"/catalogApi/api/v1/catalog/"+e+"/"+t,{method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}}).then(Object(g.e)()).then(e=>({success:!0,saveCatalogStatusResult:e,catalogStatusLoading:!1,catalogListLoadError:!1})).catch(e=>({success:!1,catalogStatusLoading:!1,catalogListLoadError:e.message||e}))})(e,t);if(n&&a.modifiedCount>0){const a=p.state.catalogList.map(a=>a._id===t?{...a,status:e}:a),{catalogListFiltered:n,catalogListOutCategory:r,categorySelected:l,catalogListNoCategory:i}=v(p.state.categorySelected,a);p.setState({catalogList:a,catalogListFiltered:n,catalogListOutCategory:r,categorySelected:l,catalogStatusLoading:!1,catalogListLoadError:o,catalogListNoCategory:i})}else p.setState({catalogStatusLoading:!1,catalogListLoadError:o})},x=async e=>{p.setState({catalogListLoading:!0});const t=await(async e=>{const t=await m(e._id);return e.images.forEach(e=>h(e.id)),t})(e);t.catalogList=p.state.catalogList.filter(t=>t._id!==e._id),t.catalogListFiltered=u(t.catalogList,p.state.categorySelected&&p.state.categorySelected._id),t.activeCatalogItem=null,p.setState(t)},A=async(e,t)=>{p.setState({imageUploading:!0}),t&&await h(t);const a=await(async(e,t)=>{const a=new FormData;a.append("myFile",e);const{catalogApi:o,token:n}=Object(d.b)();return fetch(o+"/catalogApi/api/v1/catalog/file/"+t,{method:"POST",headers:{Authorization:"Bearer "+n},body:a}).then(Object(g.e)()).then(e=>({uploadImageResult:e,imageUploading:!1})).catch(e=>({uploadImageResult:!1,imageUploading:!1,uploadImageResultError:e.message||e}))})(e,540);return p.setState({imageUploading:!1}),a},k=async()=>{p.setState({catalogListInit:!0});const e=await(()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();return fetch(e+"/catalogapi/api/v1/catalog/new/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>({activeCatalogItem:e,catalogListLoading:!1,catalogListLoadError:!1})).catch(e=>({activeCatalogItem:null,catalogListLoading:!1,catalogListLoadError:e.message||e}))})();p.setState(e)},I=async(e,t,a,o,n)=>{if(t&&t.id&&t.id.length>0){p.setState({catalogListLoading:!0});const r={...t,willFitWidth:a,colorRgb:o,colorRgbOther:n},l=e.images&&e.images.find(e=>e.id===r.id),i=e.images&&e.images.length>1&&l?e.images.map(e=>e.id===r.id?r:e):[r],s={...e,images:i};await j(s)}else Object(g.h)("Select a picture before saving")},j=async function(e,t){void 0===t&&(t=!0);const a=await(async e=>{const{catalogApi:t,token:a}=Object(d.b)(),o=t+"/catalogApi/api/v1/catalog",n={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a},body:JSON.stringify(e)};return fetch(o,n).then(Object(g.e)()).then(t=>({saveCatalogResult:t,activeCatalogItem:e,catalogListLoading:!1,catalogListLoadError:!1})).catch(e=>({catalogListLoading:!1,catalogListLoadError:e.messageResponse||e.status&&e.status.message||e}))})(e);if(!1===a.catalogListLoadError){a.saveCatalogResult&&a.saveCatalogResult.modifiedCount>0?a.catalogList=p.state.catalogList.map(t=>t._id===e._id?e:t):a.saveCatalogResult&&a.saveCatalogResult.upsertedCount>0&&(a.catalogList=[...p.state.catalogList,e]);const{catalogListFiltered:o,catalogListOutCategory:n,categorySelected:r,catalogListNoCategory:l}=v(p.state.categorySelected,a.catalogList);a.catalogListFiltered=o,a.categorySelected=r,a.catalogListOutCategory=n,a.catalogListNoCategory=l,t||(a.activeCatalogItem=null),a.catalogStatusLoading=!1,p.setState(a)}else p.setState(a)},R=e=>{p.setState({activeCatalogItem:e})},N=()=>{p.setState({catalogListInit:!0,catalogListLoading:!0}),(async()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();if(a){return fetch(e+"/catalogApi/api/v1/catalog/domain/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>({catalogList:e,catalogListLoading:!1,catalogListLoadHasError:!1,catalogListLoadError:!1})).catch(()=>({catalogList:[],catalogListLoading:!1,catalogListLoadHasError:!0,catalogListLoadError:""}))}return{catalogList:[],catalogListLoading:!1,catalogListLoadHasError:!0,catalogListLoadError:""}})().then(e=>{e.catalogListFiltered=e.catalogList,e.catalogListLoadHasError?(e.catalogListInit=!1,setTimeout(()=>{p.setState(e)},100)):p.setState(e)}).catch(()=>{})},T=(e,t)=>{console.log("onSetCatalogTotals");const a=((e,t)=>{const a=[...e],o=[];return t.forEach(t=>{let n=0,r=0;a.forEach((a,l)=>{if((e?a.categories.filter(e=>e._id===t._id):[]).length>0&&("active"===a.status?n++:r++),l===e.length-1){const e={activeTotal:n,disabledTotal:r,_id:t._id};o.push(e)}})}),o})(t,e);p.setState({catalogTotals:a}),console.log(a)},D=Object(c.a)(f,e=>(p=e,f()));let B=null;const F=()=>({activeCategoryItem:null,categoryList:[],categoryListLoading:!1,categoryListInit:!1,onCategoryListInit:P,onSetActiveCategoryItem:H,onSaveCategoryItem:M,onCreateNewCategory:_,onDeleteCategory:z}),P=()=>{B.setState({categoryListInit:!0}),(async()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();if(a){return fetch(e+"/catalogApi/api/v1/category/domain/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>({categoryList:e,categoryListLoading:!1,categoryListLoadHasError:!1})).catch(e=>({categoryList:[],categoryListLoading:!1,categoryListLoadHasError:!0,categoryListLoadError:e.message||e}))}return{categoryList:[],categoryListLoading:!1,categoryListLoadHasError:!0,categoryListInit:!1,categoryListLoadError:""}})().then(e=>{B.setState(e)})},H=e=>{B.setState({activeCategoryItem:e})},M=async e=>{e.isNew&&delete e.isNew;const t=(async e=>{const{catalogApi:t,token:a}=Object(d.b)(),o=t+"/catalogApi/api/v1/Category",n={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a},body:JSON.stringify(e)};return fetch(o,n).then(Object(g.e)()).then(t=>({saveCategoryResult:t,activeCategoryItem:e,categoryListLoading:!1})).catch(e=>({success:!1,categoryListLoading:!1,categoryListLoadError:e.message||e}))})(e);t.categoryList=B.state.categoryList.map(t=>t._id===e._id?e:t),B.setState(t)},_=async()=>{B.setState({categoryListInit:!0});const e=await(()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();return fetch(e+"/catalogapi/api/v1/category/new/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>({activeCategoryItem:e,categoryListLoading:!1})).catch(e=>({activeCategoryItem:null,categoryListLoading:!1,categoryListLoadError:e.message||e}))})();e.categoryList=[e.activeCategoryItem,...B.state.categoryList],B.setState(e)},z=async e=>{B.setState({categoryListLoading:!0});const t=await(e=>{const{catalogApi:t,token:a}=Object(d.b)();return fetch(t+"/catalogapi/api/v1/category/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a}}).then(Object(g.e)()).then(e=>({deleteCategoryResult:e,categoryListLoading:!1})).catch(e=>({deleteCategoryResult:!1,categoryListLoading:!1,deleteCategoryResultError:e.message||e}))})(e._id);t.categoryList=B.state.categoryList.filter(t=>t._id!==e._id),t.activeCategoryItem=null,B.setState(t)},W=Object(c.a)(F,e=>(B=e,F()));let G=null;const U=()=>({activeLocationItem:null,locationList:[],locationListLoading:!1,locationListInit:!1,onLocationListInit:Y,onSetActiveLocationItem:V,onSaveLocationItem:J,onCreateNewLocation:Z,onDeleteLocation:K}),Y=()=>{G.setState({locationListInit:!0}),(async()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();return fetch(e+"/catalogApi/api/v1/company/locations/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>({locationList:e,locationListLoading:!1})).catch(e=>({locationList:[],locationListLoading:!1,locationListLoadError:e.message||e}))})().then(e=>{G.setState(e)})},V=e=>{G.setState({activeLocationItem:e})},J=async e=>{e.isNew&&delete e.isNew;const t=(async e=>{const{catalogApi:t,token:a}=Object(d.b)(),o=t+"/catalogApi/api/v1/company/location",n={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a},body:JSON.stringify(e)};return fetch(o,n).then(Object(g.e)()).then(t=>({saveLocationResult:t,activeLocationItem:e,locationListLoading:!1})).catch(e=>({success:!1,locationListLoading:!1,locationListLoadError:e.message||e}))})(e);t.locationList=G.state.locationList.map(t=>t._id===e._id?e:t),G.setState(t)},Z=async()=>{G.setState({locationListInit:!0});const e=await(()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();return fetch(e+"/catalogapi/api/v1/company/location/new/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>({activeLocationItem:e,locationListLoading:!1})).catch(e=>({activeLocationItem:null,locationListLoading:!1,locationListLoadError:e.message||e}))})();e.locationList=[e.activeLocationItem,...G.state.locationList],G.setState(e)},K=async e=>{G.setState({locationListLoading:!0});const t=await(e=>{const{catalogApi:t,token:a}=Object(d.b)();return fetch(t+"/catalogapi/api/v1/company/location/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a}}).then(Object(g.e)()).then(e=>({deleteLocationResult:e,locationListLoading:!1})).catch(e=>({deleteLocationResult:!1,locationListLoading:!1,deleteLocationResultError:e.message||e}))})(e._id);t.locationList=G.state.locationList.filter(t=>t._id!==e._id),t.activeLocationItem=null,G.setState(t)},X=Object(c.a)(U,e=>(G=e,U())),q={seriesName:"hits",labelField:"hitStart",dataField:"hitCount",labelConverter:e=>e.substr(5,5)};a(393);const $=()=>({hitReport:[],hitChartData:[],hitReportLoaded:!0,hitReportLoading:!1,hitReportLoadError:!1,hitReportInitDone:!1,weekStartDate:"",weekEndDate:"",onHitReportInit:ee,onHitReportGet:ae,setWeekDays:te});let Q=null;const ee=async()=>{Q.setState({hitReportInitDone:!0}),await ae()},te=e=>{const t=new Date(e[0].hitStart),a=new Date(e[e.length-1].hitStart);let o=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),n=new Intl.DateTimeFormat("en",{month:"short"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a),l=new Intl.DateTimeFormat("en",{month:"short"}).format(a);Q.setState({weekStartDate:n+" "+o,weekEndDate:l+" "+r})},ae=async()=>{Q.setState({hitReportLoading:!0});const e=await(()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();return fetch(e+"/catalogApi/api/v1/hitReport/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>{const t=Array.isArray(e);return{hitReport:t?e:[],hitReportLoaded:t,hitReportLoading:!1,hitReportLoadError:!t&&"Invalid Hit Data Returned"}}).catch(e=>({hitReportLoading:!1,hitReportLoadError:e.message||e}))})();console.log(e.hitReport),te(e.hitReport),e.hitReportLoadError||(e.hitChartData=((e,t)=>{let a=[];return Array.isArray(e)&&(a=e.map(e=>({name:t.labelConverter?t.labelConverter(e[t.labelField]):e[t.labelField],[t.seriesName]:e[t.dataField]}))),a})(e.hitReport,q)),Q.setState(e)},oe=Object(c.a)($,e=>(Q=e,$())),ne=()=>({salesSearch:{rowCountFound:0,rows:[],items:[]},salesSearchLoading:!1,salesSearchLoadError:!1,salesSearchLoaded:!0,onGetSalesByName:le});let re=null;const le=async(e,t)=>{re.setState({salesSearchLoading:!0});const a=await((e,t)=>{const{catalogApi:a,token:o}=Object(d.b)();return fetch(a+"/catalogApi/api/v1/sales/"+e+"/"+t,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}}).then(Object(g.e)()).then(e=>{const t=Array.isArray(e);return{salesSearch:t?{rowCountFound:e.length,rows:[],items:e}:{rowCountFound:0,rows:[],items:[]},salesSearchLoading:!1,salesSearchLoadError:!t&&e.err}}).catch(e=>({salesSearchLoading:!1,salesSearchLoadError:e.message||e}))})(e,t);re.setState(a)},ie=Object(c.a)(ne,e=>(re=e,ne())),se=()=>({salesHist:{rowCountFound:0,rows:[],items:[]},salesHistLoading:!1,salesHistLoadError:!1,salesHistInitDone:!1,onGetSalesHist:ge,onSalesHistInit:de});let ce=null;const de=async()=>{ce.setState({salesHistInitDone:!0}),await ge()},ge=async()=>{ce.setState({salesHistLoading:!0});const e=await(()=>{const{catalogApi:e,token:t}=Object(d.b)();return fetch(e+"/catalogApi/api/v1/sales/hist",{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>{const t=Array.isArray(e);return{salesHist:t?{rowCountFound:e.length,rows:[],items:e}:{rowCountFound:0,rows:[],items:[]},salesHistLoading:!1,salesHistLoadError:!t&&e.err}}).catch(e=>({salesHistLoading:!1,salesHistLoadError:e.message||e}))})();ce.setState(e)},me=Object(c.a)(se,e=>(ce=e,se()));let he=null;const ue=()=>({site:{salesBackgroundColor:[0,255,255],salesFontColor:[0,0,0]},siteLoading:!1,siteLoadError:"",siteDataInitialized:!1,siteLoaded:!1,siteHasError:!1,siteMessage:"",siteLoadMessageDetail:"",onLoadSite:ye,onSaveSiteColor:Ee,setSalesBackgroundColor:pe,setSalesFontColor:fe}),pe=e=>he.setState({site:{...he.state.site,salesBackgroundColor:e}}),fe=e=>he.setState({site:{...he.state.site,salesFontColor:e}}),Ee=e=>{he.setState({siteLoading:!0});(async e=>{const{catalogApi:t,token:a}=Object(d.b)(),o=t+"/catalogApi/api/v1/site",n={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+a},body:JSON.stringify(e)};fetch(o,n).then(Object(g.e)()).then(t=>({saveSiteResult:t,activeSaveItem:e,siteLoading:!1,siteHasError:!1})).catch(e=>({success:!1,siteHasError:!0,siteLoading:!1,siteLoadError:e.message||e}))})({...he.state.site,...e})},ye=()=>{he.setState({siteLoading:!0,siteDataInitialized:!0}),(async()=>{const{catalogApi:e,token:t,userDomain:a}=Object(d.b)();return fetch(e+"/catalogApi/api/v1/site/"+a,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t}}).then(Object(g.e)()).then(e=>({site:e&&e.length>0?e[0]:{},siteLoading:!1,siteHasError:!1})).catch(e=>({site:{salesBackgroundColor:[0,255,255],salesFontColor:[0,0,0]},siteLoading:!1,siteLoadError:e.message||e,siteHasError:!0}))})().then(e=>{!0===e.siteHasError?he.setState({site:{...e.site,salesBackgroundColor:he.state.salesBackgroundColor,salesFontColor:he.state.salesFontColor}}):he.setState(e)})},be=Object(c.a)(ue,e=>(he=e,ue()));const Ce=e=>{let{children:t}=e;return n.a.createElement(s.a.ModelProvider,null,n.a.createElement(D.ModelProvider,null,n.a.createElement(W.ModelProvider,null,n.a.createElement(X.ModelProvider,null,n.a.createElement(oe.ModelProvider,null,n.a.createElement(ie.ModelProvider,null,n.a.createElement(me.ModelProvider,null,n.a.createElement(be.ModelProvider,null,t))))))))};var Le=a(163);const ve=()=>{const[e,t]=Object(o.useState)(window.innerWidth<=760),a=()=>{t(window.innerWidth<=760)};return Object(o.useEffect)(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[]),e};var Se=a(334),we=a(256),Oe=a(6168),xe=a(6173),Ae=a(6174),ke=a(6175),Ie=a(6176),je=a(6177),Re=a(6178),Ne=a(6179);const Te=[{label:"Home",icon:xe.a,selected:!(window.location.href.includes("location")||window.location.href.includes("category")||window.location.href.includes("keyLogs")||window.location.href.includes("catalogSearch")||window.location.href.includes("hits")||window.location.href.includes("salesByName")),link:"#/",route:"/",isMobile:!0},{label:"Category",icon:Ae.a,selected:window.location.href.includes("category"),link:"#/category",route:"/category",isMobile:!0},{label:"Locations",icon:ke.a,selected:window.location.href.includes("location"),link:"#/location",route:"/location",isMobile:!0},{label:"Filter",icon:Ie.a,selected:window.location.href.includes("catalogSearch"),link:"#/catalogSearch",route:"/catalogSearch",isMobile:!0},{label:"Hits",icon:je.a,selected:window.location.href.includes("hits"),link:"#/hits",route:"/hits",isMobile:!0},{label:"Sales",icon:Re.a,selected:window.location.href.includes("salesByName"),link:"#/salesByName",route:"/salesByName",isMobile:!0},{label:"Sales Hist",icon:Ne.a,selected:window.location.href.includes("salesHist"),link:"#/salesHist",route:"/salesHist",isMobile:!0}];var De=a(50);const Be=Fe?Te.filter(e=>e.isMobile):Te;var Fe;const Pe=[{label:"Logout",icon:Oe.a,link:"#/logout"}],He=Object(g.a)(e=>{let{children:t,firstName:a,lastName:o,userLoggedIn:r,picUrl:l,userFeatures:i}=e;const s=ve(),c=Me(s),{isLoading:g,user:m}=Object(De.b)(),h=Be.filter(e=>void 0===e.featureId||i.indexOf(e.featureId)>-1),u=Object(d.b)();return g||(console.log("---- Full Menu ----"),console.log(m)),m&&(u.token&&""===u.userDomain&&Object(d.h)(m),u.picUrl=m.picture,u.name=m.name),u.name&&n.a.createElement("div",null,n.a.createElement(Se.SideStrip,{mainLinks:h,bottomLinks:Pe,onMenuClose:()=>{},expandMenu:!1,userLabel:u.name,imageUrl:decodeURIComponent(u.picUrl)}),n.a.createElement("div",{className:c.mainContainer},t))||n.a.createElement("div",null,t)},[s.a]),Me=e=>Object(we.a)({mainContainer:{marginLeft:e?7:70,marginRight:7}})();var _e=a(57),ze=a(6165),We=a(6166),Ge=a(6167),Ue=a(232),Ye=a(6180),Ve=n.a.createElement(_e.a,null,"You have been logged out."),Je=n.a.createElement("span",null,"... logging out please wait");const Ze=Object(g.a)(e=>{let{onNotifyMainNavOfLogOff:t,userLoggedIn:a}=e;const r=Ke(),{loginWithRedirect:l,logout:i,isAuthenticated:s,isLoading:c}=Object(De.b)();return Object(o.useEffect)(()=>{Object(d.a)(),s&&i({returnTo:window.location.origin+"/#/login"}),localStorage.removeItem("token"),localStorage.removeItem("featurePermissions"),a&&t()}),n.a.createElement("form",{id:"logout-submit",className:r.mainContainer},!c&&!s&&n.a.createElement(ze.a,{style:{display:"flex"}},n.a.createElement("div",{className:r.outerCard},n.a.createElement(We.a,{className:r.cardContainer},n.a.createElement("img",{src:"retail-shop-flat-icon_small.jpg",className:r.logo}),n.a.createElement("div",{className:r.messageContainer},n.a.createElement(Ye.a,{className:r.iconSpacing}),Ve)),n.a.createElement(Ge.a,null,n.a.createElement(Ue.a,{variant:"contained",color:"secondary",className:r.actionButton,onClick:()=>{l()}},n.a.createElement(Oe.a,{style:{marginRight:10}})," Login")))),(c||s)&&Je)},[s.a]),Ke=Object(we.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"auto"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"}});var Xe=a(6183),qe=a(6184),$e=a(173),Qe=a(6182),et=a(364),tt=a(6181),at=n.a.createElement(tt.a,null);const ot=e=>{let{onSearchChange:t}=e;const a=nt();return n.a.createElement("div",{className:a.search},n.a.createElement("div",{className:a.searchIcon},at),n.a.createElement(et.a,{placeholder:"Search…",onChange:e=>t(e.target.value),classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}}))},nt=Object(we.a)(e=>({inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{}},searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}));var rt=a(5),lt=a.n(rt);const it=Object(we.a)(e=>({root:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginLeft:-20,boxShadow:"0 0"},rootMobile:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginTop:0,marginLeft:20,boxShadow:"0 0",width:"unset"},toolBar:{minHeight:38,height:38},avatar:{backgroundColor:"transparent",color:e.palette.primary.main,marginRight:15,marginLeft:-15},searchTextContainer:{display:"flex",position:"absolute",right:5,top:7},childContainerNoSearch:{display:"flex"},childContainer:{display:"flex",right:270,top:7,marginLeft:8},searchTextBox:{width:120},searchTextLabel:{marginRight:"5px",marginTop:"6px"},menuButton:{marginLeft:-18,marginRight:10},labelTitle:{color:e.palette.primary.main,display:"flex"},labelTitleWithTextBox:{color:e.palette.primary.main,marginRight:28,display:"flex",marginTop:12}}));var st=n.a.createElement(Qe.a,null),ct=n.a.createElement(Qe.a,null);const dt=e=>{let{title:t,LeftIcon:a,onSearchChange:o,hideSearch:r,onAdd:l,addLabel:i,children:s,childHasTextBox:c,onAvatarClick:d}=e;const g=ve(),m=it();return n.a.createElement(Xe.a,{className:g?m.rootMobile:m.root,position:"static"},n.a.createElement(qe.a,{variant:"dense"},n.a.createElement(a,{style:{marginRight:10}}),n.a.createElement("span",{className:c?m.labelTitleWithTextBox:m.labelTitle},n.a.createElement(_e.a,{variant:"h6",color:"inherit"},t)),l&&!g&&n.a.createElement(Ue.a,{variant:"outlined",color:"secondary",onClick:l,startIcon:st,style:{marginLeft:20}},i||"Add"),l&&g&&n.a.createElement($e.a,{color:"secondary",onClick:l,style:{marginLeft:10}},ct),n.a.createElement("span",{className:r||void 0===o||c?m.childContainerNoSearch:m.childContainer},s),!0!==r&&void 0!==o&&n.a.createElement("span",{className:m.searchTextContainer},n.a.createElement("span",{className:m.searchTextBox},n.a.createElement(ot,{onSearchChange:e=>o(e)})))))};lt.a.elementType.isRequired,lt.a.string;var gt=a(9),mt=a(6214),ht=a(6190),ut=a(6192),pt=a(6193),ft=a(241),Et=a(330),yt=a(301),bt=a(6198),Ct=a(327),Lt=a(6191),vt=a(174),St=a(90),wt=a(6185),Ot=a(6189),xt=a(6187),At=a(6188),kt=a(6186);const It=e=>{let{onClick:t,children:a,title:r,message:l,...i}=e;const[s,c]=n.a.useState(!1),d=()=>{c(!1)};return n.a.createElement(o.Fragment,null,n.a.createElement(Ue.a,Object(St.a)({},i,{onClick:()=>{c(!0)}}),a),n.a.createElement(wt.a,{open:s,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(kt.a,{id:"alert-dialog-title"},r),n.a.createElement(xt.a,null,n.a.createElement(At.a,{id:"alert-dialog-description"},l)),n.a.createElement(Ot.a,null,n.a.createElement(Ue.a,{onClick:d,color:"primary"},"Cancel"),n.a.createElement(Ue.a,{onClick:()=>{c(!1),t()},variant:"contained",color:"primary",autoFocus:!0},"OK"))))},{catalogApi:jt}=Object(d.b)();var Rt=n.a.createElement(ht.a,null),Nt=n.a.createElement(Lt.a,null),Tt=n.a.createElement(ut.a,null),Dt=n.a.createElement(pt.a,{position:"start"},"$"),Bt=n.a.createElement(pt.a,{position:"start"},"$"),Ft=n.a.createElement("hr",null),Pt=n.a.createElement("span",null,"Saving..."),Ht=n.a.createElement("span",null,"Uploading..."),Mt=n.a.createElement("img",{width:532,alt:"Template",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII="});const _t=Object(g.a)(e=>{let{activeCatalogItem:t,onSaveCatalogItem:a,catalogListLoading:r,onUploadImage:l,onDeleteCatalog:i,imageUploading:s,categoryList:c,getCatalogCategorySort:d,onSetActiveCatalogItem:m,site:h}=e;const u=t.images&&t.images.length>0,p=!!u&&t.images[0].id,f=u?jt+"/catalogApi/api/v1/catalog/file/"+p+"?1":null,E=u?t.images[0].colorRgb:[0,0,0],y=u?{id:t.images[0].id,fileName:t.images[0].fileName}:null,[b,C]=Object(o.useState)({...t}),[L,v]=Object(o.useState)(f),[S,w]=Object(o.useState)(y),[O,x]=Object(o.useState)(!u||t.images[0].willFitWidth),[A,k]=Object(o.useState)(E),[I,j]=Object(o.useState)(E),[R,N]=Object(o.useState)(b.unitPrice),T=(e,t)=>C({...b,[e]:t}),D=(e,t)=>{const a={...b};void 0===b.sale?a.sale={enabled:!0,price:"0.00",color:[0,0,0],[e]:t}:a.sale={...a.sale,[e]:t},C(a)},B=zt();Object(o.useEffect)(()=>{if(t._id!==b._id){const e=t.images&&t.images.length>0;C({...t}),N(t.unitPrice),v(f),k(E),w(y),x(e&&t.images[0].willFitWidth)}});const F=(null==h?void 0:h.salesBackgroundColor)&&h.salesBackgroundColor.length>2?"rgb("+h.salesBackgroundColor[0]+","+h.salesBackgroundColor[1]+", "+h.salesBackgroundColor[2]+")":"rgb(255,255,255)";return n.a.createElement("div",{className:B.rootContainer},n.a.createElement(ft.a,{className:B.paperEntryContainer},n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(Ue.a,{variant:"contained",color:"primary",startIcon:Rt,style:{marginRight:20},onClick:()=>a(b,S,O,A,I)},"Save"),n.a.createElement(It,{startIcon:Nt,onClick:()=>i(b),title:"Are You Sure?",message:'Are You Sure you want to delete "'+b.shortDesc+'"?'},"Delete"),n.a.createElement(Ue.a,{startIcon:Tt,style:{marginRight:20},onClick:()=>m(null)},"Close")),n.a.createElement("div",{className:B.editContainer},n.a.createElement(Et.a,{style:{width:"100%"},label:"Short Desc",value:b.shortDesc,onChange:e=>T("shortDesc",e.target.value)}),n.a.createElement("div",null,n.a.createElement(yt.a,{control:n.a.createElement(bt.a,{checked:"active"===b.status,onChange:e=>{const t=e.target.checked?"active":"disabled";T("status",t)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:"Show"}))),n.a.createElement(Et.a,{style:{width:"30%"},label:"Model #",value:b.modelNumber||"",onChange:e=>T("modelNumber",e.target.value)}),n.a.createElement(Et.a,{style:{width:"60%"},label:"Mfr Name",value:b.mfrName||"",onChange:e=>T("mfrName",e.target.value)}),n.a.createElement(Et.a,{style:{width:"30%"},label:"Unit Price:$ "+Object(g.i)(b.unitPrice),value:R||"",InputProps:{startAdornment:Dt},onChange:e=>{N(e.target.value),T("unitPrice",parseFloat(e.target.value))}}),n.a.createElement(Et.a,{style:{width:"62%"},label:"Extra Desc",value:b.extraDesc,onChange:e=>T("extraDesc",e.target.value)}),n.a.createElement(Et.a,{style:{width:"100%"},multiline:!0,maxRows:4,label:"Description",value:b.description,onChange:e=>T("description",e.target.value)}),n.a.createElement(yt.a,{control:n.a.createElement(Ct.a,{checked:b.sale&&b.sale.enabled,onChange:()=>{const e=b.sale&&b.sale.enabled||!1;D("enabled",!e)},inputProps:{"aria-label":"primary checkbox"}}),label:"Sale Enabled"}),b.sale&&b.sale.enabled&&n.a.createElement("div",{style:{display:"flex",border:F+" solid 10px",padding:"7px"}},n.a.createElement(Et.a,{style:{width:"30%",marginBottom:10},label:"Sale Price:$ "+Object(g.i)(b.sale.price),value:b.sale.price||"",InputProps:{startAdornment:Bt},onChange:e=>{D("price",parseFloat(e.target.value))}})),Ft,n.a.createElement("div",null,c&&c.map(e=>{const t=b.categories.find(t=>t._id===e._id);return n.a.createElement(yt.a,{key:e._id,control:n.a.createElement(Ct.a,{checked:void 0!==t,onChange:a=>{void 0===t&&a.target.checked?(e=>{let{category:t}=e;const a={...b},o=d(t._id);a.categories=[...a.categories,{...t,sort:o}],console.log(o),C(a)})({catalog:b,category:e}):(e=>{let{categoryId:t}=e;const a={...b};a.categories=a.categories.filter(e=>e._id!==t),C(a)})({catalog:b,categoryId:e._id})},inputProps:{"aria-label":"primary checkbox"}}),label:e.category})})),!r&&!s&&n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("input",{type:"file",name:"myFile",id:"myFile",style:{width:200},onChange:async e=>{console.log(e.target.files);const t=new FileReader;t.onload=function(e){console.log("image read locally"),v(e.target.result)},t.readAsDataURL(e.target.files[0]);const a=await l(e.target.files[0],p);a.uploadImageResult&&w(a.uploadImageResult)}}))),r&&Pt,s&&Ht),n.a.createElement(ft.a,null,null!==L?n.a.createElement(vt.PicRatioFill,{width:532,height:415,src:L,onChangeColors:e=>{k(e.colorRgb),j(e.colorRgbOpposite),x(e.willFitWidth)}}):Mt))},[D,W,be]),zt=Object(we.a)({rootContainer:{display:"block"},picBorderHeight:{width:"50%",height:415,zIndex:1},picBorderWidth:{width:"100%",height:"50%",zIndex:1},imageBoxHeight:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee",display:"flex"},imageBoxWidth:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee"},fixHeight:{height:"100%",marginLeft:"auto",marginRight:"auto",position:"relative",zIndex:2},fixWidth:{width:"inherit",position:"absolute",transform:"translateY(-50%)",zIndex:2},editContainer:{display:"flex",justifyContent:"space-between"},textContainer:{"& > *":{margin:7}},paperEntryContainer:{"& > *":{margin:7},padding:10,width:"100%",marginBottom:15,backgroundColor:"#f2f0ea"}});var Wt=a(6197),Gt=a(6200),Ut=a(331),Yt=a(329),Vt=a(234),Jt=a(268),Zt=a(6199);Ut.a,Yt.a,Zt.a;Yt.a,Zt.a;Object(we.a)({iconRight:{position:"absolute",right:5,top:e=>{let{closeButtonTopOffset:t}=e;return t||-7}},textDisplay:{maxWidth:"calc(100% - 50px)",overflow:"hidden",fontSize:14},itemContainer:{minHeight:20,paddingTop:4,paddingBottom:4}});ut.a;var Kt=a(300),Xt=a(260),qt=a(6230),$t=a(6194),Qt=a(6203),ea=a(6196),ta=a(359),aa=a(6201),oa=a(6202),na=n.a.createElement(Gt.a,null,"No Data"),ra=n.a.createElement(Gt.a,null,"No Data");class la extends n.a.Component{constructor(e){super();const t=e.maxArrayLength||7;this.optionActiveRef=n.a.createRef(),this.state={showFullList:e.showFullList||!1,showDropDown:e.showDropDown||!1,searchString:"",filteredPageOptions:e.options.slice(0,7),filteredAllOptions:e.options,autoFocus:e.autoFocus,hasFocusOptionList:!1,hasFocusTextBox:!1,selectedIndex:0,maxArrayLength:t,anchorEl:null}}static getValueDisplay(e){const t=e.selected&&e.options.filter(t=>t[e.keyField]===e.selected[e.keyField])||[];return t.length>0?t[0][e.displayField]:""}onShowDropDown(e){this.setState({anchorEl:e.currentTarget,showDropDown:!0,filteredPageOptions:this.props.options.slice(0,7),filteredAllOptions:this.props.options})}hideDropDown(){this.setState({showDropDown:!1})}onKeyPress(e){13===e.keyCode?!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex?this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]):this.state.showFullList&&this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]):40===e.keyCode?(this.state.showFullList&&this.state.filteredAllOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop))),!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop)))):38===e.keyCode&&this.state.selectedIndex>0&&(this.setState({selectedIndex:this.state.selectedIndex-1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop-46):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop-46)))}onSearchChange(e){if(""!==e){const t=e&&e.toLowerCase?this.props.options.filter(t=>Object(g.d)(t,this.props.displayField).toLowerCase().indexOf(e.toLowerCase())>-1):[];this.setState({searchString:e,filteredPageOptions:t.slice(0,7),selectedIndex:0,filteredAllOptions:t})}else this.setState({searchString:e,filteredPageOptions:this.props.options.slice(0,7),selectedIndex:0,filteredAllOptions:this.props.options})}onItemSelect(e){e&&(this.props.onChange(e),this.setState({showDropDown:!1,searchString:""}))}onSetAnchor(e){null===this.state.anchorEl&&null!=e&&this.setState({anchorEl:e})}render(){const e=this.constructor.getValueDisplay(this.props),{label:t,classes:a}=this.props,{anchorEl:o,showDropDown:r}=this.state,l=Boolean(o)&&r;return n.a.createElement("div",{className:a.root},n.a.createElement(Kt.a,{style:{width:"100%"}},n.a.createElement(Xt.a,{onClickAway:()=>this.hideDropDown()},n.a.createElement("div",null,this.state.showDropDown?n.a.createElement(Kt.a,{style:{width:"100%"}},t&&t.length>0&&n.a.createElement(qt.a,{htmlFor:"age-simple"},t),n.a.createElement($t.a,{value:this.state.searchString,ref:e=>{this.onSetAnchor(e)},autoFocus:this.state.autoFocus,onChange:e=>this.onSearchChange(e.target.value),onKeyDown:e=>this.onKeyPress(e),endAdornment:n.a.createElement(pt.a,{position:"end"},n.a.createElement(tt.a,{style:{marginRight:10},color:"primary"}),this.props.onClose&&n.a.createElement(aa.a,{style:{marginRight:10,cursor:"pointer"},color:"primary",onClick:()=>this.props.onClose()}))})):n.a.createElement(Kt.a,{style:{width:"100%"}},t&&t.length>0&&n.a.createElement(qt.a,{htmlFor:"age-simple"},t),n.a.createElement($t.a,{autoFocus:this.state.autoFocus,value:e,onClick:e=>this.onShowDropDown(e),onKeyDown:e=>this.onShowDropDown(e),endAdornment:n.a.createElement(pt.a,{position:"end"},n.a.createElement(oa.a,{style:{marginRight:10},color:"primary"}))})),n.a.createElement(Qt.a,{open:l,anchorEl:o,style:{position:"fixed",zIndex:9999},transition:!0,disablePortal:!0},e=>{let{TransitionProps:t,placement:o}=e;return n.a.createElement(ea.a,Object(St.a)({},t,{id:"menu-list-grow",style:{transformOrigin:"bottom"===o?"center top":"center bottom"}}),n.a.createElement(ft.a,null,!this.state.showFullList&&n.a.createElement(Wt.a,null,this.props.topControl,this.state.filteredPageOptions.length>0&&this.state.filteredPageOptions.map((e,t)=>n.a.createElement(Gt.a,{key:t,selected:t===this.state.selectedIndex,onClick:()=>this.onItemSelect(e)},Object(g.d)(e,this.props.displayField))),0===this.state.filteredPageOptions.length&&na,this.state.filteredPageOptions.length>0&&this.state.maxArrayLength===this.state.filteredPageOptions.length&&n.a.createElement(_e.a,{color:"textSecondary",className:a.noOptionsMessage},"...")),this.state.showFullList&&n.a.createElement("div",{style:{maxHeight:300,maxWidth:300,overflow:"auto"},ref:e=>{this.optionContainerRef=e}},n.a.createElement(Wt.a,null,this.props.topControl,this.state.filteredAllOptions.length>0&&this.state.filteredAllOptions.map((e,t)=>t===this.state.selectedIndex?n.a.createElement("span",{key:t,ref:e=>{this.optionActiveRef=e}},n.a.createElement(Gt.a,{selected:t===this.state.selectedIndex,onClick:()=>this.onItemSelect(e)},Object(g.d)(e,this.props.displayField))):n.a.createElement(Gt.a,{key:t,selected:t===this.state.selectedIndex,onClick:()=>this.onItemSelect(e)},Object(g.d)(e,this.props.displayField))),0===this.state.filteredAllOptions.length&&ra))))})))))}}const ia=Object(ta.a)(e=>({root:{flexGrow:1,zIndex:99999999,position:"relative"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:56},noOptionsMessage:{padding:e.spacing(1)+"px "+e.spacing(2)+"px"}}))(la);var sa=a(302),ca=a(6204);const da=Object(ta.a)(()=>({spinnerWrapper:{position:"relative",margin:"auto"},fabProgress:{color:"primary",position:"absolute",left:0,zIndex:1}}))(e=>{let{classes:t,spinnerSize:a,style:o,loading:r,children:l}=e;return void 0===l||r?n.a.createElement("div",{className:t.spinnerWrapper,style:{...o,width:a}},n.a.createElement(ca.a,{color:"secondary",style:{width:a,height:a}}),n.a.createElement(sa.a,{size:a,className:t.fabProgress})):l}),ga=Object(g.a)(e=>{let{categoryList:t,onChange:a,categoryListInit:r,onCategoryListInit:l}=e;const[i,s]=Object(o.useState)(null),c=[{_id:null,category:"All"},...t];return Object(o.useEffect)(()=>{r||l()}),n.a.createElement(ia,{label:"Category",showFullList:!0,options:c,keyField:"_id",displayField:"category",onChange:e=>{s(e),a&&a(e)},selected:i})},[W]);var ma=a(6231),ha=a(6205),ua=a(6206);const pa=e=>{let{errorMessage:t,onClearErrorMessage:a,status:o}=e;const r=!!(t&&t.length>0);let l="#ffffff",i=ha.a;return"success"===o&&r?(l="#1ead29",i=ua.a):r&&(l="#ff525b"),n.a.createElement(ma.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:1e4,onClose:a},n.a.createElement(ft.a,{style:{padding:10,backgroundColor:l,display:"flex"},elevation:3},n.a.createElement(i,{style:{marginRight:15,color:"white"}}),n.a.createElement(_e.a,{style:{color:"white"}},t),n.a.createElement(ut.a,{onClick:a,style:{marginLeft:15,color:"white",cursor:"pointer"}})))};var fa=a(6228),Ea=a(6210),ya=a(6207),ba=a(6208),Ca=a(6209);const{catalogApi:La}=Object(d.b)();var va=n.a.createElement(ya.a,null),Sa=n.a.createElement(ya.a,null),wa=n.a.createElement(ba.a,{fontSize:"large"}),Oa=n.a.createElement(Ca.a,{fontSize:"large"});const xa=e=>{var t;let{catalog:a,onClick:r,inEdit:l,onSetStatus:i,disableEdit:s,isSaving:c,category:d,savingCatalogSort:m,onAddCategory:h,onRemoveCategory:u,showSortArrows:p,onOrderChange:f,prevCatalog:E,nextCatalog:y,salesBackgroundColor:b,salesFontColor:C}=e;const{widthCalc:L,heightPicCalc:v}=function(){const e=e=>{let t="",a="";return e<550?(t="93vw",a="72.54vw"):e<700?(t="46vw",a="35.88vw"):e<1200?(t="30vw",a="24.3vw"):(t="15vw",a="11.7vw"),{widthCalc:t,heightPicCalc:a}},[t,a]=Object(o.useState)(e(window.innerWidth));return Object(o.useEffect)(()=>{function t(){const t=e(window.innerWidth);a(t)}return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),t}(),S=l?"100%":L,w=a.images&&a.images.length>0,O=w?a.images[0].id:"5f41d4dac6f0db5918e4cb20",x=Aa({widthValue:S,heightValue:v}),A=w&&a.images[0].willFitWidth,k=w&&a.images[0].colorRgb,I=(d&&a.categories.filter(e=>e._id===d._id)||[]).length>0,j=d&&d._id;return n.a.createElement(ze.a,{className:x.card},n.a.createElement("div",{className:x.cardContainer},!s&&(c?n.a.createElement(yt.a,{control:va,label:"Saving",style:{minHeight:42,marginLeft:10}}):n.a.createElement(yt.a,{control:n.a.createElement(bt.a,{checked:"active"===a.status,onChange:e=>{const t=e.target.checked?"active":"disabled";i(t,a._id)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:"Show",style:{marginLeft:3,marginRight:0}})),!s&&(c?n.a.createElement(yt.a,{control:Sa,label:"Saving",style:{minHeight:42,marginLeft:10}}):j&&n.a.createElement(yt.a,{control:n.a.createElement(Ct.a,{checked:I,onChange:e=>{e.target.checked?h({catalog:a,category:d}):u({catalog:a,categoryId:d._id})},inputProps:{"aria-label":"primary checkbox"}}),label:"Categ...",style:{marginLeft:3}})),(void 0===a.sale||!a.sale.enabled)&&n.a.createElement("div",{className:x.catPrice},"$",Object(g.i)(a.unitPrice)),p&&j&&!m&&E&&I&&n.a.createElement($e.a,{"aria-label":"Up",size:"medium",className:x.buttonLeft,onClick:()=>f(a,d,E)},wa),n.a.createElement(We.a,{onClick:()=>{r&&r()},className:A?x.imageBoxWidth:x.imageBoxHeight},a.sale&&a.sale.enabled&&n.a.createElement("div",{className:x.catSale,style:{color:"rgb("+C[0]+","+C[1]+", "+C[2]+")",backgroundColor:"rgb("+b[0]+","+b[1]+", "+b[2]+")"}},"$",null===(t=a.sale)||void 0===t?void 0:t.price),n.a.createElement(vt.PicRatioView,{src:La+"/catalogApi/api/v1/catalog/file/"+O,width:S,height:v,colorRgb:k,colorRgbOpposite:k,willFitWidth:A})),p&&j&&!m&&y&&I&&n.a.createElement($e.a,{"aria-label":"Up",className:x.buttonRight,onClick:()=>f(a,d,y)},Oa),n.a.createElement(Ea.a,{title:a.shortDesc||"",subheader:a.modelNumber&&a.mfrName&&a.mfrName+" : "+a.modelNumber||"_",classes:{title:x.cardTitle,subheader:x.cardSubheader,content:x.cardRoot}})))},Aa=Object(we.a)({catSale:{position:"absolute",zIndex:9,padding:15,"border-bottom-right-radius":10,"border-bottom-left-radius":10,"border-top-left-radius":10,color:"white",right:0,transform:"rotate(30deg)"},catPrice:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#000000ba","border-bottom-right-radius":10,color:"white"},card:{width:e=>e.widthValue,marginBottom:20,backgroundColor:"#d0c6c626"},cardContainer:{position:"relative"},cardTitle:{fontSize:16,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cardSubheader:{fontSize:14,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cardRoot:{width:"100%"},imageBoxHeight:{width:e=>e.widthValue,height:e=>e.heightValue,overflow:"hidden",backgroundColor:"#afcdee",display:"flex",padding:0},imageBoxWidth:{width:e=>e.widthValue,height:e=>e.heightValue,overflow:"hidden",backgroundColor:"#afcdee",padding:0},buttonUp:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",top:40,width:50,height:50},buttonDown:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",bottom:75,width:50,height:50},buttonLeft:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:5,top:"calc(50% - 20px)",width:50,height:50},buttonRight:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",top:"calc(50% - 20px)",right:5,width:50,height:50}});var ka=a(258),Ia=n.a.createElement(ka.a,{variant:"middle"}),ja=n.a.createElement(_e.a,{gutterBottom:!0,variant:"h5"},"Items not in any Category");const Ra=Object(we.a)({catalogListComponent:{"& :not(:nth-child(6n+1))":{marginLeft:"calc( (97.6% - (16% * 6)) / 5 )"},display:"flex",flexWrap:"wrap",justifyContent:"flex-start"},container:{display:"block",flexWrap:"wrap",justifyContent:"flex-start",width:e=>e.inEdit?"24vw":"100%",overflow:"auto"},noCatalogList:{"& :not(:nth-child(6n+1))":{marginLeft:"calc( (97.6% - (16% * 6)) / 5 )"},display:"flex",flexWrap:"nowrap",justifyContent:"flex-start"}}),Na=Object(g.a)(e=>{let{catalogListFiltered:t,categorySelected:a,activeCatalogItem:r,onSetCatalogStatus:l,onAddCategoryToCatalog:i,onRemoveCategoryFromCatalog:s,catalogStatusLoading:c,onCatalogOrderChange:d,savingCatalogSort:g,onSetActiveCatalogItem:m,catalogListNoCategory:h,showSortArrows:u,site:p}=e;const f=null!==r,E=Ra({inEdit:f}),y=ve(),[b,C]=Object(o.useState)(4);return Object(o.useEffect)(()=>{console.log(b);let e=null;return b<t.length&&(e=setTimeout(()=>C(b+5),200)),()=>{e&&clearTimeout(e)}}),n.a.createElement("div",{className:E.container},n.a.createElement("div",{className:E.catalogListComponent},t.slice(0,b).map((e,o)=>{const h=o>0?t[o-1]:null,E=t.length>o-2?t[o+1]:null,b=(a&&E&&E.categories.filter(e=>e._id===a._id)||[]).length>0;return n.a.createElement(xa,{showSortArrows:u,key:""+e._id+e.sort,prevCatalog:h,nextCatalog:b?E:null,inEdit:f,catalog:e,category:a,disableEdit:null!=r,onSetStatus:l,onAddCategory:i,onRemoveCategory:s,isSaving:e._id===c,onOrderChange:d,savingCatalogSort:g,salesBackgroundColor:p.salesBackgroundColor||[0,255,255],salesFontColor:p.salesFontColor||[0,0,0],onClick:()=>{y||m(e)}})})),Ia,!y&&h.length>0&&ja,n.a.createElement("div",{className:E.catalogListComponent},!y&&h.map((e,o)=>{const h=o>0?t[o-1]:null,u=t.length>o-2?t[o+1]:null,p=(a&&u&&u.categories.filter(e=>e._id===a._id)||[]).length>0;return n.a.createElement(xa,{key:""+e._id+e.sort,prevCatalog:h,nextCatalog:p?u:null,inEdit:f,catalog:e,category:a,disableEdit:null!=r,onSetStatus:l,onAddCategory:i,onRemoveCategory:s,isSaving:e._id===c,onOrderChange:d,savingCatalogSort:g,onClick:()=>{y||m(e)}})})))},[D,W,be]);var Ta=a(6212),Da=a(6213),Ba=a(178),Fa=a.n(Ba);const Pa=a(6211).a;Ae.a;var Ha=a(184);const Ma=Object(gt.a)(e=>({root:{padding:e.spacing(2)}}))(Ta.a),_a=Object(gt.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"},alignItems:"center"},expanded:{}})(Da.a);var za=n.a.createElement(Fa.a,null),Wa=n.a.createElement(mt.a,null),Ga=n.a.createElement(ht.a,null),Ua=n.a.createElement(Fa.a,null),Ya=n.a.createElement(Pa,null),Va=n.a.createElement(ut.a,null),Ja=n.a.createElement(_t,null);const Za=Object(g.a)(e=>{var t,a;let{catalogList:r,catalogTotals:l,onSetCatalogTotals:i,catalogListInit:s,onCatalogListInit:c,onSetActiveCatalogItem:d,activeCatalogItem:g,onCategorySelectChange:m,catalogListLoadError:h,onClearCatalogError:u,categoryList:p,onSaveSiteColor:f,siteDataInitialized:E,onLoadSite:y,site:b,setSalesBackgroundColor:C,setSalesFontColor:L}=e;Object(o.useEffect)(()=>{s||c(),!E&&r.length>0&&y()}),Object(o.useEffect)(()=>{0===l.length&&p.length>0&&r.length>0&&i(p,r)});const v=ve(),[S,w]=Object(o.useState)({_id:null,category:"All"}),[O,x]=Object(o.useState)(!1);console.log("site"),console.log(b);const A=null!==(t=b.salesBackgroundColor)&&void 0!==t?t:[0,255,255],k=null!==(a=b.salesFontColor)&&void 0!==a?a:[0,0,0];console.log(A);const[I,j]=Object(o.useState)(!1),R=null!==g,N=Ka({inEdit:R}),T=h&&Array.isArray(h)&&h.length>0&&h[0].dataPath+" "+h[0].message||"Error Saving";console.log(T);const D=(null==A?void 0:A.length)>2?"rgb("+A[0]+","+A[1]+", "+A[2]+")":"rgb(255,255,255)",B=k.length>2?"rgb("+k[0]+","+k[1]+", "+k[2]+")":"rgb(255,255,255)";return n.a.createElement(o.Fragment,null,n.a.createElement(pa,{errorMessage:h&&T||"",onClearErrorMessage:()=>u(!1),status:"error"}),n.a.createElement(fa.a,{expanded:O,className:N.accordion,onChange:()=>{x(!O)}},n.a.createElement(_a,{expandIcon:za},Wa,n.a.createElement(_e.a,{className:N.categoryTitle},"Sales Text Styling")),n.a.createElement(Ma,null,n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("div",null,n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(_e.a,{className:N.categoryTitle,style:{padding:10,width:250}},"Sales Background Color"),n.a.createElement("div",{style:{display:"flex",padding:"7px"}},n.a.createElement(Ha.HuePicker,{color:{r:A[0],g:A[1],b:A[2]},onChangeComplete:e=>{C([e.rgb.r,e.rgb.g,e.rgb.b])}}))),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(_e.a,{className:N.categoryTitle,style:{padding:10,width:250}},"Sales Font Color"),n.a.createElement("div",{style:{display:"flex",padding:"7px",marginTop:10}},n.a.createElement(Ha.CompactPicker,{color:{r:k[0],g:k[1],b:k[2]},onChangeComplete:e=>{L([e.rgb.r,e.rgb.g,e.rgb.b])}})))),n.a.createElement("div",{style:{paddingLeft:20,display:"flex"}},n.a.createElement("div",{className:N.catSale,style:{backgroundColor:""+D,color:""+B,width:35,height:20}},"$999"),n.a.createElement("div",{style:{margin:20}},n.a.createElement(Ue.a,{variant:"contained",color:"primary",startIcon:Ga,style:{marginRight:20},onClick:()=>f({salesBackgroundColor:A,salesFontColor:k})},"Save Style")))))),n.a.createElement("div",{style:{width:360,marginTop:-10,marginBottom:10}},n.a.createElement(ga,{onChange:e=>{w(e),m(e)}})),n.a.createElement("div",{className:N.mainContainer},n.a.createElement("div",{className:N.scrollContainer},n.a.createElement("div",{className:N.container},p.map(e=>{const t=l?l.filter(t=>t._id===e._id):[],a=e._id===S._id;return n.a.createElement(fa.a,{expanded:a,TransitionProps:{timeout:0},onChange:()=>{if(console.log("click"),e._id===S._id){const e={_id:null,category:"All"};w(e),m(e)}else w(e),m(e)},key:e._id,className:N.accordion,hidden:S&&S._id&&e._id!==S._id},n.a.createElement(_a,{expandIcon:Ua},Ya,n.a.createElement(_e.a,{className:N.categoryTitle},e.category),!R&&n.a.createElement(n.a.Fragment,null,!v&&t.length>0&&n.a.createElement(_e.a,{style:{marginRight:"10%",position:"absolute",right:30}},"Active: ",t[0].activeTotal," Disabled: ",t[0].disabledTotal," Total: ",t[0].disabledTotal+t[0].activeTotal),v||R||e._id!==S._id?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(Ue.a,{variant:"contained",color:"primary",className:N.reorderButton,onClick:e=>{e.stopPropagation(),j(!I),console.log("test")}},I?"Hide":"Show"," Reorder Arrows")))),n.a.createElement(Ma,null,a&&n.a.createElement(Na,{showSortArrows:!v&&I})))}))),R&&n.a.createElement("div",{className:N.containerEdit},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement($e.a,{className:N.editControl,onClick:()=>{d(null)}},Va)),Ja)))},[D,W,be]),Ka=Object(we.a)({catSale:{zIndex:9,padding:15,"border-bottom-right-radius":10,"border-bottom-left-radius":10,"border-top-left-radius":10,color:"white",right:0,transform:"rotate(0deg)"},scrollContainer:{height:"calc( 100vh - 120px)",width:e=>e.inEdit?"0vw":"100%",overflow:"auto"},container:{display:"block",flexWrap:"wrap",justifyContent:"space-between",width:"100%"},containerEdit:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",height:80,width:"calc( 75vw - 87px)"},editControl:{position:"absolute",right:10,zIndex:999},mainContainer:{display:"flex",flexWrap:"wrap"},gridList:{flexWrap:"wrap",transform:"translateZ(0)"},gridListBottom:{flexWrap:"nowrap",bottom:0,position:"absolute",transform:"translateZ(0)",display:"flex",width:"100%",overflow:"scroll"},gridListTile:{},accordion:{height:"100%"},accordionDetails:{"&$expanded":{minHeight:56}},reorderButton:{margin:0,"text-transform":"none",background:"#64b5f6",marginLeft:"40px"},categoryTitle:{fontWeight:500,fontSize:"large",marginLeft:15}});var Xa=n.a.createElement(Za,null);const qa=Object(g.a)(e=>{let{onCreateNewCatalog:t,onCatalogSearch:a,catalogSearchText:r}=e;return n.a.createElement(o.Fragment,null,n.a.createElement(dt,{title:"Catalogs",LeftIcon:Pa,onSearchChange:e=>{a(e)},onAdd:()=>{t()}}),Xa)},[D]);var $a=n.a.createElement("span",null,"...Loading User Privileges");const Qa=e=>{let{history:t,permission:a,component:r,...i}=e;const{isLoading:s,isAuthenticated:c}=Object(De.b)(),g=Object(d.c)(a),m=(c||Object(d.d)())&&g;return n.a.createElement(l.b,Object(St.a)({},i,{render:e=>n.a.createElement(o.Fragment,null,m&&n.a.createElement(r,e),!m&&!s&&n.a.createElement(l.a,{push:!0,to:{pathname:"/login",state:{from:e.location}}}),!m&&s&&$a)}))};var eo=a(6216),to=a(6215),ao=a(266),oo=a(326),no=n.a.createElement(ao.a,null,n.a.createElement(Ae.a,null)),ro=n.a.createElement(ht.a,null),lo=n.a.createElement(Lt.a,null),io=n.a.createElement(qt.a,null,"Sort");const so=e=>{let{category:t,saveCategory:a,deleteCategoey:r}=e;const[l,i]=Object(o.useState)(!1),[s,c]=Object(o.useState)({...t}),d=(e,t)=>{c({...s,[e]:t}),i(!0)},g=co();return n.a.createElement(ft.a,{className:g.paper},n.a.createElement(Vt.a,{style:{display:"flex"}},no,n.a.createElement(Jt.a,{primary:s.category,classes:{primary:l?g.title:void 0}}),n.a.createElement(ao.a,null,n.a.createElement($e.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:g.edgeEndChange},onClick:()=>{a(s),i(!1)}},ro)),n.a.createElement(ao.a,null,n.a.createElement($e.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:g.edgeEndChange},onClick:()=>{r(s),i(!1)}},lo))),n.a.createElement(Vt.a,null,n.a.createElement(yt.a,{style:{width:"50%"},control:n.a.createElement(Ct.a,{checked:s.systemOnly,onChange:e=>{const t=e.target.checked;d("systemOnly",t)},inputProps:{"aria-label":"primary checkbox"}}),label:"System"}),n.a.createElement(Kt.a,{className:g.formControl},io,n.a.createElement(oo.a,{value:s.sort,onChange:e=>{d("sort",e.target.value)}},[0,1,2,3,4,5,6,7,8,9,10].map(e=>n.a.createElement(Gt.a,{key:e,value:e},e))))),n.a.createElement(Vt.a,null,n.a.createElement(Et.a,{style:{width:"100%"},label:"Title",value:s.category,onChange:e=>d("category",e.target.value)})))},co=Object(we.a)(()=>({paper:{minHeight:140,width:"100%"},edgeEndChange:{marginRight:-20},title:{fontWeight:900,color:"limegreen",fontSize:"x-large"}})),go=Object(g.a)(e=>{let{onCategoryListInit:t,categoryListInit:a,categoryList:r,onSaveCategoryItem:l,onDeleteCategory:i}=e;Object(o.useEffect)(()=>{a||t()});const s=mo();return n.a.createElement(o.Fragment,null,n.a.createElement(to.a,{container:!0,className:s.root,spacing:2},r.map((e,t)=>n.a.createElement(to.a,{item:!0,xs:12,md:4,key:e._id},n.a.createElement(so,{category:e,saveCategory:l,deleteCategoey:i})))))},[W]),mo=Object(we.a)(()=>({root:{flexGrow:1},paper:{minHeight:140,width:"100%"},control:{}}));var ho=n.a.createElement(go,null);const uo=Object(g.a)(e=>{let{onCreateNewCategory:t}=e;const a=po();return n.a.createElement(o.Fragment,null,n.a.createElement(dt,{title:"Category",LeftIcon:eo.a,onSearchChange:e=>{},onAdd:()=>{t()}}),n.a.createElement("div",{className:a.mainContainer},ho))},[W]),po=Object(we.a)({mainContainer:{backgroundColor:"#e8e7e7",minHeight:"calc(100vh - 65px)",padding:5,marginTop:-10}});var fo=a(340),Eo=a(6218);const yo=(e,t,a)=>{const o=bo.filter(t=>t.id===e),n=a?bo.filter(e=>e.id===a.day):null;return o.length>0?n&&n.length>0&&a.hours===t?n[0].short+" to "+o[0].short+" "+t:o[0].short+" "+t:""},bo=[{id:0,name:"Sunday",short:"Sun"},{id:1,name:"Monday",short:"Mon"},{id:2,name:"Tuesday",short:"Tues"},{id:3,name:"Wednesday",short:"Wed"},{id:4,name:"Thursday",short:"Thurs"},{id:5,name:"Friday",short:"Fri"},{id:6,name:"Saturday",short:"Sat"}];var Co=a(6138),Lo=a(6217),vo=n.a.createElement(ht.a,null);const So=e=>{let{hoursFull:t,save:a}=e;const[r,l]=Object(o.useState)((i=t,bo.map(e=>{const t=i.filter(t=>t.day===e.id);return t.length>0?{...e,hours:t[0].hours,selected:!0}:{...e,hours:"",selected:!1}})));var i;const s=(e,t,a)=>{const o=r.map((o,n)=>e===n?{...o,[t]:a}:o);l(o)};return n.a.createElement(o.Fragment,null,r.map((e,t)=>n.a.createElement(Vt.a,{key:e.id,role:void 0,dense:!0,button:!0},n.a.createElement(ao.a,null,n.a.createElement(Ct.a,{edge:"start",checked:e.selected,tabIndex:-1,disableRipple:!0,onChange:e=>{s(t,"selected",e.target.checked)}})),n.a.createElement(Jt.a,{style:{minWidth:100},primary:e.name}),n.a.createElement(Jt.a,{style:{minWidth:200},primary:n.a.createElement(Et.a,{label:"Hours",value:e.hours,onChange:e=>{s(t,"hours",e.target.value)}})}))),n.a.createElement(Ue.a,{style:{marginTop:20},variant:"contained",color:"primary",size:"large",startIcon:vo,onClick:()=>{a(r.filter(e=>e.selected).map(e=>({day:e.id,hours:e.hours})))}},"Save"))};var wo=n.a.createElement(mt.a,null),Oo=n.a.createElement(Lo.a,null),xo=n.a.createElement(Jt.a,{primary:"Hours"}),Ao=n.a.createElement(ut.a,null);const ko=e=>{let{hoursFull:t,save:a}=e;const r=(e=>{const t=[];if(e&&Array.isArray(e)&&e.length>0){let a={hours:""},o="";e.forEach((e,n)=>{n>0&&a.hours!==e.hours&&t.push(o),o=yo(e.day,e.hours,a),a.hours!==e.hours&&(a=e)}),t.push(o)}return t.length>0?t:["Please call for hours"]})(t),[l,i]=Object(o.useState)(!1),s=Io();return n.a.createElement("div",null,n.a.createElement(Vt.a,null,n.a.createElement(ao.a,{style:{marginLeft:-25}},n.a.createElement($e.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:s.edgeEndChange},onClick:()=>{i(!0)}},wo)),n.a.createElement(Jt.a,{primary:"Hours",classes:{primary:void 0}})),r.map(e=>n.a.createElement("div",{key:e},e)),n.a.createElement(Co.a,{open:l,onClose:()=>i(!1),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.a.createElement(ft.a,{className:s.modalPaper},n.a.createElement(Vt.a,{style:{display:"flex",marginTop:-15}},n.a.createElement(ao.a,{style:{marginLeft:-20}},Oo),xo,n.a.createElement(ao.a,{className:s.edgeEndChange},n.a.createElement($e.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:s.edgeEndChange},onClick:()=>{i(!1)}},Ao))),n.a.createElement(So,{hoursFull:t,save:e=>{i(!1),a(e)}}))))},Io=Object(we.a)({modalPaper:{position:"absolute",width:400,padding:20,top:"5%",left:"calc(50% - 200px)",overflowX:"hidden",overflowY:"auto",minHeight:300},edgeEndChange:{marginRight:-20}});var jo=n.a.createElement(ao.a,null,n.a.createElement(Eo.a,null)),Ro=n.a.createElement(ht.a,null),No=n.a.createElement(Lt.a,null);const To=e=>{let{location:t,saveLocation:a,deleteLocation:r}=e;const[l,i]=Object(o.useState)(!1),[s,c]=Object(o.useState)({...t}),d=function(e,t,a){void 0===a&&(a=!0),c({...s,[e]:t}),i(a)},g=(e,t)=>{const a={...s.address,[e]:t};c({...s,address:a}),i(!0)},m=Do();return n.a.createElement(ft.a,{className:m.paper},n.a.createElement(Vt.a,null,jo,n.a.createElement(Jt.a,{primary:s.locationName,classes:{primary:l?m.title:void 0}}),n.a.createElement(ao.a,null,n.a.createElement($e.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:m.edgeEndChange},onClick:()=>{a(s),i(!1)}},Ro)),n.a.createElement(ao.a,null,n.a.createElement($e.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:m.edgeEndChange},onClick:()=>{r(s),i(!1)}},No))),n.a.createElement(Vt.a,null,n.a.createElement(Et.a,{style:{width:"100%"},label:"Title",value:s.locationName,onChange:e=>d("locationName",e.target.value)})),n.a.createElement(Vt.a,null,n.a.createElement(Et.a,{style:{width:"100%"},label:"Address 1",value:s.address.address1,onChange:e=>g("address1",e.target.value)})),n.a.createElement(Vt.a,null,n.a.createElement(Et.a,{style:{width:"100%"},label:"Address 2",value:s.address.address2,onChange:e=>g("address1",e.target.value)})),n.a.createElement(Vt.a,null,n.a.createElement(Et.a,{style:{width:"45%",marginRight:"10%"},label:"City",value:s.address.city,onChange:e=>g("city",e.target.value)}),n.a.createElement(Et.a,{style:{width:"45%"},label:"State",value:s.address.state,onChange:e=>g("state",e.target.value)})),n.a.createElement(Vt.a,null,n.a.createElement(Et.a,{style:{width:"30%",marginRight:"5%"},label:"Zip Code",value:s.address.zipCode,onChange:e=>g("zipCode",e.target.value)}),n.a.createElement(Et.a,{style:{width:"30%",marginRight:"5%"},label:"Phone#",value:s.phonePublic,onChange:e=>d("phonePublic",e.target.value)}),n.a.createElement(Et.a,{style:{width:"30%"},label:"Map Link",value:s.mapLink,onChange:e=>d("mapLink",e.target.value)})),n.a.createElement(Vt.a,null,n.a.createElement(Et.a,{style:{width:"100%"},label:"Email",value:s.email,onChange:e=>d("email",e.target.value)})),n.a.createElement(Vt.a,null,n.a.createElement(ko,{hoursFull:s.hours,save:e=>{d("hours",e,!1),a({...s,hours:e})}})))},Do=Object(we.a)(()=>({paper:{minHeight:140,width:"100%"},edgeEndChange:{marginRight:-20},title:{fontWeight:900,color:"limegreen",fontSize:"x-large"}})),Bo=Object(g.a)(e=>{let{onLocationListInit:t,locationListInit:a,locationList:r,onSaveLocationItem:l,onDeleteLocation:i}=e;Object(o.useEffect)(()=>{a||t()});const s=Fo();return n.a.createElement(o.Fragment,null,n.a.createElement(to.a,{container:!0,className:s.root,spacing:2},r.map(e=>n.a.createElement(to.a,{item:!0,xs:12,md:4,key:e._id},n.a.createElement(To,{location:e,saveLocation:l,deleteLocation:i})))))},[X]),Fo=Object(we.a)(()=>({root:{flexGrow:1},paper:{minHeight:140,width:"100%"},control:{}}));var Po=n.a.createElement(Bo,null);const Ho=Object(g.a)(e=>{let{onCreateNewLocation:t}=e;const a=Mo();return n.a.createElement(o.Fragment,null,n.a.createElement(dt,{title:"Locations",LeftIcon:fo.OpenWith,onSearchChange:e=>{},onAdd:()=>{t()}}),n.a.createElement("div",{className:a.mainContainer},Po))},[X]),Mo=Object(we.a)({mainContainer:{backgroundColor:"#e8e7e7",minHeight:"calc(100vh - 65px)",padding:5,marginTop:-10}});var _o=a(139),zo=a.n(_o),Wo=a(6219);const Go=["modelNumber","mfrName","shortDesc","unitPrice","status","images.0.fileName"],Uo={key:"modelNumber",itemsPerPage:10,defaultSort:"modelNumber",sortDescending:!1,columns:[{fieldForSort:"modelNumber",columnLabel:"Model#"},{fieldForSort:"mfrName",columnLabel:"Mfr"},{fieldForSort:"unitPrice",columnLabel:"Price"},{fieldForSort:"status",columnLabel:"Status"},{fieldForSort:"images.0.fileName",columnLabel:"File"}]},Yo=[{fieldName:"mfrName",columnLabel:"Manufacturer"},{fieldName:"status",columnLabel:"Status"}];var Vo=a(115),Jo=n.a.createElement(Wo.a,null);const Zo=Object(g.a)(e=>{let{catalogList:t,catalogListInit:a,onCatalogListInit:r,catalogListLoading:l}=e;Object(o.useEffect)(()=>{if(a){if(null===i&&!l){s(t);const e=Object(g.c)(Yo,t);d(e)}}else r()});const[i,s]=Object(o.useState)(null),[c,d]=Object(o.useState)(null);console.log(c);const m=Ko();return null===i?n.a.createElement(da,{spinnerSize:60,style:{paddingTop:"25vh"}}):n.a.createElement("div",null,"Total Records : ",i&&i.length,c&&n.a.createElement("div",null,c.fieldList.map(e=>n.a.createElement(ft.a,{key:e.fieldName,className:m.filterContainer},n.a.createElement("label",{className:m.optionLabel},e.columnLabel),n.a.createElement("div",{className:m.filterItemContainer},c[e.fieldName].map(a=>n.a.createElement("div",{key:a.option,className:m.optionContainer},n.a.createElement(yt.a,{control:n.a.createElement(bt.a,{checked:a.selected,onChange:o=>{((e,a,o)=>{const n={fieldList:c.fieldList},r={};c.fieldList.forEach(e=>{r[e.fieldName]=[],n[e.fieldName]=c[e.fieldName].map(e=>e.option===a?{option:a,selected:o}:e),n[e.fieldName].forEach(t=>{t.selected&&r[e.fieldName].push(t.option)})});const l=t.filter(e=>{let t=!0;return n.fieldList.forEach(a=>{const o=Object(g.d)(e,a.fieldName);r[a.fieldName].length>0&&-1===r[a.fieldName].indexOf(o)&&(t=!1)}),t});d(n),s(l)})(e.fieldName,a.option,o.target.checked)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:n.a.createElement("span",null,a.option&&a.option.length>0?a.option:"None"),style:{marginLeft:3,marginRight:0}}))))))),n.a.createElement(Vo.TablePaging,{dataList:i,headerConfig:Uo}),n.a.createElement(Ue.a,{startIcon:Jo,style:{marginRight:20,marginTop:20,marginBottom:30},variant:"contained",color:"primary",onClick:()=>{const e=Object(g.b)(i,Go),t=_o.utils.aoa_to_sheet(e),a=_o.utils.book_new();_o.utils.book_append_sheet(a,t,"Catalog"),zo.a.writeFile(a,"catalog.xlsx")}},"Export"))},[D]),Ko=Object(we.a)({filterContainer:{margin:10,padding:10,border:"black solid 2px"},filterItemContainer:{display:"flex",flexFlow:"row wrap"},optionLabel:{width:110},optionContainer:{width:220}});var Xo=a(6220),qo=a(341),$o=a(142),Qo=a(358),en=a(345),tn=a(6224),an=a(356),on=a(137),nn=n.a.createElement(Xo.a,{strokeDasharray:"3 3"}),rn=n.a.createElement(qo.a,null),ln=n.a.createElement($o.a,null),sn=n.a.createElement(Qo.a,{dataKey:"hits",fill:"#82ca9d",minPointSize:10},n.a.createElement(en.a,{angle:-90,dataKey:"hits"}));const cn=Object(g.a)(e=>{let{hitChartData:t,hitReportInitDone:a,onHitReportInit:r,weekEndDate:l,weekStartDate:i,setWeekDays:s}=e;return Object(o.useEffect)(()=>{a||r()}),n.a.createElement("div",null,n.a.createElement(dt,{title:"Weekly Hits "+i+" - "+l,LeftIcon:je.a}),n.a.createElement(tn.a,{width:800,height:300,data:t,margin:{top:20,right:30,left:20,bottom:50}},nn,n.a.createElement(an.a,{dy:25,dx:-5,dataKey:"name",angle:-90,label:{angle:-90,value:"Month-Day",position:"insideBottomRight",offset:28}}),rn,ln,n.a.createElement(on.a,{wrapperStyle:{position:"initial"}}),sn))},[oe]);var dn=a(6225);const gn={key:"0",itemsPerPage:10,defaultSort:"1",sortDescending:!0,columns:[{fieldForSort:"ticketNum",columnLabel:"TIX NO"},{fieldForSort:"day",columnLabel:"Day"},{fieldForSort:"month",columnLabel:"Month"},{fieldForSort:"name",columnLabel:"Name"},{fieldForSort:"price",columnLabel:"Price"}]};var mn=n.a.createElement(tt.a,null);const hn=Object(g.a)(e=>{let{onGetSalesByName:t,salesSearch:a,salesSearchLoading:r}=e;console.log(a);const l=a&&a.rowCountFound>0?a.rowCountFound+" Found":"Enter Name and Click Search",i=un(),s=a.items.length>0,[c,d]=Object(o.useState)(""),[g,m]=Object(o.useState)(""),[h,u]=Object(o.useState)(localStorage.getItem("salesLocation")||"JO");return n.a.createElement("div",null,n.a.createElement(dt,{title:"Sales Search By Name ("+l+")",LeftIcon:Re.a}),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(ft.a,{className:i.searchButtonRoot},n.a.createElement(da,{loading:r,spinnerSize:30,classes:{spinnerWrapper:i.spinnerWrapper}},n.a.createElement(et.a,{placeholder:"Search By Name",inputProps:{"aria-label":"search google maps"},value:c,onChange:e=>d(e.target.value),onKeyUp:e=>{13===e.keyCode&&t(c,h)}}),n.a.createElement($e.a,{onClick:()=>t(c,h)},mn))),n.a.createElement(dn.a,{size:"small",color:"secondary","aria-label":"small outlined button group",style:{marginRight:20}},n.a.createElement(Ue.a,{style:{background:"JO"===h?"aliceblue":""},onClick:()=>{localStorage.setItem("salesLocation","JO"),u("JO")}},"Jonesboro"),n.a.createElement(Ue.a,{style:{background:"GR"===h?"aliceblue":""},onClick:()=>{localStorage.setItem("salesLocation","GR"),u("GR")}},"Griffin"),n.a.createElement(Ue.a,{style:{background:"ME"===h?"aliceblue":""},onClick:()=>{localStorage.setItem("salesLocation","GR"),u("ME")}},"Merge")),s&&n.a.createElement(ft.a,{className:i.filterRoot},n.a.createElement(qt.a,{className:i.searchLabel},"Filter Table Results"),n.a.createElement(ka.a,{className:i.divider,orientation:"vertical"}),n.a.createElement(et.a,{placeholder:"Filter By Month/Year/Name",inputProps:{"aria-label":"search google maps"},value:g,onChange:e=>m(e.target.value)}))),n.a.createElement(Vo.TablePaging,{loading:r,dataList:a.items,headerConfig:gn,filterText:g}))},[ie]),un=Object(we.a)({searchButtonRoot:{paddingLeft:15,paddingRight:0,width:265,marginRight:20},filterRoot:{paddingLeft:15,paddingRight:0,width:450,display:"flex"},spinnerWrapper:{marginTop:10,marginBottom:10},divider:{height:28,margin:4,paddingTop:15,marginLeft:10,marginRight:10},searchLabel:{paddingTop:15}}),pn={key:"0",itemsPerPage:10,defaultSort:"runDate._seconds",sortDescending:!0,columns:[{fieldForSort:"fileName",columnLabel:"File"},{display:(e,t,a)=>new Date(1e3*e.runDate._seconds).toDateString(),columnLabel:"Date"},{fieldForSort:"count",columnLabel:"Count"}]},fn=Object(g.a)(e=>{let{salesHist:t,onGetSalesHist:a,salesHistLoading:r,salesHistLoadError:l,salesHistInitDone:i,onSalesHistInit:s}=e;Object(o.useEffect)(()=>{i||s()});const[c,d]=Object(o.useState)("");return n.a.createElement("div",null,n.a.createElement(dt,{title:"Sales Hist",LeftIcon:Ne.a,onSearchChange:d}),n.a.createElement(Vo.TablePaging,{loading:r,dataList:t.items,headerConfig:pn,filterText:c}))},[me]);var En=n.a.createElement(l.b,{exact:!0,path:"/logOut",component:Ze}),yn=n.a.createElement(l.b,{exact:!0,path:"/logcomplete",component:Ze});class bn extends n.a.Component{constructor(){super(),this.state={isMobile:window.innerWidth<=760,errorMessage:"",showAlert:!1,alertStatus:"",tokenLoading:!1,tokenLoaded:!1}}onCloseAlert(){this.setState({errorMessage:"",alertStatus:""})}componentDidMount(){Object(g.f)(this),Object(d.e)();window.addEventListener("resize",()=>{this.setState({isMobile:window.innerWidth<=760})})}render(){const e=async()=>{const{getAccessTokenSilently:e}=this.props.auth0;try{this.setState({tokenLoading:!0});const t=await e();console.log("-------- Token Complete First Try -------"),console.log(t),Object(d.g)(t),this.setState({errorMessage:"You Have Access",alertStatus:"success",tokenLoaded:!0})}catch(t){e().then(e=>{Object(d.g)(e),console.log("-------- Token Complete second Try-------"),console.log(e),this.setState({errorMessage:"Access Allowed",alertStatus:"success",tokenLoaded:!0})}).catch(e=>{console.log("-------- No Token -------"),console.log(e.message||e),this.setState({errorMessage:e.message})})}},{user:t,isLoading:a}=this.props.auth0,{isMobile:o,errorMessage:r,alertStatus:l,tokenLoading:s,tokenLoaded:c}=this.state;a||s||c||""!==r||(console.log("--- user render ---"),console.log({errorMessage:r,isLoading:a,tokenLoading:s,tokenLoaded:c}),console.log(this.props.auth0),Object(d.d)()||e());const g=Object(Le.getLoginRoute)(),m=He;return n.a.createElement(Ce,null,n.a.createElement(pa,{errorMessage:r,onClearErrorMessage:()=>this.onCloseAlert(),status:l}),n.a.createElement(i.a,null,n.a.createElement(m,null,n.a.createElement("div",null,n.a.createElement(g,null),En,yn,n.a.createElement(Qa,{permission:1,exact:!0,path:"/",component:qa}),n.a.createElement(Qa,{permission:1,exact:!0,path:"/location",component:Ho}),n.a.createElement(Qa,{permission:1,exact:!0,path:"/catalogSearch",component:Zo}),n.a.createElement(Qa,{permission:1,exact:!0,path:"/category",component:uo}),n.a.createElement(Qa,{permission:1,exact:!0,path:"/hits",component:cn}),n.a.createElement(Qa,{permission:1,exact:!0,path:"/salesByName",component:hn}),n.a.createElement(Qa,{permission:1,exact:!0,path:"/salesHist",component:fn})))))}}var Cn=Object(De.c)(bn),Ln=a(98),vn=a(6172),Sn=a(186),wn=a(6226);const On=Object(Ln.a)({typography:{useNextVariants:!0},palette:{textColor:Sn.a.A700,primary:{main:"#3d6090",success:"#4caf50",idle:wn.a[500]},secondary:{main:"#428bca"}}});Object(r.render)(n.a.createElement(De.a,{domain:void 0,clientId:void 0,audience:void 0,redirectUri:""+window.location.origin,scope:"read.events"},n.a.createElement(vn.a,{theme:On},n.a.createElement(Cn,null))),document.querySelector("#app"));vn.a},89:function(e,t,a){"use strict";var o=a(49),n=a(19),r=a(11);let l=null;const i=()=>{const e=Object(n.b)();return console.log("isLoggedIn"),console.log(Object(n.f)()),{loadingAuth:!Object(n.f)(),userNotAuthorized:!1,userLoggedIn:Object(n.f)(),name:e.name,picUrl:e.picUrl,userFeatures:e.featurePermissions||[],faceLoginMessage:null,passwordMessage:"",confirmPasswordMessage:"",profileLoading:!1,onSetAccount:c,onNotifyMainNavOfLogOff:s}},s=()=>{Object(n.a)(),l.setState({userLoggedIn:!1});const{navigate:e}=a(163);e("#/logout")},c=e=>{console.log("loginInfo"),console.log(e),Object(n.h)(e),l.setState({picUrl:e.picUrl,name:e.name,email:e.email,userLoggedIn:!0})};t.a=Object(o.a)(i,e=>(l=e,Object(r.g)(s),i()))}},[[376,1,2]]]);
//# sourceMappingURL=app.2aed4258.js.map