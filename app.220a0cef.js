(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"b",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return h})),a.d(t,"d",(function(){return v})),a.d(t,"h",(function(){return b})),a.d(t,"e",(function(){return y})),a.d(t,"i",(function(){return C}));var n=a(11),r=a.n(n),o=a(20),i=a(168),c=a(89),l=a(365),s=a(367),u=null,d=null,g=function(e,t){var a={fieldList:e,items:{}},n={};return Array.isArray(e)&&Array.isArray(t)&&t.forEach((function(t){e.forEach((function(e){var r=e.fieldName;void 0===n[r]&&(n[r]=[]),void 0===a[r]&&(a[r]=[]);var o=v(t,r);-1===n[r].indexOf(o)&&(n[r].push(o),a[r].push({option:o,selected:!1})),a[r].sort((function(e,t){return e.option<t.option?-1:1}))}))})),a},m=function(e,t){var a=[];try{Array.isArray(e)&&(a.push(t),e.forEach((function(e){var n=[];t.forEach((function(t){var a=v(e,t);n.push(a)})),a.push(n)})))}catch(e){}return a},f=function(e){"function"==typeof e&&(d=e)},p=function(e){return u=e},h=function(e,t,a){void 0===a&&(a=null);var n=[],r=null!==a?Object(s.a)(a)(e):e;return t.forEach((function(e,t){if(0===t){n.push((function(t){return e.connect(r,t)}))}else{n.push((function(a){return e.connect(n[t-1],a)}))}})),n[n.length-1]},v=function(e,t){var a=e||"";if("function"==typeof t)a=t(e);else if(""!==t){(t&&t.split(".")||[]).forEach((function(e){a=a&&a[e]}))}return a};var b=function(e){u.setState({errorMessage:e})},E=function(e){function t(a){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,Error.captureStackTrace&&Error.captureStackTrace(Object(i.a)(n),t),n.messageResponse=a,n}return Object(c.a)(t,e),t}(Object(l.a)(Error)),y=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:return 401===t.status&&(u.setState({errorMessage:"Unauthorized"}),d&&d()),e.next=5,t.json();case 5:throw a=e.sent,new E(a,t.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){return parseFloat(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}},167:function(e,t,a){"use strict";a.r(t),a.d(t,"getHistory",(function(){return w})),a.d(t,"navigate",(function(){return S})),a.d(t,"getLoginRoute",(function(){return O}));var n=a(0),r=a.n(n),o=a(41),i=a(339),c=a(6175),l=a(6176),s=a(6177),u=a(239),d=a(262),g=a(6178),m=a(90),f=a(12),p=a(52),h=r.a.createElement(o.a,{push:!0,to:"/"}),v=Object(d.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170,minWidth:240,textAlign:"center"},logo:{width:250,margin:"auto"},actionButton:{width:"100%",margin:"10px"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"},cardActionsContainer:{display:"flex",flexDirection:"column"}}),b=Object(f.a)((function(e){Object(i.a)(e);var t=v(),a=Object(p.b)(),n=a.loginWithRedirect;return a.isAuthenticated?h:r.a.createElement("form",{id:"logon-submit",action:"/login/google/source",className:t.mainContainer},r.a.createElement(c.a,{style:{display:"flex"}},r.a.createElement("div",{className:t.outerCard},r.a.createElement(l.a,{className:t.cardContainer},r.a.createElement("img",{src:"retail-shop-flat-icon_small.png",className:t.logo})),r.a.createElement(s.a,null,r.a.createElement(u.a,{variant:"contained",color:"secondary",className:t.actionButton,onClick:function(){n({returnTo:window.location.origin+"/#/"})}},r.a.createElement(g.a,{style:{marginRight:10}})," Login")))))}),[m.a]),E={loaded:!1,history:null},y=r.a.createElement(o.b,{exact:!0,path:"/login",component:b}),C=function(e){var t=e.history;return L(t),y},L=function(e){E.history=e,E.loaded=!0},w=function(){return E},S=function(e){window.location.href=e},O=function(){return Object(o.f)(C)}},21:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return f})),a.d(t,"e",(function(){return p})),a.d(t,"f",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return E})),a.d(t,"h",(function(){return y})),a.d(t,"a",(function(){return C}));var n=a(11),r=a.n(n),o=a(20),i=a(12),c=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b(),n=a.catalogApi,o=a.token,c=n+"/catalogapi/api/v1/users/"+t,l={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}},e.abrupt("return",fetch(c,l).then(Object(i.e)()).then((function(e){return{userProfile:e,userProfileLoading:!1,userProfileLoadHasError:!1}})).catch((function(e){return{userProfile:null,userProfileLoading:!1,userProfileLoadError:e.message||e,userProfileLoadHasError:!0}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l={token:localStorage.getItem("token"),name:localStorage.getItem("name")||"",picUrl:localStorage.getItem("picUrl")||"",email:localStorage.getItem("email")||"",expiresOn:localStorage.getItem("expiresOn")||"",featurePermissions:[1],userDomain:localStorage.getItem("userDomain")||"",catalogApi:"https://api.netware.io"},s=function(){return!!l.token},u=function(e){var t=a(167).navigate;h();var n=1e3*e-new Date-6e4;n>30?l.logOutTimer=setTimeout((function(){return t("#/logout")}),n):e>0&&t("#/logout")},d=function(e){var t=e&&e.split(".");if(t&&t.length>0){var a=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(a))}return{}};try{var g=localStorage.getItem("featurePermissions");if(l.featurePermissions=g?JSON.parse(g):[],l.token){var m=d(l.token);localStorage.setItem("expiresOn",m.exp),l.expiresOn=m.exp,u(m.exp),console.log("token from local storage")}}catch(e){l.featurePermissions=[]}var f=function(e){localStorage.setItem("token",e),l.token=e;var t=d(e);u(t.exp)},p=function(){u(l.expiresOn)},h=function(){l.logOutTimer>-1&&(clearTimeout(l.logOutTimer),l.logOutTimer=-1)},v=function(){return l.token&&!0},b=function(){return l},E=function(e){return l.featurePermissions.indexOf(e)>-1||!0},y=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.picture,o=t.email,i=t.sub,l.featurePermissions=[1],e.next=4,L(i);case 4:return c=e.sent,localStorage.setItem("name",a),localStorage.setItem("email",o),localStorage.setItem("picUrl",n),localStorage.setItem("userDomain",c),localStorage.setItem("featurePermissions",JSON.stringify(l.featurePermissions)),l.name=a,l.email=o,l.picUrl=n,l.userDomain=c,l.featurePermissions=[1],e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){l.featurePermissions=[],localStorage.removeItem("featurePermissions"),localStorage.removeItem("userDomain"),localStorage.removeItem("expiresOn")},L=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return a=e.sent,n=a.userProfile,console.log("userProfile"),console.log(n),e.abrupt("return",n&&n.app_metadata&&n.app_metadata.retailDomain);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},316:function(e,t){},384:function(e,t,a){e.exports=a(6139)},385:function(e,t,a){},51:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(91),r=a(168),o=a(89),i=a(0),c=a.n(i),l=function(e,t){var a=c.a.createContext(e()),i=function(e){function n(a){var n;n=e.call(this,a)||this;var o=a&&a.match&&a.match.params&&a.match.params.testMode&&a.match.params.testMode.indexOf("testMode")>-1&&a.match.params.testMode;return n.state=t(Object(r.a)(n),o||""),n}return Object(o.a)(n,e),n.prototype.render=function(){return c.a.createElement(a.Provider,{value:this.state},this.props.children)},n}(c.a.Component);return{ModelContext:a,ModelProvider:i,connect:function(e,t){return c.a.createElement(a.Consumer,null,(function(a){return c.a.createElement(e,Object(n.a)({},a,t))}))}}}},6068:function(e,t){},6069:function(e,t){},6139:function(e,t,a){"use strict";a.r(t);a(385);var n=a(0),r=a.n(n),o=a(30),i=a(11),c=a.n(i),l=a(20),s=a(89),u=a(41),d=a(134),g=a(90),m=a(51),f=a(21),p=a(12),h=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,o,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.b)(),r=n.catalogApi,o=n.token,i=r+"/catalogApi/api/v1/catalog/"+t+"/"+a,l={method:"PATCH",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+o}},e.abrupt("return",fetch(i,l).then(Object(p.e)()).then((function(e){return{success:!0,saveCatalogStatusResult:e,catalogStatusLoading:!1,catalogListLoadError:!1}})).catch((function(e){return{success:!1,catalogStatusLoading:!1,catalogListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t._id);case 2:return a=e.sent,t.images.forEach((function(e){return E(e.id)})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=Object(f.b)(),a=t.catalogApi,n=t.token;return fetch(a+"/catalogapi/api/v1/catalog/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}}).then(Object(p.e)()).then((function(e){return{deleteCatalogResult:e,catalogListLoading:!1}})).catch((function(e){return{deleteCatalogResult:!1,catalogListLoading:!1,deleteCatalogResultError:e.message||e}}))},E=function(e){var t=Object(f.b)(),a=t.catalogApi,n=t.token;return fetch(a+"/catalogapi/api/v1/catalog/file/"+e,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}}).then(Object(p.e)()).then((function(e){return console.log("DELETE file result"),console.log(e),{deleteImageResult:e}})).catch((function(e){return{deleteImageResult:!1,deleteImageResultError:e.message||e}}))},y=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,o,i,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("myFile",t),r=Object(f.b)(),o=r.catalogApi,i=r.token,l=o+"/catalogApi/api/v1/catalog/file/"+a,s={method:"POST",headers:{Authorization:"Bearer "+i},body:n},e.abrupt("return",fetch(l,s).then(Object(p.e)()).then((function(e){return{uploadImageResult:e,imageUploading:!1}})).catch((function(e){return{uploadImageResult:!1,imageUploading:!1,uploadImageResultError:e.message||e}})));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.b)(),n=a.catalogApi,r=a.token,o=n+"/catalogApi/api/v1/catalog",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},body:JSON.stringify(t)},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{saveCatalogResult:e,activeCatalogItem:t,catalogListLoading:!1,catalogListLoadError:!1}})).catch((function(e){return{catalogListLoading:!1,catalogListLoadError:e.messageResponse||e.status&&e.status.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(f.b)(),a=t.catalogApi,n=t.token,r=t.userDomain){e.next=5;break}return e.abrupt("return",{catalogList:[],catalogListLoading:!1,catalogListLoadHasError:!0,catalogListLoadError:""});case 5:return o=a+"/catalogApi/api/v1/catalog/domain/"+r,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{catalogList:e,catalogListLoading:!1,catalogListLoadHasError:!1,catalogListLoadError:!1}})).catch((function(){return{catalogList:[],catalogListLoading:!1,catalogListLoadHasError:!0,catalogListLoadError:""}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t){var a=[].concat(e);return a.sort((function(e,a){var n=e.categories&&e.categories.length>0,r=a.categories&&a.categories.length>0,o=n?e.categories.filter((function(e){return e._id===t})):[],i=r?a.categories.filter((function(e){return e._id===t})):[];return o.length>0&&i.length>0?o[0].sort-i[0].sort:o.length>0?-1:1})),a},S=function(e,t,a){var n=Object.assign({},e),r=Object.assign({},a),o=n.categories.filter((function(e){return e._id===t._id})),i=r.categories.filter((function(e){return e._id===t._id}));if(o.length>0&&i.length>0){var c=i[0].sort;i[0].sort=o[0].sort,o[0].sort=c}return{target:n,swap:r}},O=null,x=function(){return{activeCatalogItem:null,catalogList:[],catalogListFiltered:[],catalogListOutCategory:[],catalogListNoCategory:[],catalogTotals:[],catalogListLoading:!1,catalogListLoadError:!1,savingCatalogSort:!1,catalogListInit:!1,catalogStatusLoading:!1,categorySelected:null,catalogSearchText:"",imageUploading:!1,onCatalogListInit:W,onSetActiveCatalogItem:z,onSaveCatalogItem:M,onUploadImage:P,onCreateNewCatalog:H,onDeleteCatalog:F,onSetCatalogStatus:B,onAddCategoryToCatalog:T,onRemoveCategoryFromCatalog:D,onCategorySelectChange:R,onCatalogOrderChange:I,onCatalogSearch:A,onClearCatalogError:j,onSetCatalogTotals:G,getCatalogCategorySort:k}},j=function(){O.setState({catalogListLoadError:!1})},k=function(e){return function(e,t){var a=0;return t.forEach((function(t){t.categories.forEach((function(t){t._id===e&&t.sort>a&&(a=t.sort)}))})),a+1}(e,O.state.catalogList)},A=function(e){var t=e.toLowerCase(),a=O.state.catalogList.filter((function(e){return e.shortDesc.toLowerCase().indexOf(t)>-1||e.modelNumber.toLowerCase().indexOf(t)>-1})),n=w(a,O.state.categorySelected&&O.state.categorySelected._id);O.setState({catalogSearchText:e,catalogListFiltered:n})},I=function(){var e=Object(l.a)(c.a.mark((function e(t,a,n){var r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.setState({savingCatalogSort:!0}),r=S(t,a,n),o=r.target,i=r.swap,e.next=5,_(o,!1);case 5:return e.next=7,_(i,!1);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:O.setState({savingCatalogSort:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),R=function(e){var t=N(e,O.state.catalogList);O.setState(t)},N=function(e,t){var a=w(t,e._id),n=function(e,t){var a=[].concat(e),n=[],r=[];return a.forEach((function(a){(e?a.categories.filter((function(e){return e._id===t})):[]).length>0?n.push(a):r.push(a)})),{filterCatalogIn:n,filterCatalogOut:r}}(a,e._id);return{catalogListFiltered:n.filterCatalogIn,catalogListOutCategory:n.filterCatalogOut,categorySelected:e,catalogListNoCategory:function(e){var t=[].concat(e),a=[];return t.forEach((function(e){0===e.categories.length&&a.push(e)})),a}(a)}},T=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.catalog,n=t.category,r=1,O.state.catalogList.forEach((function(e){var t=e.categories.filter((function(e){return e._id===n._id}));t.length>0&&t[0].sort>r&&(r=t[0].sort)})),O.setState({catalogStatusLoading:a._id,catalogListLoading:!0}),o=Object.assign({},a,{categories:[Object.assign({},n,{sort:r+1})].concat(a.categories)}),e.next=7,_(o,!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.catalog,n=t.categoryId,O.setState({catalogStatusLoading:a._id,catalogListLoading:!0}),r=a.categories.filter((function(e){return e._id!==n})),o=Object.assign({},a,{categories:r}),e.next=6,_(o,!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,o,i,l,s,u,d,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.setState({catalogStatusLoading:a,activeCatalogItem:null}),e.next=3,h(t,a);case 3:n=e.sent,r=n.saveCatalogStatusResult,o=n.catalogListLoadError,n.success&&r.modifiedCount>0?(i=O.state.catalogList.map((function(e){return e._id===a?Object.assign({},e,{status:t}):e})),l=N(O.state.categorySelected,i),s=l.catalogListFiltered,u=l.catalogListOutCategory,d=l.categorySelected,g=l.catalogListNoCategory,O.setState({catalogList:i,catalogListFiltered:s,catalogListOutCategory:u,categorySelected:d,catalogStatusLoading:!1,catalogListLoadError:o,catalogListNoCategory:g})):O.setState({catalogStatusLoading:!1,catalogListLoadError:o});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.setState({catalogListLoading:!0}),e.next=3,v(t);case 3:(a=e.sent).catalogList=O.state.catalogList.filter((function(e){return e._id!==t._id})),a.catalogListFiltered=w(a.catalogList,O.state.categorySelected&&O.state.categorySelected._id),a.activeCatalogItem=null,O.setState(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.setState({imageUploading:!0}),!a){e.next=4;break}return e.next=4,E(a);case 4:return e.next=6,y(t,540);case 6:return n=e.sent,O.setState({imageUploading:!1}),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.setState({catalogListInit:!0}),e.next=3,a=void 0,n=void 0,r=void 0,o=void 0,a=Object(f.b)(),n=a.catalogApi,r=a.token,o=a.userDomain,fetch(n+"/catalogapi/api/v1/catalog/new/"+o,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(p.e)()).then((function(e){return{activeCatalogItem:e,catalogListLoading:!1,catalogListLoadError:!1}})).catch((function(e){return{activeCatalogItem:null,catalogListLoading:!1,catalogListLoadError:e.message||e}}));case 3:t=e.sent,O.setState(t);case 5:case"end":return e.stop()}var a,n,r,o}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(c.a.mark((function e(t,a,n,r,o){var i,l,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a&&a.id&&a.id.length>0)){e.next=10;break}return O.setState({catalogListLoading:!0}),i=Object.assign({},a,{willFitWidth:n,colorRgb:r,colorRgbOther:o}),l=t.images&&t.images.find((function(e){return e.id===i.id})),s=t.images&&t.images.length>1&&l?t.images.map((function(e){return e.id===i.id?i:e})):[i],u=Object.assign({},t,{images:s}),e.next=8,_(u);case 8:e.next=11;break;case 10:Object(p.h)("Select a picture before saving");case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,o,i,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),e.next=3,C(t);case 3:!1===(n=e.sent).catalogListLoadError?(n.saveCatalogResult&&n.saveCatalogResult.modifiedCount>0?n.catalogList=O.state.catalogList.map((function(e){return e._id===t._id?t:e})):n.saveCatalogResult&&n.saveCatalogResult.upsertedCount>0&&(n.catalogList=[].concat(O.state.catalogList,[t])),r=N(O.state.categorySelected,n.catalogList),o=r.catalogListFiltered,i=r.catalogListOutCategory,l=r.categorySelected,s=r.catalogListNoCategory,n.catalogListFiltered=o,n.categorySelected=l,n.catalogListOutCategory=i,n.catalogListNoCategory=s,a||(n.activeCatalogItem=null),n.catalogStatusLoading=!1,O.setState(n)):O.setState(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(e){O.setState({activeCatalogItem:e})},W=function(){O.setState({catalogListInit:!0,catalogListLoading:!0}),L().then((function(e){e.catalogListFiltered=e.catalogList,e.catalogListLoadHasError?(e.catalogListInit=!1,setTimeout((function(){O.setState(e)}),100)):O.setState(e)})).catch((function(){}))},G=function(e,t){console.log("onSetCatalogTotals");var a,n,r,o,i=(n=e,r=[].concat(a=t),o=[],n.forEach((function(e){var t=0,n=0;r.forEach((function(r,i){if((a?r.categories.filter((function(t){return t._id===e._id})):[]).length>0&&("active"===r.status?t++:n++),i===a.length-1){var c={activeTotal:t,disabledTotal:n,_id:e._id};o.push(c)}}))})),o);O.setState({catalogTotals:i}),console.log(i)},Y=Object(m.a)(x,(function(e){return O=e,x()})),U=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(f.b)(),a=t.catalogApi,n=t.token,r=t.userDomain){e.next=5;break}return e.abrupt("return",{categoryList:[],categoryListLoading:!1,categoryListLoadHasError:!0,categoryListInit:!1,categoryListLoadError:""});case 5:return o=a+"/catalogApi/api/v1/category/domain/"+r,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{categoryList:e,categoryListLoading:!1,categoryListLoadHasError:!1}})).catch((function(e){return{categoryList:[],categoryListLoading:!1,categoryListLoadHasError:!0,categoryListLoadError:e.message||e}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.b)(),n=a.catalogApi,r=a.token,o=n+"/catalogApi/api/v1/Category",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},body:JSON.stringify(t)},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{saveCategoryResult:e,activeCategoryItem:t,categoryListLoading:!1}})).catch((function(e){return{success:!1,categoryListLoading:!1,categoryListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=null,Z=function(){return{activeCategoryItem:null,categoryList:[],categoryListLoading:!1,categoryListInit:!1,onCategoryListInit:K,onSetActiveCategoryItem:X,onSaveCategoryItem:q,onCreateNewCategory:$,onDeleteCategory:Q}},K=function(){J.setState({categoryListInit:!0}),U().then((function(e){J.setState(e)}))},X=function(e){J.setState({activeCategoryItem:e})},q=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isNew&&delete t.isNew,(a=V(t)).categoryList=J.state.categoryList.map((function(e){return e._id===t._id?t:e})),J.setState(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.setState({categoryListInit:!0}),e.next=3,a=void 0,n=void 0,r=void 0,o=void 0,a=Object(f.b)(),n=a.catalogApi,r=a.token,o=a.userDomain,fetch(n+"/catalogapi/api/v1/category/new/"+o,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(p.e)()).then((function(e){return{activeCategoryItem:e,categoryListLoading:!1}})).catch((function(e){return{activeCategoryItem:null,categoryListLoading:!1,categoryListLoadError:e.message||e}}));case 3:(t=e.sent).categoryList=[t.activeCategoryItem].concat(J.state.categoryList),J.setState(t);case 6:case"end":return e.stop()}var a,n,r,o}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.setState({categoryListLoading:!0}),e.next=3,n=t._id,r=void 0,o=void 0,i=void 0,r=Object(f.b)(),o=r.catalogApi,i=r.token,fetch(o+"/catalogapi/api/v1/category/"+n,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+i}}).then(Object(p.e)()).then((function(e){return{deleteCategoryResult:e,categoryListLoading:!1}})).catch((function(e){return{deleteCategoryResult:!1,categoryListLoading:!1,deleteCategoryResultError:e.message||e}}));case 3:(a=e.sent).categoryList=J.state.categoryList.filter((function(e){return e._id!==t._id})),a.activeCategoryItem=null,J.setState(a);case 7:case"end":return e.stop()}var n,r,o,i}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(m.a)(Z,(function(e){return J=e,Z()})),te=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.b)(),a=t.catalogApi,n=t.token,r=t.userDomain,o=a+"/catalogApi/api/v1/company/locations/"+r,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{locationList:e,locationListLoading:!1}})).catch((function(e){return{locationList:[],locationListLoading:!1,locationListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.b)(),n=a.catalogApi,r=a.token,o=n+"/catalogApi/api/v1/company/location",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},body:JSON.stringify(t)},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{saveLocationResult:e,activeLocationItem:t,locationListLoading:!1}})).catch((function(e){return{success:!1,locationListLoading:!1,locationListLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=null,re=function(){return{activeLocationItem:null,locationList:[],locationListLoading:!1,locationListInit:!1,onLocationListInit:oe,onSetActiveLocationItem:ie,onSaveLocationItem:ce,onCreateNewLocation:le,onDeleteLocation:se}},oe=function(){ne.setState({locationListInit:!0}),te().then((function(e){ne.setState(e)}))},ie=function(e){ne.setState({activeLocationItem:e})},ce=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isNew&&delete t.isNew,(a=ae(t)).locationList=ne.state.locationList.map((function(e){return e._id===t._id?t:e})),ne.setState(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne.setState({locationListInit:!0}),e.next=3,a=void 0,n=void 0,r=void 0,o=void 0,a=Object(f.b)(),n=a.catalogApi,r=a.token,o=a.userDomain,fetch(n+"/catalogapi/api/v1/company/location/new/"+o,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(p.e)()).then((function(e){return{activeLocationItem:e,locationListLoading:!1}})).catch((function(e){return{activeLocationItem:null,locationListLoading:!1,locationListLoadError:e.message||e}}));case 3:(t=e.sent).locationList=[t.activeLocationItem].concat(ne.state.locationList),ne.setState(t);case 6:case"end":return e.stop()}var a,n,r,o}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne.setState({locationListLoading:!0}),e.next=3,n=t._id,r=void 0,o=void 0,i=void 0,r=Object(f.b)(),o=r.catalogApi,i=r.token,fetch(o+"/catalogapi/api/v1/company/location/"+n,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+i}}).then(Object(p.e)()).then((function(e){return{deleteLocationResult:e,locationListLoading:!1}})).catch((function(e){return{deleteLocationResult:!1,locationListLoading:!1,deleteLocationResultError:e.message||e}}));case 3:(a=e.sent).locationList=ne.state.locationList.filter((function(e){return e._id!==t._id})),a.activeLocationItem=null,ne.setState(a);case 7:case"end":return e.stop()}var n,r,o,i}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=Object(m.a)(re,(function(e){return ne=e,re()})),de={seriesName:"hits",labelField:"hitStart",dataField:"hitCount",labelConverter:function(e){return e.substr(5,5)}},ge=function(e,t){var a=[];return Array.isArray(e)&&(a=e.map((function(e){var a;return(a={name:t.labelConverter?t.labelConverter(e[t.labelField]):e[t.labelField]})[t.seriesName]=e[t.dataField],a}))),a},me=(a(402),function(){return{hitReport:[],hitChartData:[],hitReportLoaded:!0,hitReportLoading:!1,hitReportLoadError:!1,hitReportInitDone:!1,weekStartDate:"",weekEndDate:"",onHitReportInit:pe,onHitReportGet:ve,setWeekDays:he}}),fe=null,pe=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe.setState({hitReportInitDone:!0}),e.next=3,ve();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(e){var t=new Date(e[0].hitStart),a=new Date(e[e.length-1].hitStart),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),r=new Intl.DateTimeFormat("en",{month:"short"}).format(t),o=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a),i=new Intl.DateTimeFormat("en",{month:"short"}).format(a);fe.setState({weekStartDate:r+" "+n,weekEndDate:i+" "+o})},ve=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe.setState({hitReportLoading:!0}),e.next=3,a=void 0,n=void 0,r=void 0,o=void 0,a=Object(f.b)(),n=a.catalogApi,r=a.token,o=a.userDomain,fetch(n+"/catalogApi/api/v1/hitReport/"+o,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(p.e)()).then((function(e){var t=Array.isArray(e);return{hitReport:t?e:[],hitReportLoaded:t,hitReportLoading:!1,hitReportLoadError:!t&&"Invalid Hit Data Returned"}})).catch((function(e){return{hitReportLoading:!1,hitReportLoadError:e.message||e}}));case 3:t=e.sent,console.log(t.hitReport),he(t.hitReport),t.hitReportLoadError||(t.hitChartData=ge(t.hitReport,de)),fe.setState(t);case 8:case"end":return e.stop()}var a,n,r,o}),e)})));return function(){return e.apply(this,arguments)}}(),be=Object(m.a)(me,(function(e){return fe=e,me()})),Ee=function(e,t){var a=Object(f.b)(),n=a.catalogApi,r=a.token;return fetch(n+"/catalogApi/api/v1/sales/"+e+"/"+t,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(p.e)()).then((function(e){var t=Array.isArray(e);return{salesSearch:t?{rowCountFound:e.length,rows:[],items:e}:{rowCountFound:0,rows:[],items:[]},salesSearchLoading:!1,salesSearchLoadError:!t&&e.err}})).catch((function(e){return{salesSearchLoading:!1,salesSearchLoadError:e.message||e}}))},ye=function(){return{salesSearch:{rowCountFound:0,rows:[],items:[]},salesSearchLoading:!1,salesSearchLoadError:!1,salesSearchLoaded:!0,onGetSalesByName:Le}},Ce=null,Le=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.setState({salesSearchLoading:!0}),e.next=3,Ee(t,a);case 3:n=e.sent,Ce.setState(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=Object(m.a)(ye,(function(e){return Ce=e,ye()})),Se=function(){return{salesHist:{rowCountFound:0,rows:[],items:[]},salesHistLoading:!1,salesHistLoadError:!1,salesHistInitDone:!1,onGetSalesHist:je,onSalesHistInit:xe}},Oe=null,xe=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe.setState({salesHistInitDone:!0}),e.next=3,je();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe.setState({salesHistLoading:!0}),e.next=3,a=void 0,n=void 0,r=void 0,a=Object(f.b)(),n=a.catalogApi,r=a.token,fetch(n+"/catalogApi/api/v1/sales/hist",{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r}}).then(Object(p.e)()).then((function(e){var t=Array.isArray(e);return{salesHist:t?{rowCountFound:e.length,rows:[],items:e}:{rowCountFound:0,rows:[],items:[]},salesHistLoading:!1,salesHistLoadError:!t&&e.err}})).catch((function(e){return{salesHistLoading:!1,salesHistLoadError:e.message||e}}));case 3:t=e.sent,Oe.setState(t);case 5:case"end":return e.stop()}var a,n,r}),e)})));return function(){return e.apply(this,arguments)}}(),ke=Object(m.a)(Se,(function(e){return Oe=e,Se()})),Ae=function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.b)(),a=t.catalogApi,n=t.token,r=t.userDomain,o=a+"/catalogApi/api/v1/site/"+r,i={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+n}},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{site:e&&e.length>0?e[0]:{},siteLoading:!1}})).catch((function(e){return{site:{},siteLoading:!1,siteLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(f.b)(),n=a.catalogApi,r=a.token,o=n+"/catalogApi/api/v1/site",i={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+r},body:JSON.stringify(t)},e.abrupt("return",fetch(o,i).then(Object(p.e)()).then((function(e){return{saveSiteResult:e,activeSaveItem:t,siteLoading:!1,siteHasError:!1}})).catch((function(e){return{success:!1,siteHasError:!0,siteLoading:!1,siteLoadError:e.message||e}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=null,Ne=function(){return{site:{salesBackgroundColor:[0,255,255],salesFontColor:[0,0,0]},siteLoading:!1,siteLoadError:"",siteDataInitialized:!1,siteLoaded:!1,siteHasError:!1,siteMessage:"",siteLoadMessageDetail:"",onLoadSite:Fe,onSaveSiteColor:Be,setSalesBackgroundColor:Te,setSalesFontColor:De}},Te=function(e){return Re.setState({site:Object.assign({},Re.state.site,{salesBackgroundColor:e})})},De=function(e){return Re.setState({site:Object.assign({},Re.state.site,{salesFontColor:e})})},Be=function(e){Re.setState({siteLoading:!0});var t=Re.state.site;Ie(Object.assign({},t,e))},Fe=function(){Re.setState({siteLoading:!0,siteDataInitialized:!0}),Ae().then((function(e){!0===e.siteHasError?Re.setState({site:Object.assign({},e.site,{salesBackgroundColor:Re.state.salesBackgroundColor,salesFontColor:Re.state.salesFontColor})}):Re.setState(e)}))},Pe=Object(m.a)(Ne,(function(e){return Re=e,Fe(),Ne()})),He=function(e){var t=e.children;return r.a.createElement(g.a.ModelProvider,null,r.a.createElement(Y.ModelProvider,null,r.a.createElement(ee.ModelProvider,null,r.a.createElement(ue.ModelProvider,null,r.a.createElement(be.ModelProvider,null,r.a.createElement(we.ModelProvider,null,r.a.createElement(ke.ModelProvider,null,r.a.createElement(Pe.ModelProvider,null,t))))))))},Me=a(167),_e=function(){var e=Object(n.useState)(window.innerWidth<=760),t=e[0],a=e[1],r=function(){a(window.innerWidth<=760)};return Object(n.useEffect)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[]),t};var ze,We=a(341),Ge=a(262),Ye=a(6178),Ue=a(6183),Ve=a(6184),Je=a(6185),Ze=a(6186),Ke=a(6187),Xe=a(6188),qe=a(6189),$e=[{label:"Home",icon:Ue.a,selected:!(window.location.href.includes("location")||window.location.href.includes("category")||window.location.href.includes("keyLogs")||window.location.href.includes("catalogSearch")||window.location.href.includes("hits")||window.location.href.includes("salesByName")),link:"#/",route:"/",isMobile:!0},{label:"Category",icon:Ve.a,selected:window.location.href.includes("category"),link:"#/category",route:"/category",isMobile:!0},{label:"Locations",icon:Je.a,selected:window.location.href.includes("location"),link:"#/location",route:"/location",isMobile:!0},{label:"Filter",icon:Ze.a,selected:window.location.href.includes("catalogSearch"),link:"#/catalogSearch",route:"/catalogSearch",isMobile:!0},{label:"Hits",icon:Ke.a,selected:window.location.href.includes("hits"),link:"#/hits",route:"/hits",isMobile:!0},{label:"Sales",icon:Xe.a,selected:window.location.href.includes("salesByName"),link:"#/salesByName",route:"/salesByName",isMobile:!0},{label:"Sales Hist",icon:qe.a,selected:window.location.href.includes("salesHist"),link:"#/salesHist",route:"/salesHist",isMobile:!0}],Qe=a(52),et=ze?$e.filter((function(e){return e.isMobile})):$e,tt=[{label:"Logout",icon:Ye.a,link:"#/logout"}],at=Object(p.a)((function(e){var t=e.children,a=(e.firstName,e.lastName,e.userLoggedIn,e.picUrl,e.userFeatures),n=_e(),o=nt(n),i=Object(Qe.b)(),c=i.isLoading,l=i.user,s=et.filter((function(e){return void 0===e.featureId||a.indexOf(e.featureId)>-1})),u=Object(f.b)();return c||(console.log("---- Full Menu ----"),console.log(l)),l&&(u.token&&""===u.userDomain&&Object(f.h)(l),u.picUrl=l.picture,u.name=l.name),u.name&&r.a.createElement("div",null,r.a.createElement(We.SideStrip,{mainLinks:s,bottomLinks:tt,onMenuClose:function(){},expandMenu:!1,userLabel:u.name,imageUrl:decodeURIComponent(u.picUrl)}),r.a.createElement("div",{className:o.mainContainer},t))||r.a.createElement("div",null,t)}),[g.a]),nt=function(e){return Object(Ge.a)({mainContainer:{marginLeft:e?7:70,marginRight:7}})()},rt=a(59),ot=a(6175),it=a(6176),ct=a(6177),lt=a(239),st=a(6190),ut=r.a.createElement(rt.a,null,"You have been logged out."),dt=r.a.createElement("span",null,"... logging out please wait"),gt=Object(p.a)((function(e){var t=e.onNotifyMainNavOfLogOff,a=e.userLoggedIn,o=mt(),i=Object(Qe.b)(),c=i.loginWithRedirect,l=i.logout,s=i.isAuthenticated,u=i.isLoading;return Object(n.useEffect)((function(){Object(f.a)(),s&&l({returnTo:window.location.origin+"/#/login"}),localStorage.removeItem("token"),localStorage.removeItem("featurePermissions"),a&&t()})),r.a.createElement("form",{id:"logout-submit",className:o.mainContainer},!u&&!s&&r.a.createElement(ot.a,{style:{display:"flex"}},r.a.createElement("div",{className:o.outerCard},r.a.createElement(it.a,{className:o.cardContainer},r.a.createElement("img",{src:"retail-shop-flat-icon_small.jpg",className:o.logo}),r.a.createElement("div",{className:o.messageContainer},r.a.createElement(st.a,{className:o.iconSpacing}),ut)),r.a.createElement(ct.a,null,r.a.createElement(lt.a,{variant:"contained",color:"secondary",className:o.actionButton,onClick:function(){c()}},r.a.createElement(Ye.a,{style:{marginRight:10}})," Login")))),(u||s)&&dt)}),[g.a]),mt=Object(Ge.a)({mainContainer:{width:"80%",maxWidth:460,margin:"100px auto"},leftContainer:{height:400,width:300,paddingLeft:4},cardContainer:{minHeight:170},logo:{width:250,margin:"auto"},actionButton:{width:"80%",margin:"auto"},messageContainer:{display:"flex",width:235,margin:"40px auto"},iconSpacing:{marginRight:12},outerCard:{margin:"45px auto"}}),ft=a(6193),pt=a(6194),ht=a(178),vt=a(6192),bt=a(372),Et=a(6191),yt=r.a.createElement(Et.a,null),Ct=function(e){var t=e.onSearchChange,a=Lt();return r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},yt),r.a.createElement(bt.a,{placeholder:"Searchâ€¦",onChange:function(e){return t(e.target.value)},classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}}))},Lt=Object(Ge.a)((function(e){var t;return{inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},t[e.breakpoints.up("md")]={},t),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}})),wt=a(5),St=a.n(wt),Ot=Object(Ge.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginLeft:-20,boxShadow:"0 0"},rootMobile:{backgroundColor:e.palette.background.paper,color:"black",fontSize:"14px",marginBottom:10,marginTop:0,marginLeft:20,boxShadow:"0 0",width:"unset"},toolBar:{minHeight:38,height:38},avatar:{backgroundColor:"transparent",color:e.palette.primary.main,marginRight:15,marginLeft:-15},searchTextContainer:{display:"flex",position:"absolute",right:5,top:7},childContainerNoSearch:{display:"flex"},childContainer:{display:"flex",right:270,top:7,marginLeft:8},searchTextBox:{width:120},searchTextLabel:{marginRight:"5px",marginTop:"6px"},menuButton:{marginLeft:-18,marginRight:10},labelTitle:{color:e.palette.primary.main,display:"flex"},labelTitleWithTextBox:{color:e.palette.primary.main,marginRight:28,display:"flex",marginTop:12}}})),xt=r.a.createElement(vt.a,null),jt=r.a.createElement(vt.a,null),kt=function(e){var t=e.title,a=e.LeftIcon,n=e.onSearchChange,o=e.hideSearch,i=e.onAdd,c=e.addLabel,l=e.children,s=e.childHasTextBox,u=(e.onAvatarClick,_e()),d=Ot();return r.a.createElement(ft.a,{className:u?d.rootMobile:d.root,position:"static"},r.a.createElement(pt.a,{variant:"dense"},r.a.createElement(a,{style:{marginRight:10}}),r.a.createElement("span",{className:s?d.labelTitleWithTextBox:d.labelTitle},r.a.createElement(rt.a,{variant:"h6",color:"inherit"},t)),i&&!u&&r.a.createElement(lt.a,{variant:"outlined",color:"secondary",onClick:i,startIcon:xt,style:{marginLeft:20}},c||"Add"),i&&u&&r.a.createElement(ht.a,{color:"secondary",onClick:i,style:{marginLeft:10}},jt),r.a.createElement("span",{className:o||void 0===n||s?d.childContainerNoSearch:d.childContainer},l),!0!==o&&void 0!==n&&r.a.createElement("span",{className:d.searchTextContainer},r.a.createElement("span",{className:d.searchTextBox},r.a.createElement(Ct,{onSearchChange:function(e){return n(e)}})))))};St.a.elementType.isRequired,St.a.string;var At=a(9),It=a(6224),Rt=a(6200),Nt=a(6202),Tt=a(6203),Dt=a(248),Bt=a(336),Ft=a(307),Pt=a(6208),Ht=a(333),Mt=a(6201),_t=a(179),zt=a(91),Wt=a(181),Gt=a(6195),Yt=a(6199),Ut=a(6197),Vt=a(6198),Jt=a(6196),Zt=["onClick","children","title","message"],Kt=function(e){var t=e.onClick,a=e.children,o=e.title,i=e.message,c=Object(Wt.a)(e,Zt),l=r.a.useState(!1),s=l[0],u=l[1],d=function(){u(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(lt.a,Object(zt.a)({},c,{onClick:function(){u(!0)}}),a),r.a.createElement(Gt.a,{open:s,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Jt.a,{id:"alert-dialog-title"},o),r.a.createElement(Ut.a,null,r.a.createElement(Vt.a,{id:"alert-dialog-description"},i)),r.a.createElement(Yt.a,null,r.a.createElement(lt.a,{onClick:d,color:"primary"},"Cancel"),r.a.createElement(lt.a,{onClick:function(){u(!1),t()},variant:"contained",color:"primary",autoFocus:!0},"OK"))))},Xt=Object(f.b)().catalogApi,qt=r.a.createElement(Rt.a,null),$t=r.a.createElement(Mt.a,null),Qt=r.a.createElement(Nt.a,null),ea=r.a.createElement(Tt.a,{position:"start"},"$"),ta=r.a.createElement(Tt.a,{position:"start"},"$"),aa=r.a.createElement("hr",null),na=r.a.createElement("span",null,"Saving..."),ra=r.a.createElement("span",null,"Uploading..."),oa=r.a.createElement("img",{width:532,alt:"Template",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII="}),ia=Object(p.a)((function(e){var t=e.activeCatalogItem,a=e.onSaveCatalogItem,o=e.catalogListLoading,i=e.onUploadImage,s=e.onDeleteCatalog,u=e.imageUploading,d=e.categoryList,g=e.getCatalogCategorySort,m=e.onSetActiveCatalogItem,f=e.site,h=t.images&&t.images.length>0,v=!!h&&t.images[0].id,b=h?Xt+"/catalogApi/api/v1/catalog/file/"+v+"?1":null,E=h?t.images[0].colorRgb:[0,0,0],y=h?{id:t.images[0].id,fileName:t.images[0].fileName}:null,C=Object(n.useState)(Object.assign({},t)),L=C[0],w=C[1],S=Object(n.useState)(b),O=S[0],x=S[1],j=Object(n.useState)(y),k=j[0],A=j[1],I=Object(n.useState)(!h||t.images[0].willFitWidth),R=I[0],N=I[1],T=Object(n.useState)(E),D=T[0],B=T[1],F=Object(n.useState)(E),P=F[0],H=F[1],M=Object(n.useState)(L.unitPrice),_=M[0],z=M[1],W=function(e,t){var a;return w(Object.assign({},L,((a={})[e]=t,a)))},G=function(e,t){var a,n,r=Object.assign({},L);void 0===L.sale?r.sale=Object.assign({},{enabled:!0,price:"0.00",color:[0,0,0]},((a={})[e]=t,a)):r.sale=Object.assign({},r.sale,((n={})[e]=t,n)),w(r)},Y=ca();Object(n.useEffect)((function(){if(t._id!==L._id){var e=t.images&&t.images.length>0;w(Object.assign({},t)),z(t.unitPrice),x(b),B(E),A(y),N(e&&t.images[0].willFitWidth)}}));var U=(null==f?void 0:f.salesBackgroundColor)&&f.salesBackgroundColor.length>2?"rgb("+f.salesBackgroundColor[0]+","+f.salesBackgroundColor[1]+", "+f.salesBackgroundColor[2]+")":"rgb(255,255,255)";return r.a.createElement("div",{className:Y.rootContainer},r.a.createElement(Dt.a,{className:Y.paperEntryContainer},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(lt.a,{variant:"contained",color:"primary",startIcon:qt,style:{marginRight:20},onClick:function(){return a(L,k,R,D,P)}},"Save"),r.a.createElement(Kt,{startIcon:$t,onClick:function(){return s(L)},title:"Are You Sure?",message:'Are You Sure you want to delete "'+L.shortDesc+'"?'},"Delete"),r.a.createElement(lt.a,{startIcon:Qt,style:{marginRight:20},onClick:function(){return m(null)}},"Close")),r.a.createElement("div",{className:Y.editContainer},r.a.createElement(Bt.a,{style:{width:"100%"},label:"Short Desc",value:L.shortDesc,onChange:function(e){return W("shortDesc",e.target.value)}}),r.a.createElement("div",null,r.a.createElement(Ft.a,{control:r.a.createElement(Pt.a,{checked:"active"===L.status,onChange:function(e){var t=e.target.checked?"active":"disabled";W("status",t)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:"Show"}))),r.a.createElement(Bt.a,{style:{width:"30%"},label:"Model #",value:L.modelNumber||"",onChange:function(e){return W("modelNumber",e.target.value)}}),r.a.createElement(Bt.a,{style:{width:"60%"},label:"Mfr Name",value:L.mfrName||"",onChange:function(e){return W("mfrName",e.target.value)}}),r.a.createElement(Bt.a,{style:{width:"30%"},label:"Unit Price:$ "+Object(p.i)(L.unitPrice),value:_||"",InputProps:{startAdornment:ea},onChange:function(e){z(e.target.value),W("unitPrice",parseFloat(e.target.value))}}),r.a.createElement(Bt.a,{style:{width:"62%"},label:"Extra Desc",value:L.extraDesc,onChange:function(e){return W("extraDesc",e.target.value)}}),r.a.createElement(Bt.a,{style:{width:"100%"},multiline:!0,maxRows:4,label:"Description",value:L.description,onChange:function(e){return W("description",e.target.value)}}),r.a.createElement(Ft.a,{control:r.a.createElement(Ht.a,{checked:L.sale&&L.sale.enabled,onChange:function(){var e=L.sale&&L.sale.enabled||!1;G("enabled",!e)},inputProps:{"aria-label":"primary checkbox"}}),label:"Sale Enabled"}),L.sale&&L.sale.enabled&&r.a.createElement("div",{style:{display:"flex",border:U+" solid 10px",padding:"7px"}},r.a.createElement(Bt.a,{style:{width:"30%",marginBottom:10},label:"Sale Price:$ "+Object(p.i)(L.sale.price),value:L.sale.price||"",InputProps:{startAdornment:ta},onChange:function(e){G("price",parseFloat(e.target.value))}})),aa,r.a.createElement("div",null,d&&d.map((function(e){var t=L.categories.find((function(t){return t._id===e._id}));return r.a.createElement(Ft.a,{key:e._id,control:r.a.createElement(Ht.a,{checked:void 0!==t,onChange:function(a){var n,r,o;void 0===t&&a.target.checked?(n={catalog:L,category:e}.category,r=Object.assign({},L),o=g(n._id),r.categories=[].concat(r.categories,[Object.assign({},n,{sort:o})]),console.log(o),w(r)):function(e){var t=e.categoryId,a=Object.assign({},L);a.categories=a.categories.filter((function(e){return e._id!==t})),w(a)}({catalog:L,categoryId:e._id})},inputProps:{"aria-label":"primary checkbox"}}),label:e.category})}))),!o&&!u&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",name:"myFile",id:"myFile",style:{width:200},onChange:function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target.files),(a=new FileReader).onload=function(e){console.log("image read locally"),x(e.target.result)},a.readAsDataURL(t.target.files[0]),e.next=6,i(t.target.files[0],v);case 6:(n=e.sent).uploadImageResult&&A(n.uploadImageResult);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),o&&na,u&&ra),r.a.createElement(Dt.a,null,null!==O?r.a.createElement(_t.PicRatioFill,{width:532,height:415,src:O,onChangeColors:function(e){B(e.colorRgb),H(e.colorRgbOpposite),N(e.willFitWidth)}}):oa))}),[Y,ee,Pe]),ca=Object(Ge.a)({rootContainer:{display:"block"},picBorderHeight:{width:"50%",height:415,zIndex:1},picBorderWidth:{width:"100%",height:"50%",zIndex:1},imageBoxHeight:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee",display:"flex"},imageBoxWidth:{width:532,height:415,overflow:"hidden",backgroundColor:"#afcdee"},fixHeight:{height:"100%",marginLeft:"auto",marginRight:"auto",position:"relative",zIndex:2},fixWidth:{width:"inherit",position:"absolute",transform:"translateY(-50%)",zIndex:2},editContainer:{display:"flex",justifyContent:"space-between"},textContainer:{"& > *":{margin:7}},paperEntryContainer:{"& > *":{margin:7},padding:10,width:"100%",marginBottom:15,backgroundColor:"#f2f0ea"}}),la=a(6207),sa=a(6210),ua=a(337),da=a(335),ga=a(241),ma=a(274),fa=a(6209),pa=(ua.a,da.a,fa.a,da.a,fa.a,Object(Ge.a)({iconRight:{position:"absolute",right:5,top:function(e){return e.closeButtonTopOffset||-7}},textDisplay:{maxWidth:"calc(100% - 50px)",overflow:"hidden",fontSize:14},itemContainer:{minHeight:20,paddingTop:4,paddingBottom:4}}),Nt.a,a(306)),ha=a(266),va=a(6240),ba=a(6204),Ea=a(6213),ya=a(6206),Ca=a(367),La=a(6211),wa=a(6212),Sa=r.a.createElement(sa.a,null,"No Data"),Oa=r.a.createElement(sa.a,null,"No Data"),xa=function(e){function t(t){var a;a=e.call(this)||this;var n=t.maxArrayLength||7;return a.optionActiveRef=r.a.createRef(),a.state={showFullList:t.showFullList||!1,showDropDown:t.showDropDown||!1,searchString:"",filteredPageOptions:t.options.slice(0,7),filteredAllOptions:t.options,autoFocus:t.autoFocus,hasFocusOptionList:!1,hasFocusTextBox:!1,selectedIndex:0,maxArrayLength:n,anchorEl:null},a}Object(s.a)(t,e),t.getValueDisplay=function(e){var t=e.selected&&e.options.filter((function(t){return t[e.keyField]===e.selected[e.keyField]}))||[];return t.length>0?t[0][e.displayField]:""};var a=t.prototype;return a.onShowDropDown=function(e){this.setState({anchorEl:e.currentTarget,showDropDown:!0,filteredPageOptions:this.props.options.slice(0,7),filteredAllOptions:this.props.options})},a.hideDropDown=function(){this.setState({showDropDown:!1})},a.onKeyPress=function(e){13===e.keyCode?!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex?this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]):this.state.showFullList&&this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]):40===e.keyCode?(this.state.showFullList&&this.state.filteredAllOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop))),!this.state.showFullList&&this.state.filteredPageOptions.length>this.state.selectedIndex+1&&(this.setState({selectedIndex:this.state.selectedIndex+1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop)))):38===e.keyCode&&this.state.selectedIndex>0&&(this.setState({selectedIndex:this.state.selectedIndex-1}),this.optionContainerRef&&this.optionActiveRef&&(this.optionContainerRef.scrollTo?this.optionContainerRef.scrollTo(0,this.optionActiveRef.offsetTop-46):void 0!==this.optionContainerRef.scrollTop&&(this.optionContainerRef.scrollTop=this.optionActiveRef.offsetTop-46)))},a.onSearchChange=function(e){var t=this;if(""!==e){var a=e&&e.toLowerCase?this.props.options.filter((function(a){return Object(p.d)(a,t.props.displayField).toLowerCase().indexOf(e.toLowerCase())>-1})):[];this.setState({searchString:e,filteredPageOptions:a.slice(0,7),selectedIndex:0,filteredAllOptions:a})}else this.setState({searchString:e,filteredPageOptions:this.props.options.slice(0,7),selectedIndex:0,filteredAllOptions:this.props.options})},a.onItemSelect=function(e){e&&(this.props.onChange(e),this.setState({showDropDown:!1,searchString:""}))},a.onSetAnchor=function(e){null===this.state.anchorEl&&null!=e&&this.setState({anchorEl:e})},a.render=function(){var e=this,t=this.constructor.getValueDisplay(this.props),a=this.props,n=a.label,o=a.classes,i=this.state,c=i.anchorEl,l=i.showDropDown,s=Boolean(c)&&l;return r.a.createElement("div",{className:o.root},r.a.createElement(pa.a,{style:{width:"100%"}},r.a.createElement(ha.a,{onClickAway:function(){return e.hideDropDown()}},r.a.createElement("div",null,this.state.showDropDown?r.a.createElement(pa.a,{style:{width:"100%"}},n&&n.length>0&&r.a.createElement(va.a,{htmlFor:"age-simple"},n),r.a.createElement(ba.a,{value:this.state.searchString,ref:function(t){e.onSetAnchor(t)},autoFocus:this.state.autoFocus,onChange:function(t){return e.onSearchChange(t.target.value)},onKeyDown:function(t){return e.onKeyPress(t)},endAdornment:r.a.createElement(Tt.a,{position:"end"},r.a.createElement(Et.a,{style:{marginRight:10},color:"primary"}),this.props.onClose&&r.a.createElement(La.a,{style:{marginRight:10,cursor:"pointer"},color:"primary",onClick:function(){return e.props.onClose()}}))})):r.a.createElement(pa.a,{style:{width:"100%"}},n&&n.length>0&&r.a.createElement(va.a,{htmlFor:"age-simple"},n),r.a.createElement(ba.a,{autoFocus:this.state.autoFocus,value:t,onClick:function(t){return e.onShowDropDown(t)},onKeyDown:function(t){return e.onShowDropDown(t)},endAdornment:r.a.createElement(Tt.a,{position:"end"},r.a.createElement(wa.a,{style:{marginRight:10},color:"primary"}))})),r.a.createElement(Ea.a,{open:s,anchorEl:c,style:{position:"fixed",zIndex:9999},transition:!0,disablePortal:!0},(function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(ya.a,Object(zt.a)({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(Dt.a,null,!e.state.showFullList&&r.a.createElement(la.a,null,e.props.topControl,e.state.filteredPageOptions.length>0&&e.state.filteredPageOptions.map((function(t,a){return r.a.createElement(sa.a,{key:a,selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(p.d)(t,e.props.displayField))})),0===e.state.filteredPageOptions.length&&Sa,e.state.filteredPageOptions.length>0&&e.state.maxArrayLength===e.state.filteredPageOptions.length&&r.a.createElement(rt.a,{color:"textSecondary",className:o.noOptionsMessage},"...")),e.state.showFullList&&r.a.createElement("div",{style:{maxHeight:300,maxWidth:300,overflow:"auto"},ref:function(t){e.optionContainerRef=t}},r.a.createElement(la.a,null,e.props.topControl,e.state.filteredAllOptions.length>0&&e.state.filteredAllOptions.map((function(t,a){return a===e.state.selectedIndex?r.a.createElement("span",{key:a,ref:function(t){e.optionActiveRef=t}},r.a.createElement(sa.a,{selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(p.d)(t,e.props.displayField))):r.a.createElement(sa.a,{key:a,selected:a===e.state.selectedIndex,onClick:function(){return e.onItemSelect(t)}},Object(p.d)(t,e.props.displayField))})),0===e.state.filteredAllOptions.length&&Oa))))}))))))},t}(r.a.Component),ja=Object(Ca.a)((function(e){return{root:{flexGrow:1,zIndex:99999999,position:"relative"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,minHeight:56},noOptionsMessage:{padding:e.spacing(1)+"px "+e.spacing(2)+"px"}}}))(xa),ka=a(308),Aa=a(6214),Ia=Object(Ca.a)((function(){return{spinnerWrapper:{position:"relative",margin:"auto"},fabProgress:{color:"primary",position:"absolute",left:0,zIndex:1}}}))((function(e){var t=e.classes,a=e.spinnerSize,n=e.style,o=e.loading,i=e.children;return void 0===i||o?r.a.createElement("div",{className:t.spinnerWrapper,style:Object.assign({},n,{width:a})},r.a.createElement(Aa.a,{color:"secondary",style:{width:a,height:a}}),r.a.createElement(ka.a,{size:a,className:t.fabProgress})):i})),Ra=Object(p.a)((function(e){var t=e.categoryList,a=e.onChange,o=e.categoryListInit,i=e.onCategoryListInit,c=Object(n.useState)(null),l=c[0],s=c[1],u=[{_id:null,category:"All"}].concat(t);return Object(n.useEffect)((function(){o||i()})),r.a.createElement(ja,{label:"Category",showFullList:!0,options:u,keyField:"_id",displayField:"category",onChange:function(e){s(e),a&&a(e)},selected:l})}),[ee]),Na=a(6241),Ta=a(6215),Da=a(6216),Ba=function(e){var t=e.errorMessage,a=e.onClearErrorMessage,n=e.status,o=!!(t&&t.length>0),i="#ffffff",c=Ta.a;return"success"===n&&o?(i="#1ead29",c=Da.a):o&&(i="#ff525b"),r.a.createElement(Na.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:o,autoHideDuration:1e4,onClose:a},r.a.createElement(Dt.a,{style:{padding:10,backgroundColor:i,display:"flex"},elevation:3},r.a.createElement(c,{style:{marginRight:15,color:"white"}}),r.a.createElement(rt.a,{style:{color:"white"}},t),r.a.createElement(Nt.a,{onClick:a,style:{marginLeft:15,color:"white",cursor:"pointer"}})))},Fa=a(6238),Pa=a(6220),Ha=a(6217),Ma=a(6218),_a=a(6219),za=Object(f.b)().catalogApi,Wa=r.a.createElement(Ha.a,null),Ga=r.a.createElement(Ha.a,null),Ya=r.a.createElement(Ma.a,{fontSize:"large"}),Ua=r.a.createElement(_a.a,{fontSize:"large"}),Va=function(e){var t,a,o,i,c,l=e.catalog,s=e.onClick,u=e.inEdit,d=e.onSetStatus,g=e.disableEdit,m=e.isSaving,f=e.category,h=e.savingCatalogSort,v=e.onAddCategory,b=e.onRemoveCategory,E=e.showSortArrows,y=e.onOrderChange,C=e.prevCatalog,L=e.nextCatalog,w=e.salesBackgroundColor,S=e.salesFontColor,O=(a=function(e){var t="",a="";return e<550?(t="93vw",a="72.54vw"):e<700?(t="46vw",a="35.88vw"):e<1200?(t="30vw",a="24.3vw"):(t="15vw",a="11.7vw"),{widthCalc:t,heightPicCalc:a}},o=Object(n.useState)(a(window.innerWidth)),i=o[0],c=o[1],Object(n.useEffect)((function(){function e(){var e=a(window.innerWidth);c(e)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),i),x=O.widthCalc,j=O.heightPicCalc,k=u?"100%":x,A=l.images&&l.images.length>0,I=A?l.images[0].id:"5f41d4dac6f0db5918e4cb20",R=Ja({widthValue:k,heightValue:j}),N=A&&l.images[0].willFitWidth,T=A&&l.images[0].colorRgb,D=(f&&l.categories.filter((function(e){return e._id===f._id}))||[]).length>0,B=f&&f._id;return r.a.createElement(ot.a,{className:R.card},r.a.createElement("div",{className:R.cardContainer},!g&&(m?r.a.createElement(Ft.a,{control:Wa,label:"Saving",style:{minHeight:42,marginLeft:10}}):r.a.createElement(Ft.a,{control:r.a.createElement(Pt.a,{checked:"active"===l.status,onChange:function(e){var t=e.target.checked?"active":"disabled";d(t,l._id)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:"Show",style:{marginLeft:3,marginRight:0}})),!g&&(m?r.a.createElement(Ft.a,{control:Ga,label:"Saving",style:{minHeight:42,marginLeft:10}}):B&&r.a.createElement(Ft.a,{control:r.a.createElement(Ht.a,{checked:D,onChange:function(e){e.target.checked?v({catalog:l,category:f}):b({catalog:l,categoryId:f._id})},inputProps:{"aria-label":"primary checkbox"}}),label:"Categ...",style:{marginLeft:3}})),(void 0===l.sale||!l.sale.enabled)&&r.a.createElement("div",{className:R.catPrice},"$",Object(p.i)(l.unitPrice)),E&&B&&!h&&C&&D&&r.a.createElement(ht.a,{"aria-label":"Up",size:"medium",className:R.buttonLeft,onClick:function(){return y(l,f,C)}},Ya),r.a.createElement(it.a,{onClick:function(){s&&s()},className:N?R.imageBoxWidth:R.imageBoxHeight},l.sale&&l.sale.enabled&&r.a.createElement("div",{className:R.catSale,style:{color:"rgb("+S[0]+","+S[1]+", "+S[2]+")",backgroundColor:"rgb("+w[0]+","+w[1]+", "+w[2]+")"}},"$",null===(t=l.sale)||void 0===t?void 0:t.price),r.a.createElement(_t.PicRatioView,{src:za+"/catalogApi/api/v1/catalog/file/"+I,width:k,height:j,colorRgb:T,colorRgbOpposite:T,willFitWidth:N})),E&&B&&!h&&L&&D&&r.a.createElement(ht.a,{"aria-label":"Up",className:R.buttonRight,onClick:function(){return y(l,f,L)}},Ua),r.a.createElement(Pa.a,{title:l.shortDesc||"",subheader:l.modelNumber&&l.mfrName&&l.mfrName+" : "+l.modelNumber||"_",classes:{title:R.cardTitle,subheader:R.cardSubheader,content:R.cardRoot}})))},Ja=Object(Ge.a)({catSale:{position:"absolute",zIndex:9,padding:15,"border-bottom-right-radius":10,"border-bottom-left-radius":10,"border-top-left-radius":10,color:"white",right:0,transform:"rotate(30deg)"},catPrice:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#000000ba","border-bottom-right-radius":10,color:"white"},card:{width:function(e){return e.widthValue},marginBottom:20,backgroundColor:"#d0c6c626"},cardContainer:{position:"relative"},cardTitle:{fontSize:16,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cardSubheader:{fontSize:14,width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},cardRoot:{width:"100%"},imageBoxHeight:{width:function(e){return e.widthValue},height:function(e){return e.heightValue},overflow:"hidden",backgroundColor:"#afcdee",display:"flex",padding:0},imageBoxWidth:{width:function(e){return e.widthValue},height:function(e){return e.heightValue},overflow:"hidden",backgroundColor:"#afcdee",padding:0},buttonUp:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",top:40,width:50,height:50},buttonDown:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:"calc(50% - 20px)",bottom:75,width:50,height:50},buttonLeft:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",left:5,top:"calc(50% - 20px)",width:50,height:50},buttonRight:{position:"absolute",zIndex:9,padding:15,backgroundColor:"#1095ec8f",top:"calc(50% - 20px)",right:5,width:50,height:50}}),Za=a(264),Ka=r.a.createElement(Za.a,{variant:"middle"}),Xa=r.a.createElement(rt.a,{gutterBottom:!0,variant:"h5"},"Items not in any Category"),qa=Object(Ge.a)({catalogListComponent:{"& :not(:nth-child(6n+1))":{marginLeft:"calc( (97.6% - (16% * 6)) / 5 )"},display:"flex",flexWrap:"wrap",justifyContent:"flex-start"},container:{display:"block",flexWrap:"wrap",justifyContent:"flex-start",width:function(e){return e.inEdit?"24vw":"100%"},overflow:"auto"},noCatalogList:{"& :not(:nth-child(6n+1))":{marginLeft:"calc( (97.6% - (16% * 6)) / 5 )"},display:"flex",flexWrap:"nowrap",justifyContent:"flex-start"}}),$a=Object(p.a)((function(e){var t=e.catalogListFiltered,a=e.categorySelected,o=e.activeCatalogItem,i=e.onSetCatalogStatus,c=e.onAddCategoryToCatalog,l=e.onRemoveCategoryFromCatalog,s=e.catalogStatusLoading,u=e.onCatalogOrderChange,d=e.savingCatalogSort,g=e.onSetActiveCatalogItem,m=e.catalogListNoCategory,f=e.showSortArrows,p=e.site,h=null!==o,v=qa({inEdit:h}),b=_e(),E=Object(n.useState)(4),y=E[0],C=E[1];return Object(n.useEffect)((function(){console.log(y);var e=null;return y<t.length&&(e=setTimeout((function(){return C(y+5)}),200)),function(){e&&clearTimeout(e)}})),r.a.createElement("div",{className:v.container},r.a.createElement("div",{className:v.catalogListComponent},t.slice(0,y).map((function(e,n){var m=n>0?t[n-1]:null,v=t.length>n-2?t[n+1]:null,E=(a&&v&&v.categories.filter((function(e){return e._id===a._id}))||[]).length>0;return r.a.createElement(Va,{showSortArrows:f,key:""+e._id+e.sort,prevCatalog:m,nextCatalog:E?v:null,inEdit:h,catalog:e,category:a,disableEdit:null!=o,onSetStatus:i,onAddCategory:c,onRemoveCategory:l,isSaving:e._id===s,onOrderChange:u,savingCatalogSort:d,salesBackgroundColor:p.salesBackgroundColor||[0,255,255],salesFontColor:p.salesFontColor||[0,0,0],onClick:function(){b||g(e)}})}))),Ka,!b&&m.length>0&&Xa,r.a.createElement("div",{className:v.catalogListComponent},!b&&m.map((function(e,n){var m=n>0?t[n-1]:null,f=t.length>n-2?t[n+1]:null,p=(a&&f&&f.categories.filter((function(e){return e._id===a._id}))||[]).length>0;return r.a.createElement(Va,{key:""+e._id+e.sort,prevCatalog:m,nextCatalog:p?f:null,inEdit:h,catalog:e,category:a,disableEdit:null!=o,onSetStatus:i,onAddCategory:c,onRemoveCategory:l,isSaving:e._id===s,onOrderChange:u,savingCatalogSort:d,onClick:function(){b||g(e)}})}))))}),[Y,ee,Pe]),Qa=a(6222),en=a(6223),tn=a(184),an=a.n(tn),nn=a(6221).a,rn=(Ve.a,a(190)),on=Object(At.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Qa.a),cn=Object(At.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"},alignItems:"center"},expanded:{}})(en.a),ln=r.a.createElement(an.a,null),sn=r.a.createElement(It.a,null),un=r.a.createElement(Rt.a,null),dn=r.a.createElement(an.a,null),gn=r.a.createElement(nn,null),mn=r.a.createElement(Nt.a,null),fn=r.a.createElement(ia,null),pn=Object(p.a)((function(e){var t,a,o=e.catalogList,i=e.catalogTotals,c=e.onSetCatalogTotals,l=e.catalogListInit,s=e.onCatalogListInit,u=e.onSetActiveCatalogItem,d=e.activeCatalogItem,g=e.onCategorySelectChange,m=e.catalogListLoadError,f=e.onClearCatalogError,p=e.categoryList,h=e.onSaveSiteColor,v=e.siteDataInitialized,b=e.onLoadSite,E=e.site,y=e.setSalesBackgroundColor,C=e.setSalesFontColor;Object(n.useEffect)((function(){l||s(),v||b()})),Object(n.useEffect)((function(){0===i.length&&p.length>0&&o.length>0&&c(p,o)}));var L=_e(),w=Object(n.useState)({_id:null,category:"All"}),S=w[0],O=w[1],x=Object(n.useState)(!1),j=x[0],k=x[1];console.log("site"),console.log(E);var A=null!==(t=E.salesBackgroundColor)&&void 0!==t?t:[0,255,255],I=null!==(a=E.salesFontColor)&&void 0!==a?a:[0,0,0];console.log(A);var R=Object(n.useState)(!1),N=R[0],T=R[1],D=null!==d,B=hn({inEdit:D}),F=m&&Array.isArray(m)&&m.length>0&&m[0].dataPath+" "+m[0].message||"Error Saving";console.log(F);var P=(null==A?void 0:A.length)>2?"rgb("+A[0]+","+A[1]+", "+A[2]+")":"rgb(255,255,255)",H=I.length>2?"rgb("+I[0]+","+I[1]+", "+I[2]+")":"rgb(255,255,255)";return r.a.createElement(n.Fragment,null,r.a.createElement(Ba,{errorMessage:m&&F||"",onClearErrorMessage:function(){return f(!1)},status:"error"}),r.a.createElement(Fa.a,{expanded:j,className:B.accordion,onChange:function(){k(!j)}},r.a.createElement(cn,{expandIcon:ln},sn,r.a.createElement(rt.a,{className:B.categoryTitle},"Sales Text Styling")),r.a.createElement(on,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(rt.a,{className:B.categoryTitle,style:{padding:10,width:250}},"Sales Background Color"),r.a.createElement("div",{style:{display:"flex",padding:"7px"}},r.a.createElement(rn.HuePicker,{color:{r:A[0],g:A[1],b:A[2]},onChangeComplete:function(e){y([e.rgb.r,e.rgb.g,e.rgb.b])}}))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(rt.a,{className:B.categoryTitle,style:{padding:10,width:250}},"Sales Font Color"),r.a.createElement("div",{style:{display:"flex",padding:"7px",marginTop:10}},r.a.createElement(rn.CompactPicker,{color:{r:I[0],g:I[1],b:I[2]},onChangeComplete:function(e){C([e.rgb.r,e.rgb.g,e.rgb.b])}})))),r.a.createElement("div",{style:{paddingLeft:20,display:"flex"}},r.a.createElement("div",{className:B.catSale,style:{backgroundColor:""+P,color:""+H,width:35,height:20}},"$999"),r.a.createElement("div",{style:{margin:20}},r.a.createElement(lt.a,{variant:"contained",color:"primary",startIcon:un,style:{marginRight:20},onClick:function(){return h({salesBackgroundColor:A,salesFontColor:I})}},"Save Style")))))),r.a.createElement("div",{style:{width:360,marginTop:-10,marginBottom:10}},r.a.createElement(Ra,{onChange:function(e){O(e),g(e)}})),r.a.createElement("div",{className:B.mainContainer},r.a.createElement("div",{className:B.scrollContainer},r.a.createElement("div",{className:B.container},p.map((function(e){var t=i?i.filter((function(t){return t._id===e._id})):[],a=e._id===S._id;return r.a.createElement(Fa.a,{expanded:a,TransitionProps:{timeout:0},onChange:function(){if(console.log("click"),e._id===S._id){var t={_id:null,category:"All"};O(t),g(t)}else O(e),g(e)},key:e._id,className:B.accordion,hidden:S&&S._id&&e._id!==S._id},r.a.createElement(cn,{expandIcon:dn},gn,r.a.createElement(rt.a,{className:B.categoryTitle},e.category),!D&&r.a.createElement(r.a.Fragment,null,!L&&t.length>0&&r.a.createElement(rt.a,{style:{marginRight:"10%",position:"absolute",right:30}},"Active: ",t[0].activeTotal," Disabled: ",t[0].disabledTotal," Total: ",t[0].disabledTotal+t[0].activeTotal),L||D||e._id!==S._id?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{variant:"contained",color:"primary",className:B.reorderButton,onClick:function(e){e.stopPropagation(),T(!N),console.log("test")}},N?"Hide":"Show"," Reorder Arrows")))),r.a.createElement(on,null,a&&r.a.createElement($a,{showSortArrows:!L&&N})))})))),D&&r.a.createElement("div",{className:B.containerEdit},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(ht.a,{className:B.editControl,onClick:function(){u(null)}},mn)),fn)))}),[Y,ee,Pe]),hn=Object(Ge.a)({catSale:{zIndex:9,padding:15,"border-bottom-right-radius":10,"border-bottom-left-radius":10,"border-top-left-radius":10,color:"white",right:0,transform:"rotate(0deg)"},scrollContainer:{height:"calc( 100vh - 120px)",width:function(e){return e.inEdit?"0vw":"100%"},overflow:"auto"},container:{display:"block",flexWrap:"wrap",justifyContent:"space-between",width:"100%"},containerEdit:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",height:80,width:"calc( 75vw - 87px)"},editControl:{position:"absolute",right:10,zIndex:999},mainContainer:{display:"flex",flexWrap:"wrap"},gridList:{flexWrap:"wrap",transform:"translateZ(0)"},gridListBottom:{flexWrap:"nowrap",bottom:0,position:"absolute",transform:"translateZ(0)",display:"flex",width:"100%",overflow:"scroll"},gridListTile:{},accordion:{height:"100%"},accordionDetails:{"&$expanded":{minHeight:56}},reorderButton:{margin:0,"text-transform":"none",background:"#64b5f6",marginLeft:"40px"},categoryTitle:{fontWeight:500,fontSize:"large",marginLeft:15}}),vn=r.a.createElement(pn,null),bn=Object(p.a)((function(e){var t=e.onCreateNewCatalog,a=e.onCatalogSearch;e.catalogSearchText;return r.a.createElement(n.Fragment,null,r.a.createElement(kt,{title:"Catalogs",LeftIcon:nn,onSearchChange:function(e){a(e)},onAdd:function(){t()}}),vn)}),[Y]),En=["history","permission","component"],yn=r.a.createElement("span",null,"...Loading User Privileges"),Cn=function(e){e.history;var t=e.permission,a=e.component,o=Object(Wt.a)(e,En),i=Object(Qe.b)(),c=i.isLoading,l=i.isAuthenticated,s=Object(f.c)(t),d=(l||Object(f.d)())&&s;return r.a.createElement(u.b,Object(zt.a)({},o,{render:function(e){return r.a.createElement(n.Fragment,null,d&&r.a.createElement(a,e),!d&&!c&&r.a.createElement(u.a,{push:!0,to:{pathname:"/login",state:{from:e.location}}}),!d&&c&&yn)}}))},Ln=a(6226),wn=a(6225),Sn=a(272),On=a(332),xn=r.a.createElement(Sn.a,null,r.a.createElement(Ve.a,null)),jn=r.a.createElement(Rt.a,null),kn=r.a.createElement(Mt.a,null),An=r.a.createElement(va.a,null,"Sort"),In=function(e){var t=e.category,a=e.saveCategory,o=e.deleteCategoey,i=Object(n.useState)(!1),c=i[0],l=i[1],s=Object(n.useState)(Object.assign({},t)),u=s[0],d=s[1],g=function(e,t){var a;d(Object.assign({},u,((a={})[e]=t,a))),l(!0)},m=Rn();return r.a.createElement(Dt.a,{className:m.paper},r.a.createElement(ga.a,{style:{display:"flex"}},xn,r.a.createElement(ma.a,{primary:u.category,classes:{primary:c?m.title:void 0}}),r.a.createElement(Sn.a,null,r.a.createElement(ht.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:m.edgeEndChange},onClick:function(){a(u),l(!1)}},jn)),r.a.createElement(Sn.a,null,r.a.createElement(ht.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:m.edgeEndChange},onClick:function(){o(u),l(!1)}},kn))),r.a.createElement(ga.a,null,r.a.createElement(Ft.a,{style:{width:"50%"},control:r.a.createElement(Ht.a,{checked:u.systemOnly,onChange:function(e){var t=e.target.checked;g("systemOnly",t)},inputProps:{"aria-label":"primary checkbox"}}),label:"System"}),r.a.createElement(pa.a,{className:m.formControl},An,r.a.createElement(On.a,{value:u.sort,onChange:function(e){g("sort",e.target.value)}},[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return r.a.createElement(sa.a,{key:e,value:e},e)}))))),r.a.createElement(ga.a,null,r.a.createElement(Bt.a,{style:{width:"100%"},label:"Title",value:u.category,onChange:function(e){return g("category",e.target.value)}})))},Rn=Object(Ge.a)((function(){return{paper:{minHeight:140,width:"100%"},edgeEndChange:{marginRight:-20},title:{fontWeight:900,color:"limegreen",fontSize:"x-large"}}})),Nn=Object(p.a)((function(e){var t=e.onCategoryListInit,a=e.categoryListInit,o=e.categoryList,i=e.onSaveCategoryItem,c=e.onDeleteCategory;Object(n.useEffect)((function(){a||t()}));var l=Tn();return r.a.createElement(n.Fragment,null,r.a.createElement(wn.a,{container:!0,className:l.root,spacing:2},o.map((function(e,t){return r.a.createElement(wn.a,{item:!0,xs:12,md:4,key:e._id},r.a.createElement(In,{category:e,saveCategory:i,deleteCategoey:c}))}))))}),[ee]),Tn=Object(Ge.a)((function(){return{root:{flexGrow:1},paper:{minHeight:140,width:"100%"},control:{}}})),Dn=r.a.createElement(Nn,null),Bn=Object(p.a)((function(e){var t=e.onCreateNewCategory,a=Fn();return r.a.createElement(n.Fragment,null,r.a.createElement(kt,{title:"Category",LeftIcon:Ln.a,onSearchChange:function(e){},onAdd:function(){t()}}),r.a.createElement("div",{className:a.mainContainer},Dn))}),[ee]),Fn=Object(Ge.a)({mainContainer:{backgroundColor:"#e8e7e7",minHeight:"calc(100vh - 65px)",padding:5,marginTop:-10}}),Pn=a(347),Hn=a(6228),Mn=function(e,t,a){var n=_n.filter((function(t){return t.id===e})),r=a?_n.filter((function(e){return e.id===a.day})):null;return n.length>0?r&&r.length>0&&a.hours===t?r[0].short+" to "+n[0].short+" "+t:n[0].short+" "+t:""},_n=[{id:0,name:"Sunday",short:"Sun"},{id:1,name:"Monday",short:"Mon"},{id:2,name:"Tuesday",short:"Tues"},{id:3,name:"Wednesday",short:"Wed"},{id:4,name:"Thursday",short:"Thurs"},{id:5,name:"Friday",short:"Fri"},{id:6,name:"Saturday",short:"Sat"}],zn=a(6148),Wn=a(6227),Gn=r.a.createElement(Rt.a,null),Yn=function(e){var t,a=e.hoursFull,o=e.save,i=Object(n.useState)((t=a,_n.map((function(e){var a=t.filter((function(t){return t.day===e.id}));return a.length>0?Object.assign({},e,{hours:a[0].hours,selected:!0}):Object.assign({},e,{hours:"",selected:!1})})))),c=i[0],l=i[1],s=function(e,t,a){var n=c.map((function(n,r){var o;return e===r?Object.assign({},n,((o={})[t]=a,o)):n}));l(n)};return r.a.createElement(n.Fragment,null,c.map((function(e,t){return r.a.createElement(ga.a,{key:e.id,role:void 0,dense:!0,button:!0},r.a.createElement(Sn.a,null,r.a.createElement(Ht.a,{edge:"start",checked:e.selected,tabIndex:-1,disableRipple:!0,onChange:function(e){s(t,"selected",e.target.checked)}})),r.a.createElement(ma.a,{style:{minWidth:100},primary:e.name}),r.a.createElement(ma.a,{style:{minWidth:200},primary:r.a.createElement(Bt.a,{label:"Hours",value:e.hours,onChange:function(e){s(t,"hours",e.target.value)}})}))})),r.a.createElement(lt.a,{style:{marginTop:20},variant:"contained",color:"primary",size:"large",startIcon:Gn,onClick:function(){o(c.filter((function(e){return e.selected})).map((function(e){return{day:e.id,hours:e.hours}})))}},"Save"))},Un=r.a.createElement(It.a,null),Vn=r.a.createElement(Wn.a,null),Jn=r.a.createElement(ma.a,{primary:"Hours"}),Zn=r.a.createElement(Nt.a,null),Kn=function(e){var t=e.hoursFull,a=e.save,o=function(e){var t=[];if(e&&Array.isArray(e)&&e.length>0){var a={hours:""},n="";e.forEach((function(e,r){r>0&&a.hours!==e.hours&&t.push(n),n=Mn(e.day,e.hours,a),a.hours!==e.hours&&(a=e)})),t.push(n)}return t.length>0?t:["Please call for hours"]}(t),i=Object(n.useState)(!1),c=i[0],l=i[1],s=Xn();return r.a.createElement("div",null,r.a.createElement(ga.a,null,r.a.createElement(Sn.a,{style:{marginLeft:-25}},r.a.createElement(ht.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:s.edgeEndChange},onClick:function(){l(!0)}},Un)),r.a.createElement(ma.a,{primary:"Hours",classes:{primary:void 0}})),o.map((function(e){return r.a.createElement("div",{key:e},e)})),r.a.createElement(zn.a,{open:c,onClose:function(){return l(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement(Dt.a,{className:s.modalPaper},r.a.createElement(ga.a,{style:{display:"flex",marginTop:-15}},r.a.createElement(Sn.a,{style:{marginLeft:-20}},Vn),Jn,r.a.createElement(Sn.a,{className:s.edgeEndChange},r.a.createElement(ht.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:s.edgeEndChange},onClick:function(){l(!1)}},Zn))),r.a.createElement(Yn,{hoursFull:t,save:function(e){l(!1),a(e)}}))))},Xn=Object(Ge.a)({modalPaper:{position:"absolute",width:400,padding:20,top:"5%",left:"calc(50% - 200px)",overflowX:"hidden",overflowY:"auto",minHeight:300},edgeEndChange:{marginRight:-20}}),qn=r.a.createElement(Sn.a,null,r.a.createElement(Hn.a,null)),$n=r.a.createElement(Rt.a,null),Qn=r.a.createElement(Mt.a,null),er=function(e){var t=e.location,a=e.saveLocation,o=e.deleteLocation,i=Object(n.useState)(!1),c=i[0],l=i[1],s=Object(n.useState)(Object.assign({},t)),u=s[0],d=s[1],g=function(e,t,a){var n;void 0===a&&(a=!0),d(Object.assign({},u,((n={})[e]=t,n))),l(a)},m=function(e,t){var a,n=Object.assign({},u.address,((a={})[e]=t,a));d(Object.assign({},u,{address:n})),l(!0)},f=tr();return r.a.createElement(Dt.a,{className:f.paper},r.a.createElement(ga.a,null,qn,r.a.createElement(ma.a,{primary:u.locationName,classes:{primary:c?f.title:void 0}}),r.a.createElement(Sn.a,null,r.a.createElement(ht.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:f.edgeEndChange},onClick:function(){a(u),l(!1)}},$n)),r.a.createElement(Sn.a,null,r.a.createElement(ht.a,{edge:"end","aria-label":"Save",color:"primary",classes:{edgeEnd:f.edgeEndChange},onClick:function(){o(u),l(!1)}},Qn))),r.a.createElement(ga.a,null,r.a.createElement(Bt.a,{style:{width:"100%"},label:"Title",value:u.locationName,onChange:function(e){return g("locationName",e.target.value)}})),r.a.createElement(ga.a,null,r.a.createElement(Bt.a,{style:{width:"100%"},label:"Address 1",value:u.address.address1,onChange:function(e){return m("address1",e.target.value)}})),r.a.createElement(ga.a,null,r.a.createElement(Bt.a,{style:{width:"100%"},label:"Address 2",value:u.address.address2,onChange:function(e){return m("address1",e.target.value)}})),r.a.createElement(ga.a,null,r.a.createElement(Bt.a,{style:{width:"45%",marginRight:"10%"},label:"City",value:u.address.city,onChange:function(e){return m("city",e.target.value)}}),r.a.createElement(Bt.a,{style:{width:"45%"},label:"State",value:u.address.state,onChange:function(e){return m("state",e.target.value)}})),r.a.createElement(ga.a,null,r.a.createElement(Bt.a,{style:{width:"30%",marginRight:"5%"},label:"Zip Code",value:u.address.zipCode,onChange:function(e){return m("zipCode",e.target.value)}}),r.a.createElement(Bt.a,{style:{width:"30%",marginRight:"5%"},label:"Phone#",value:u.phonePublic,onChange:function(e){return g("phonePublic",e.target.value)}}),r.a.createElement(Bt.a,{style:{width:"30%"},label:"Map Link",value:u.mapLink,onChange:function(e){return g("mapLink",e.target.value)}})),r.a.createElement(ga.a,null,r.a.createElement(Kn,{hoursFull:u.hours,save:function(e){g("hours",e,!1),a(Object.assign({},u,{hours:e}))}})))},tr=Object(Ge.a)((function(){return{paper:{minHeight:140,width:"100%"},edgeEndChange:{marginRight:-20},title:{fontWeight:900,color:"limegreen",fontSize:"x-large"}}})),ar=Object(p.a)((function(e){var t=e.onLocationListInit,a=e.locationListInit,o=e.locationList,i=e.onSaveLocationItem,c=e.onDeleteLocation;Object(n.useEffect)((function(){a||t()}));var l=nr();return r.a.createElement(n.Fragment,null,r.a.createElement(wn.a,{container:!0,className:l.root,spacing:2},o.map((function(e){return r.a.createElement(wn.a,{item:!0,xs:12,md:4,key:e._id},r.a.createElement(er,{location:e,saveLocation:i,deleteLocation:c}))}))))}),[ue]),nr=Object(Ge.a)((function(){return{root:{flexGrow:1},paper:{minHeight:140,width:"100%"},control:{}}})),rr=r.a.createElement(ar,null),or=Object(p.a)((function(e){var t=e.onCreateNewLocation,a=ir();return r.a.createElement(n.Fragment,null,r.a.createElement(kt,{title:"Locations",LeftIcon:Pn.OpenWith,onSearchChange:function(e){},onAdd:function(){t()}}),r.a.createElement("div",{className:a.mainContainer},rr))}),[ue]),ir=Object(Ge.a)({mainContainer:{backgroundColor:"#e8e7e7",minHeight:"calc(100vh - 65px)",padding:5,marginTop:-10}}),cr=a(143),lr=a.n(cr),sr=a(6229),ur=["modelNumber","mfrName","shortDesc","unitPrice","status","images.0.fileName"],dr={key:"modelNumber",itemsPerPage:10,defaultSort:"modelNumber",sortDescending:!1,columns:[{fieldForSort:"modelNumber",columnLabel:"Model#"},{fieldForSort:"mfrName",columnLabel:"Mfr"},{fieldForSort:"unitPrice",columnLabel:"Price"},{fieldForSort:"status",columnLabel:"Status"},{fieldForSort:"images.0.fileName",columnLabel:"File"}]},gr=[{fieldName:"mfrName",columnLabel:"Manufacturer"},{fieldName:"status",columnLabel:"Status"}],mr=a(118),fr=r.a.createElement(sr.a,null),pr=Object(p.a)((function(e){var t=e.catalogList,a=e.catalogListInit,o=e.onCatalogListInit,i=e.catalogListLoading;Object(n.useEffect)((function(){if(a){if(null===l&&!i){s(t);var e=Object(p.c)(gr,t);g(e)}}else o()}));var c=Object(n.useState)(null),l=c[0],s=c[1],u=Object(n.useState)(null),d=u[0],g=u[1];console.log(d);var m=hr();return null===l?r.a.createElement(Ia,{spinnerSize:60,style:{paddingTop:"25vh"}}):r.a.createElement("div",null,"Total Records : ",l&&l.length,d&&r.a.createElement("div",null,d.fieldList.map((function(e){return r.a.createElement(Dt.a,{key:e.fieldName,className:m.filterContainer},r.a.createElement("label",{className:m.optionLabel},e.columnLabel),r.a.createElement("div",{className:m.filterItemContainer},d[e.fieldName].map((function(a){return r.a.createElement("div",{key:a.option,className:m.optionContainer},r.a.createElement(Ft.a,{control:r.a.createElement(Pt.a,{checked:a.selected,onChange:function(n){!function(e,a,n){var r={fieldList:d.fieldList},o={};d.fieldList.forEach((function(e){o[e.fieldName]=[],r[e.fieldName]=d[e.fieldName].map((function(e){return e.option===a?{option:a,selected:n}:e})),r[e.fieldName].forEach((function(t){t.selected&&o[e.fieldName].push(t.option)}))}));var i=t.filter((function(e){var t=!0;return r.fieldList.forEach((function(a){var n=Object(p.d)(e,a.fieldName);o[a.fieldName].length>0&&-1===o[a.fieldName].indexOf(n)&&(t=!1)})),t}));g(r),s(i)}(e.fieldName,a.option,n.target.checked)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}),label:r.a.createElement("span",null,a.option&&a.option.length>0?a.option:"None"),style:{marginLeft:3,marginRight:0}}))}))))}))),r.a.createElement(mr.TablePaging,{dataList:l,headerConfig:dr}),r.a.createElement(lt.a,{startIcon:fr,style:{marginRight:20,marginTop:20,marginBottom:30},variant:"contained",color:"primary",onClick:function(){var e=Object(p.b)(l,ur),t=cr.utils.aoa_to_sheet(e),a=cr.utils.book_new();cr.utils.book_append_sheet(a,t,"Catalog"),lr.a.writeFile(a,"catalog.xlsx")}},"Export"))}),[Y]),hr=Object(Ge.a)({filterContainer:{margin:10,padding:10,border:"black solid 2px"},filterItemContainer:{display:"flex",flexFlow:"row wrap"},optionLabel:{width:110},optionContainer:{width:220}}),vr=a(6230),br=a(348),Er=a(146),yr=a(366),Cr=a(352),Lr=a(6234),wr=a(363),Sr=a(141),Or=r.a.createElement(vr.a,{strokeDasharray:"3 3"}),xr=r.a.createElement(br.a,null),jr=r.a.createElement(Er.a,null),kr=r.a.createElement(yr.a,{dataKey:"hits",fill:"#82ca9d",minPointSize:10},r.a.createElement(Cr.a,{angle:-90,dataKey:"hits"})),Ar=Object(p.a)((function(e){var t=e.hitChartData,a=e.hitReportInitDone,o=e.onHitReportInit,i=e.weekEndDate,c=e.weekStartDate;e.setWeekDays;return Object(n.useEffect)((function(){a||o()})),r.a.createElement("div",null,r.a.createElement(kt,{title:"Weekly Hits "+c+" - "+i,LeftIcon:Ke.a}),r.a.createElement(Lr.a,{width:800,height:300,data:t,margin:{top:20,right:30,left:20,bottom:50}},Or,r.a.createElement(wr.a,{dy:25,dx:-5,dataKey:"name",angle:-90,label:{angle:-90,value:"Month-Day",position:"insideBottomRight",offset:28}}),xr,jr,r.a.createElement(Sr.a,{wrapperStyle:{position:"initial"}}),kr))}),[be]),Ir=a(6235),Rr={key:"0",itemsPerPage:10,defaultSort:"1",sortDescending:!0,columns:[{fieldForSort:"ticketNum",columnLabel:"TIX NO"},{fieldForSort:"day",columnLabel:"Day"},{fieldForSort:"month",columnLabel:"Month"},{fieldForSort:"name",columnLabel:"Name"},{fieldForSort:"price",columnLabel:"Price"}]},Nr=r.a.createElement(Et.a,null),Tr=Object(p.a)((function(e){var t=e.onGetSalesByName,a=e.salesSearch,o=e.salesSearchLoading;console.log(a);var i=a&&a.rowCountFound>0?a.rowCountFound+" Found":"Enter Name and Click Search",c=Dr(),l=a.items.length>0,s=Object(n.useState)(""),u=s[0],d=s[1],g=Object(n.useState)(""),m=g[0],f=g[1],p=Object(n.useState)(localStorage.getItem("salesLocation")||"JO"),h=p[0],v=p[1];return r.a.createElement("div",null,r.a.createElement(kt,{title:"Sales Search By Name ("+i+")",LeftIcon:Xe.a}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Dt.a,{className:c.searchButtonRoot},r.a.createElement(Ia,{loading:o,spinnerSize:30,classes:{spinnerWrapper:c.spinnerWrapper}},r.a.createElement(bt.a,{placeholder:"Search By Name",inputProps:{"aria-label":"search google maps"},value:u,onChange:function(e){return d(e.target.value)},onKeyUp:function(e){13===e.keyCode&&t(u,h)}}),r.a.createElement(ht.a,{onClick:function(){return t(u,h)}},Nr))),r.a.createElement(Ir.a,{size:"small",color:"secondary","aria-label":"small outlined button group",style:{marginRight:20}},r.a.createElement(lt.a,{style:{background:"JO"===h?"aliceblue":""},onClick:function(){localStorage.setItem("salesLocation","JO"),v("JO")}},"Jonesboro"),r.a.createElement(lt.a,{style:{background:"GR"===h?"aliceblue":""},onClick:function(){localStorage.setItem("salesLocation","GR"),v("GR")}},"Griffin")),l&&r.a.createElement(Dt.a,{className:c.filterRoot},r.a.createElement(va.a,{className:c.searchLabel},"Filter Table Results"),r.a.createElement(Za.a,{className:c.divider,orientation:"vertical"}),r.a.createElement(bt.a,{placeholder:"Filter By Month/Year/Name",inputProps:{"aria-label":"search google maps"},value:m,onChange:function(e){return f(e.target.value)}}))),r.a.createElement(mr.TablePaging,{loading:o,dataList:a.items,headerConfig:Rr,filterText:m}))}),[we]),Dr=Object(Ge.a)({searchButtonRoot:{paddingLeft:15,paddingRight:0,width:265,marginRight:20},filterRoot:{paddingLeft:15,paddingRight:0,width:450,display:"flex"},spinnerWrapper:{marginTop:10,marginBottom:10},divider:{height:28,margin:4,paddingTop:15,marginLeft:10,marginRight:10},searchLabel:{paddingTop:15}}),Br={key:"0",itemsPerPage:10,defaultSort:"runDate._seconds",sortDescending:!0,columns:[{fieldForSort:"fileName",columnLabel:"File"},{display:function(e,t,a){return new Date(1e3*e.runDate._seconds).toDateString()},columnLabel:"Date"},{fieldForSort:"count",columnLabel:"Count"}]},Fr=Object(p.a)((function(e){var t=e.salesHist,a=(e.onGetSalesHist,e.salesHistLoading),o=(e.salesHistLoadError,e.salesHistInitDone),i=e.onSalesHistInit;Object(n.useEffect)((function(){o||i()}));var c=Object(n.useState)(""),l=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(kt,{title:"Sales Hist",LeftIcon:qe.a,onSearchChange:s}),r.a.createElement(mr.TablePaging,{loading:a,dataList:t.items,headerConfig:Br,filterText:l}))}),[ke]),Pr=r.a.createElement(u.b,{exact:!0,path:"/logOut",component:gt}),Hr=r.a.createElement(u.b,{exact:!0,path:"/logcomplete",component:gt}),Mr=function(e){function t(){var t;return(t=e.call(this)||this).state={isMobile:window.innerWidth<=760,errorMessage:"",showAlert:!1,alertStatus:"",tokenLoading:!1,tokenLoaded:!1},t}Object(s.a)(t,e);var a=t.prototype;return a.onCloseAlert=function(){this.setState({errorMessage:"",alertStatus:""})},a.componentDidMount=function(){var e=this;Object(p.f)(this),Object(f.e)();window.addEventListener("resize",(function(){e.setState({isMobile:window.innerWidth<=760})}))},a.render=function(){var e=this,t=function(){var t=Object(l.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.auth0.getAccessTokenSilently,t.prev=1,e.setState({tokenLoading:!0}),t.next=5,a();case 5:n=t.sent,console.log("-------- Token Complete First Try -------"),console.log(n),Object(f.g)(n),e.setState({errorMessage:"You Have Access",alertStatus:"success",tokenLoaded:!0}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a().then((function(t){Object(f.g)(t),console.log("-------- Token Complete second Try-------"),console.log(t),e.setState({errorMessage:"Access Allowed",alertStatus:"success",tokenLoaded:!0})})).catch((function(t){console.log("-------- No Token -------"),console.log(t.message||t),e.setState({errorMessage:t.message})}));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}(),a=this.props.auth0,n=(a.user,a.isLoading),o=this.state,i=(o.isMobile,o.errorMessage),s=o.alertStatus,u=o.tokenLoading,g=o.tokenLoaded;n||u||g||""!==i||(console.log("--- user render ---"),console.log({errorMessage:i,isLoading:n,tokenLoading:u,tokenLoaded:g}),console.log(this.props.auth0),Object(f.d)()||t());var m=Object(Me.getLoginRoute)(),p=at;return r.a.createElement(He,null,r.a.createElement(Ba,{errorMessage:i,onClearErrorMessage:function(){return e.onCloseAlert()},status:s}),r.a.createElement(d.a,null,r.a.createElement(p,null,r.a.createElement("div",null,r.a.createElement(m,null),Pr,Hr,r.a.createElement(Cn,{permission:1,exact:!0,path:"/",component:bn}),r.a.createElement(Cn,{permission:1,exact:!0,path:"/location",component:or}),r.a.createElement(Cn,{permission:1,exact:!0,path:"/catalogSearch",component:pr}),r.a.createElement(Cn,{permission:1,exact:!0,path:"/category",component:Bn}),r.a.createElement(Cn,{permission:1,exact:!0,path:"/hits",component:Ar}),r.a.createElement(Cn,{permission:1,exact:!0,path:"/salesByName",component:Tr}),r.a.createElement(Cn,{permission:1,exact:!0,path:"/salesHist",component:Fr})))))},t}(r.a.Component),_r=Object(Qe.c)(Mr),zr=a(101),Wr=a(6182),Gr=a(192),Yr=a(6236),Ur=Object(zr.a)({typography:{useNextVariants:!0},palette:{textColor:Gr.a.A700,primary:{main:"#3d6090",success:"#4caf50",idle:Yr.a[500]},secondary:{main:"#428bca"}}});Object(o.render)(r.a.createElement(Qe.a,{domain:"netware.auth0.com",clientId:"Aa7xpZd1nciCoIStp8BYJZO2Oix8WH2R",audience:"https://eventnod.netware.io",redirectUri:""+window.location.origin,scope:"read.events"},r.a.createElement(Wr.a,{theme:Ur},r.a.createElement(_r,null))),document.querySelector("#app"));Wr.a},90:function(e,t,a){"use strict";var n=a(51),r=a(21),o=a(12),i=null,c=function(){var e=Object(r.b)();return console.log("isLoggedIn"),console.log(Object(r.f)()),{loadingAuth:!Object(r.f)(),userNotAuthorized:!1,userLoggedIn:Object(r.f)(),name:e.name,picUrl:e.picUrl,userFeatures:e.featurePermissions||[],faceLoginMessage:null,passwordMessage:"",confirmPasswordMessage:"",profileLoading:!1,onSetAccount:s,onNotifyMainNavOfLogOff:l}},l=function(){Object(r.a)(),i.setState({userLoggedIn:!1}),(0,a(167).navigate)("#/logout")},s=function(e){console.log("loginInfo"),console.log(e),Object(r.h)(e),i.setState({picUrl:e.picUrl,name:e.name,email:e.email,userLoggedIn:!0})};t.a=Object(n.a)(c,(function(e){return i=e,Object(o.g)(l),c()}))}},[[384,1,2]]]);
//# sourceMappingURL=app.220a0cef.js.map