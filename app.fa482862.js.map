{"version":3,"sources":["webpack:///./src/utility/helpers.js","webpack:///./src/desktop/accounts/LoginStart.js","webpack:///./src/route/history.js","webpack:///./src/models/accounts/userMessages.js","webpack:///./src/models/accounts/userAuthStore.js","webpack:///./src/utility/modelContext.js","webpack:///./src/models/home/catalogMessage.js","webpack:///./src/models/home/catalogHelper.js","webpack:///./src/models/home/catalogModel.js","webpack:///./src/models/home/categoryModel.js","webpack:///./src/models/home/categoryMessage.js","webpack:///./src/models/company/companyLocationsModel.js","webpack:///./src/models/company/companyMessage.js","webpack:///./src/models/stats/statsToChart.js","webpack:///./src/models/stats/statsModel.js","webpack:///./src/models/stats/statsMessage.js","webpack:///./src/models/sales/salesSearchModel.js","webpack:///./src/models/sales/salesSearchMessage.js","webpack:///./src/models/sales/salesHistModel.js","webpack:///./src/models/company/siteModel.js","webpack:///./src/models/company/siteMessaage.js","webpack:///./src/GlobalProviders.js","webpack:///./src/utility/useIsMobile.js","webpack:///./src/models/home/menuStore.js","webpack:///./src/desktop/home/FullMenuNav.js","webpack:///./src/desktop/accounts/LoggedOut.js","webpack:///./src/utility/components/SearchTextBox.js","webpack:///./src/utility/components/AppBarTitle.js","webpack:///./src/utility/components/AlertDialog.js","webpack:///./src/desktop/catalog/CatalogItemEdit.js","webpack:///./src/utility/components/NoData.js","webpack:///./src/utility/components/Select/SelectedList.js","webpack:///./src/utility/components/SelectSearch.js","webpack:///./src/utility/components/SpinnerDownloading.js","webpack:///./src/desktop/catalog/CategorySelect.js","webpack:///./src/utility/components/PopupError.js","webpack:///./src/desktop/catalog/CatalogCard.js","webpack:///./src/desktop/catalog/CatalogListComponent.js","webpack:///./src/desktop/SiteIcons.js","webpack:///./src/desktop/catalog/CatalogTable.js","webpack:///./src/desktop/home/HomeMain.js","webpack:///./src/route/PrivateRoute.js","webpack:///./src/desktop/catalog/CategoryItemEdit.js","webpack:///./src/desktop/catalog/CategoryTable.js","webpack:///./src/desktop/home/CategoryMaintenance.js","webpack:///./src/models/company/locationHoursManager.js","webpack:///./src/desktop/company/LocationHoursEdit.js","webpack:///./src/desktop/company/LocationHours.js","webpack:///./src/desktop/company/LocationItemEdit.js","webpack:///./src/desktop/company/LocationTable.js","webpack:///./src/desktop/company/LocationMaintenance.js","webpack:///./src/models/home/catalogXlExport.js","webpack:///./src/desktop/catalogSearch/CatalogSearchMain.js","webpack:///./src/desktop/stats/HitReportMain.js","webpack:///./src/desktop/sales/SalesByNameMain.js","webpack:///./src/desktop/sales/SalesHist.js","webpack:///./src/route/RouteConfig.js","webpack:///./src/index.js","webpack:///./src/models/accounts/accountModel.js"],"names":["routeComponent","handleUnauthorized","createFilterOptions","fieldList","dataList","filterOption","items","keyRef","Array","isArray","forEach","dataItem","fieldConfig","fieldName","undefined","targetValue","getItemPropertyValue","indexOf","push","option","selected","sort","a","b","convertToSheetArray","targetObject","columnFields","result","targetItem","oneRow","targetField","cellValue","ex","setUnauthorizedHandler","handler","setRouteComponent","component","connectArray","arrayOfModels","styles","intermediateComponents","startComponent","withStyles","model","index","newItem","params","connect","length","propValue","split","childField","showError","errorMessage","setState","CustomError","Error","constructor","messageResponse","_len","arguments","_key","super","captureStackTrace","this","handleResponse","async","response","ok","json","status","toCurrency","theNumber","parseFloat","toFixed","replace","_ref2","React","createElement","Redirect","to","useStyles","makeStyles","mainContainer","width","maxWidth","margin","leftContainer","height","paddingLeft","cardContainer","minHeight","minWidth","textAlign","logo","actionButton","messageContainer","display","iconSpacing","marginRight","outerCard","cardActionsContainer","flexDirection","LogIn","_ref","classes","loginWithRedirect","isAuthenticated","useAuth0","id","action","className","Card","style","CardContent","src","CardActions","Button","variant","color","onClick","returnTo","window","location","origin","LoginIcon","accountModel","historyModel","loaded","history","Route","exact","path","LoginRouteComponent","setHistory","getHistory","navigate","href","getLoginRoute","withRouter","userAuthData","token","localStorage","getItem","name","picUrl","email","expiresOn","featurePermissions","userDomain","catalogApi","process","hasToken","setLogOutTimer","require","clearLogOutTimer","msToTimeOut","Date","logOutTimer","setTimeout","readToken","base64","JSON","parse","atob","stringFeatures","tokenData","setItem","exp","console","log","setTokenValue","initAuthStore","clearTimeout","isLoggedIn","getStore","hasFeature","featureId","setUserData","picture","sub","domain","getUserDomain","stringify","clearToken","removeItem","userProfile","fetch","userId","method","headers","then","userProfileLoading","userProfileLoadHasError","catch","error","userProfileLoadError","message","getUserProfile","app_metadata","retailDomain","createContext","createModel","getInitialState","ModelContext","ModelProvider","Component","props","testMode","match","state","render","Provider","value","children","UserComponent","componentProps","Consumer","vm","_extends","deleteCatalogRecord","catalogId","deleteCatalogResult","catalogListLoading","deleteCatalogResultError","deleteFile","fileId","deleteImageResult","deleteImageResultError","sortCatalog","catalogList","categoryId","calc","aHasCategory","categories","bHasCategory","filterA","filter","aItem","_id","filterB","bItem","provider","activeCatalogItem","catalogListFiltered","catalogListOutCategory","catalogListNoCategory","catalogTotals","catalogListLoadError","savingCatalogSort","catalogListInit","catalogStatusLoading","categorySelected","catalogSearchText","imageUploading","onCatalogListInit","onSetActiveCatalogItem","onSaveCatalogItem","onUploadImage","onCreateNewCatalog","onDeleteCatalog","onSetCatalogStatus","onAddCategoryToCatalog","onRemoveCategoryFromCatalog","onCategorySelectChange","onCatalogOrderChange","onCatalogSearch","onClearCatalogError","onSetCatalogTotals","getCatalogCategorySort","getNextSortInCategory","maxSort","catalog","inCategory","searchText","toLowerCase","catalogListFilteredTemp","cat","shortDesc","modelNumber","category","swapCatalog","target","swap","swapOrder","targetCategory","cate","swapCategory","newTarget","commonSaveCatalogItem","setCategorySelectedCommon","catalogListSorted","filterCatalogIn","filterCatalogOut","filterCatalog","filterNoCatalog","filterCatalogNoCategory","searchCate","newCatalog","saveCatalogStatusResult","success","saveCatalogStatus","modifiedCount","map","images","file","deleteCatalog","imageToSave","oldFileId","fileToUpload","imageWidth","formData","FormData","append","body","uploadImageResult","uploadImageResultError","uploadImage","getNewCatalog","itemEdit","uploadImageMetadata","willFitWidth","colorRgb","colorRgbOther","fileShowing","search","find","im","setActiveItem","url","payloadGeneric","itemToSave","saveCatalogResult","errorResult","saveCatalog","ct","upsertedCount","catalogListLoadHasError","getCatalogList","newState","categoryList","getCatalogTotals","arrayCategory","totalCategory","activeTotal","disabledTotal","stats","catalogModel","classInstance","activeCategoryItem","categoryListLoading","categoryListInit","onCategoryListInit","onSetActiveCategoryItem","onSaveCategoryItem","onCreateNewCategory","onDeleteCategory","categoryListLoadHasError","categoryListLoadError","getCategoryList","isNew","saveCategoryResult","saveCategory","getNewCategory","deleteCategoryResult","deleteCategoryResultError","deleteCategory","categoryModel","activeLocationItem","locationList","locationListLoading","locationListInit","onLocationListInit","onSetActiveLocationItem","onSaveLocationItem","onCreateNewLocation","onDeleteLocation","locationListLoadError","getLocationList","saveLocationResult","saveLocation","loc","getNewLocation","locationId","deleteLocationResult","deleteLocationResultError","deleteLocationRecord","companyLocationModel","hitConfigToChart","seriesName","labelField","dataField","labelConverter","data","substr","hitReport","hitChartData","hitReportLoaded","hitReportLoading","hitReportLoadError","hitReportInitDone","weekStartDate","weekEndDate","onHitReportInit","onHitReportGet","setWeekDays","hitReportArr","startWeek","hitStart","endWeek","sDay","Intl","DateTimeFormat","day","format","sMo","month","eDay","eMo","getHitReport","hasData","statToChart","config","statsModel","salesSearch","rowCountFound","rows","salesSearchLoading","salesSearchLoadError","salesSearchLoaded","onGetSalesByName","salesSearchByName","err","salesSearchModel","onGetSalesHist","onSalesHistInit","salesHistInitDone","salesHistLoading","salesHist","salesHistLoadError","salesHistModel","site","salesBackgroundColor","salesFontColor","siteLoading","siteLoadError","siteDataInitialized","siteLoaded","siteHasError","siteMessage","siteLoadMessageDetail","onLoadSite","onSaveSiteColor","setSalesBackgroundColor","setSalesFontColor","siteColor","saveSiteResult","activeSaveItem","saveSite","getSiteParams","siteModel","GlobalProviders","AccountModel","useIsMobile","isMobile","setIsMobile","useState","innerWidth","resize","useEffect","addEventListener","removeEventListener","mainLinksAll","label","icon","Home","includes","link","route","Category","LocationCity","SearchTwoTone","Timeline","Money","BorderAll","mobileOnly","bottomLinks","Input","FullMenuNav","firstName","lastName","userLoggedIn","userFeatures","isLoading","user","mainLinks","userInfo","SideStrip","onMenuClose","expandMenu","userLabel","imageUrl","decodeURIComponent","marginLeft","Typography","_ref3","LoggedOut","onNotifyMainNavOfLogOff","logout","Info","SearchIcon","SearchTextBox","onSearchChange","useStyle","searchIcon","InputBase","placeholder","onChange","event","root","inputRoot","input","inputInput","inputProps","theme","padding","spacing","transition","transitions","create","breakpoints","up","position","pointerEvents","alignItems","justifyContent","backgroundColor","palette","background","paper","fontSize","marginBottom","boxShadow","rootMobile","marginTop","toolBar","avatar","primary","main","searchTextContainer","right","top","childContainerNoSearch","childContainer","searchTextBox","searchTextLabel","menuButton","labelTitle","labelTitleWithTextBox","AddIcon","AppBarTitleAddSearch","title","LeftIcon","hideSearch","onAdd","addLabel","childHasTextBox","onAvatarClick","AppBar","Toolbar","startIcon","IconButton","PropTypes","elementType","isRequired","string","AlertDialog","open","setOpen","handleClose","Fragment","handleClickOpen","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","handleOk","autoFocus","_ref4","Save","_ref5","Delete","_ref6","Close","_ref7","InputAdornment","_ref8","_ref9","_ref10","_ref11","_ref12","alt","CatalogItemEdit","imageIsConfig","imageId","rgbData","metaUpload","fileName","setItemEdit","setUpLoadImage","setUpLoadImageMetadata","setWillFitWidth","setColorRgb","setColorRgbOther","unitPrice","setUnitPrice","onValueChange","onValueChangeSale","sale","enabled","price","colorRgbValue","rootContainer","Paper","paperEntryContainer","editContainer","TextField","FormControlLabel","control","Switch","checked","newStatus","mfrName","InputProps","startAdornment","extraDesc","multiline","maxRows","description","Checkbox","border","categoryRef","itemCategory","itemCat","key","onAddCategory","onRemoveCategory","type","files","reader","FileReader","onload","e","readAsDataURL","uploadResult","PicRatioFill","onChangeColors","colorRgbOpposite","picBorderHeight","zIndex","picBorderWidth","imageBoxHeight","overflow","imageBoxWidth","fixHeight","fixWidth","transform","textContainer","Chip","Avatar","LibraryBooks","iconRight","closeButtonTopOffset","textDisplay","itemContainer","paddingTop","paddingBottom","MenuItem","SelectSearchComponent","maxOptions","maxArrayLength","optionActiveRef","createRef","showFullList","showDropDown","searchString","filteredPageOptions","options","slice","filteredAllOptions","hasFocusOptionList","hasFocusTextBox","selectedIndex","anchorEl","searchSelectedItem","item","keyField","displayField","onShowDropDown","currentTarget","hideDropDown","onKeyPress","keyCode","onItemSelect","optionContainerRef","scrollTo","offsetTop","scrollTop","filtered","onSetAnchor","ref","valueDisplay","getValueDisplay","isShowDropDown","Boolean","FormControl","ClickAwayListener","onClickAway","InputLabel","htmlFor","onKeyDown","endAdornment","Search","ArrowDropUp","cursor","ArrowDropDown","Popper","disablePortal","TransitionProps","placement","Grow","transformOrigin","MenuList","topControl","noOptionsMessage","maxHeight","SelectSearch","flexGrow","text","secondary","SpinnerDownloading","spinnerWrapper","fabProgress","left","spinnerSize","loading","LoadingIcon","CircularProgress","size","CategorySelect","setSelected","modList","PopupError","onClearErrorMessage","showPopup","statusColor","StatusIcon","Warning","PriorityHigh","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","elevation","ThreeSixty","ArrowBack","ArrowForward","CatalogCard","_catalog$sale","inEdit","onSetStatus","disableEdit","isSaving","showSortArrows","onOrderChange","prevCatalog","nextCatalog","widthCalc","heightPicCalc","calcCardSize","contWidth","cardWidth","setCardWidth","resizeWidth","res","useCardSize","widthValue","heightValue","isInCategory","inCategoryEdit","card","catPrice","aria-label","buttonLeft","catSale","PicRatioView","buttonRight","CardHeader","subheader","cardTitle","cardSubheader","content","cardRoot","whiteSpace","textOverflow","buttonUp","buttonDown","bottom","Divider","gutterBottom","catalogListComponent","flexWrap","container","noCatalogList","CatalogList","itemsToLoad","setItemsToLoad","tmrRef","nextIsInCategory","CatalogItemIcon","DataUsage","AccordionDetails","MuiAccordionDetails","AccordionSummary","borderBottom","expanded","MuiAccordionSummary","ExpandMoreIcon","Edit","CatalogTable","_site$salesBackground","_site$salesFontColor","setCategorySelected","editSalesTextStyle","setEditSalesTextStyle","setShowSortArrows","dataPath","salesBackgroundRgbValue","salesFontRgbValue","Accordion","accordion","expandIcon","categoryTitle","HuePicker","r","g","onChangeComplete","rgb","CompactPicker","scrollContainer","totals","expandCategory","timeout","emptyCat","hidden","reorderButton","stopPropagation","containerEdit","editControl","gridList","gridListBottom","gridListTile","accordionDetails","fontWeight","HomeMain","PrivateRoute","permission","rest","calcHasFeature","calcHasAuth","pathname","from","ListItemIcon","CategoryItemEdit","deleteCategoey","itemChanged","setItemChanged","ListItem","ListItemText","edge","edgeEnd","edgeEndChange","systemOnly","formControl","Select","CategoryTable","Grid","xs","md","CategoryMaintenance","OpenWith","calcHour","hours","prevDay","dayRef","dayOptions","dayOption","dayRefPrev","short","LocationHoursEdit","hoursFull","save","viewHours","setViewHours","startingHours","findHour","stHour","changeValue","arrayIndex","fieldValue","newValue","hour","role","dense","button","tabIndex","disableRipple","vh","AccessTime","LocationHours","prevHour","prevResult","hourIn","hoursToView","Modal","modalPaper","newList","overflowX","overflowY","HomeTwoTone","LocationItemEdit","deleteLocation","setChange","onChangeAddress","address","locationName","address1","address2","city","zipCode","phonePublic","mapLink","LocationTable","LocationMaintenance","catalogExportFields","catalogTableConfig","itemsPerPage","defaultSort","sortDescending","columns","fieldForSort","columnLabel","catalogSelectOptions","TableChart","CatalogSearchMain","catalogFiltered","setCatalogFiltered","setFilterOptions","filterOptions","fieldRef","filterContainer","optionLabel","filterItemContainer","optionRef","optionContainer","onFilterOptionToggle","optionValue","isSelected","newFilterOptions","filterSets","newCatalogFiltered","isIncluded","catalogValue","TablePaging","headerConfig","worksheet","utils","aoa_to_sheet","new_workbook","book_new","book_append_sheet","XLSX","writeFile","flexFlow","CartesianGrid","strokeDasharray","YAxis","Tooltip","Bar","dataKey","fill","minPointSize","LabelList","angle","HitReportMain","BarChart","XAxis","dy","dx","offset","Legend","wrapperStyle","SalesByNameMain","titleCount","dataLoaded","setSearchText","filterTable","setFilterTable","setLocation","searchButtonRoot","onKeyUp","ButtonGroup","filterRoot","searchLabel","divider","orientation","filterText","paddingRight","row","columnConfig","onRowClick","runDate","_seconds","toDateString","SalesHistMain","RouteComponent","showAlert","alertStatus","tokenLoading","tokenLoaded","onCloseAlert","componentDidMount","checkSize","getToken","getAccessTokenSilently","auth0","accessToken","LoginRoute","MenuNav","HashRouter","withAuth0","muiTheme","createMuiTheme","typography","useNextVariants","textColor","grey","A700","idle","yellow","Auth0Provider","clientId","audience","redirectUri","scope","MuiThemeProvider","RouteConfig","document","querySelector","userStore","loadingAuth","userNotAuthorized","faceLoginMessage","passwordMessage","confirmPasswordMessage","profileLoading","onSetAccount","loginInfo"],"mappings":"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","file":"app.fa482862.js","sourcesContent":["import {withStyles} from \"@material-ui/styles\";\r\nlet routeComponent = null;\r\nlet handleUnauthorized = null;\r\n\r\nexport const createFilterOptions = (fieldList, dataList)=> {\r\n    //<summary>Search through the dataList to get a list of values that are used\r\n    // in the array.  Life if there is a field manufacturer, it would return\r\n    // the list of manufactures that are in the list</summary>\r\n    //fieldList is an array of configs like so :{ fieldName: \"mfrName\", columnLabel: \"MFR\" }\r\n    //dataList is an array of object to extract value from as defined by the field list\r\n    const filterOption = { fieldList, items: {} };\r\n    const keyRef = {};\r\n    if(Array.isArray(fieldList) && Array.isArray(dataList)) {\r\n        dataList.forEach((dataItem) => {\r\n            fieldList.forEach((fieldConfig)=> {\r\n                const fieldName = fieldConfig.fieldName;\r\n                if(keyRef[fieldName] === undefined)\r\n                    keyRef[fieldName] = [];\r\n                if(filterOption[fieldName] === undefined)\r\n                    filterOption[fieldName] = [];\r\n\r\n                const targetValue = getItemPropertyValue(dataItem, fieldName);\r\n                if(keyRef[fieldName].indexOf(targetValue) === -1) {\r\n                    keyRef[fieldName].push(targetValue);\r\n                    filterOption[fieldName].push({option: targetValue, selected: false});\r\n                }\r\n                filterOption[fieldName].sort((a,b)=> a.option < b.option ? -1 : 1);\r\n            });\r\n        })\r\n    }\r\n\r\n    return filterOption;\r\n}\r\n\r\nexport const convertToSheetArray = (targetObject, columnFields) => {\r\n    const result = [];\r\n    try {\r\n        if (Array.isArray(targetObject)) {\r\n            result.push(columnFields);\r\n            targetObject.forEach((targetItem) => {\r\n                const oneRow = [];\r\n                columnFields.forEach((targetField)=> {\r\n                    const cellValue = getItemPropertyValue(targetItem, targetField);\r\n                    oneRow.push(cellValue);\r\n                });\r\n                result.push(oneRow);\r\n            })\r\n        }\r\n    } catch (ex) {\r\n\r\n    }\r\n    return result;\r\n};\r\n\r\nexport const setUnauthorizedHandler = (handler) => {\r\n    if(typeof(handler) === \"function\") {\r\n        handleUnauthorized = handler;\r\n    }\r\n};\r\n\r\nexport const setRouteComponent = (component) => routeComponent = component;\r\n\r\nexport const connectArray = (component, arrayOfModels, styles = null) => {\r\n    const intermediateComponents = [];\r\n    const startComponent = styles !== null ?\r\n        withStyles(styles)(component) : component;\r\n\r\n    arrayOfModels.forEach((model, index) => {\r\n        if(index === 0) {\r\n            const newItem = (params) => model.connect(startComponent, params);\r\n            intermediateComponents.push(newItem);\r\n        } else {\r\n            const newItem = (params) => model.connect(intermediateComponents[index - 1], params);\r\n            intermediateComponents.push(newItem);\r\n        }\r\n    });\r\n\r\n    return intermediateComponents[intermediateComponents.length - 1];\r\n};\r\n\r\nexport const inTable = (onClickFunc) => {\r\n    return (event, target) => {\r\n        event.stopPropagation();\r\n        onClickFunc(event, target);\r\n    };\r\n};\r\n\r\nexport const getItemPropertyValue = function (targetObject, fieldName) {\r\n    let propValue = targetObject || \"\";\r\n\r\n    if(typeof(fieldName) === 'function')\r\n        propValue = fieldName(targetObject);\r\n    else if(fieldName !== \"\") {\r\n        const childFields = fieldName && fieldName.split('.') || [];\r\n        //get to the property value by iterating through the object structure\r\n        childFields.forEach((childField) => {\r\n            propValue = propValue && propValue[childField];\r\n        });\r\n    }\r\n\r\n    return propValue;\r\n};\r\n\r\nexport const filterOutExistingByField = (fullList, existingList, fieldNameFull, fieldNameExisting) => {\r\n    ///<summary>calculate remaining Ids.  Provide list of Ids and Object that has key field</summary>\r\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\r\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\r\n    return Array.isArray(fullList) && fullList.filter(function (el) {\r\n        const startValue = getItemPropertyValue(el, fieldNameFull);\r\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\r\n            const existingField = fieldNameExisting || fieldNameExisting === \"\" ? fieldNameExisting : fieldNameFull;\r\n            const existingValue = getItemPropertyValue(existingList[iExisting], existingField);\r\n            if (startValue === existingValue)\r\n                return false;\r\n        }\r\n        return true;\r\n    }) || [];\r\n};\r\n\r\nexport const filterOutExistingByArrayId = (fullList, existingList, fieldNameFull) => {\r\n    ///<summary>calculate remaining Ids.  Provide list of Ids to exclude</summary>\r\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\r\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\r\n    return Array.isArray(fullList) && fullList.filter(function (el) {\r\n        const startValue = getItemPropertyValue(el, fieldNameFull);\r\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\r\n            const existingValue = existingList[iExisting];\r\n            if (startValue === existingValue)\r\n                return false;\r\n        }\r\n        return true;\r\n    }) || [];\r\n};\r\n\r\nexport function shuffleArray(array) {\r\n    let currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n\r\n    return array;\r\n}\r\n\r\nexport const showError = (errorMessage) => {\r\n    routeComponent.setState({errorMessage});\r\n};\r\n\r\nclass CustomError extends Error {\r\n    constructor(messageResponse, ...params) {\r\n        // Pass remaining arguments (including vendor specific ones) to parent constructor\r\n        super(...params)\r\n\r\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, CustomError)\r\n        }\r\n        // Custom debugging information\r\n        this.messageResponse = messageResponse;\r\n    }\r\n}\r\n\r\nexport const handleResponse = () => {\r\n    return async function(response) {\r\n        if(response.ok) {\r\n            return response.json();\r\n        }\r\n        if(response.status === 401) {\r\n            routeComponent.setState({errorMessage: \"Unauthorized\"});\r\n            if(handleUnauthorized)\r\n                handleUnauthorized();\r\n        }\r\n\r\n        const messageResponse = await response.json();\r\n        throw new CustomError(messageResponse, response.status);\r\n    };\r\n};\r\n\r\nexport const  b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\r\n    const byteCharacters = atob(b64Data);\r\n    const byteArrays = [];\r\n\r\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n        const slice = byteCharacters.slice(offset, offset + sliceSize)\r\n\r\n        const byteNumbers = new Array(slice.length);\r\n        for (let i = 0; i < slice.length; i++) {\r\n            byteNumbers[i] = slice.charCodeAt(i)\r\n        }\r\n\r\n        const byteArray = new Uint8Array(byteNumbers);\r\n        byteArrays.push(byteArray)\r\n    }\r\n\r\n    return new Blob(byteArrays, { type: contentType })\r\n};\r\n\r\nexport const toCurrency = (theNumber) => {\r\n    return parseFloat(theNumber).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n};\r\n","import React from \"react\";\r\nimport { Card, CardContent,\r\n    CardActions, Button } from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport { Input as LoginIcon } from '@material-ui/icons';\r\nimport accountModel from \"../../models/accounts/accountModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport const LogInComponent = ({}) => {\r\n    const classes = useStyles();\r\n    const { loginWithRedirect, isAuthenticated } = useAuth0();\r\n    // noinspection HtmlUnknownTarget\r\n    return (\r\n        isAuthenticated ?\r\n        <Redirect push={true} to=\"/\" /> :\r\n        <form id=\"logon-submit\"\r\n              action=\"/login/google/source\"\r\n              className={classes.mainContainer}>\r\n            <Card style={{display: \"flex\"}}>\r\n                <div className={classes.outerCard}>\r\n                    <CardContent className={classes.cardContainer}>\r\n                        <img src={\"retail-shop-flat-icon_small.png\"}\r\n                             className={classes.logo}/>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                className={classes.actionButton}\r\n                                onClick={() => {\r\n                                    loginWithRedirect(\r\n                                        {returnTo: `${window.location.origin}/#/`}\r\n                                    );\r\n                                }}\r\n                        >\r\n                            <LoginIcon style={{marginRight: 10}}/> Login\r\n                        </Button>\r\n\r\n                    </CardActions>\r\n                </div>\r\n            </Card>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\r\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\r\n    cardContainer: {minHeight: 170,minWidth:240, textAlign:'center'},\r\n    logo: {width: 250, margin: \"auto\"},\r\n    actionButton: {width: \"100%\", margin:\"10px\"},\r\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\r\n    iconSpacing: { marginRight: 12},\r\n    outerCard: {margin: \"45px auto\"},\r\n    cardActionsContainer:{display:'flex', flexDirection: 'column'}\r\n});\r\n\r\nexport const LogIn = connectArray(LogInComponent, [accountModel]);\r\n","import React from 'react';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport { LogIn } from \"../desktop/accounts/LoginStart\";\r\n//this module is used to get a backdoor to the react router history object.\r\n//did not want ot pass history object all the way through to utility modules\r\nconst historyModel = {\r\n    loaded: false,\r\n    history: null\r\n};\r\n\r\nconst LoginRouteComponent = ({history}) => {\r\n    setHistory(history);\r\n    return (\r\n        <Route exact path=\"/login\" component={LogIn} />\r\n    );\r\n};\r\n\r\nconst setHistory = (history) => {\r\n    historyModel.history = history;\r\n    historyModel.loaded = true;\r\n};\r\n\r\nexport const getHistory = () => {\r\n    return historyModel;\r\n};\r\n\r\nexport const navigate = (location) => {\r\n    window.location.href = location;\r\n};\r\n\r\n// noinspection JSCheckFunctionSignatures\r\nexport const getLoginRoute = () => withRouter(LoginRouteComponent);","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getUserProfile = async (userId) => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/users/${userId}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                userProfile: result,\r\n                userProfileLoading: false,\r\n                userProfileLoadHasError: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                userProfile: null,\r\n                userProfileLoading: false,\r\n                userProfileLoadError: error.message || error,\r\n                userProfileLoadHasError: true\r\n            };\r\n        });\r\n};","import {getUserProfile} from \"./userMessages\";\r\n\r\nconst userAuthData = {\r\n    token: localStorage.getItem('token'),\r\n    name: localStorage.getItem('name') || \"\",\r\n    picUrl: localStorage.getItem('picUrl') || \"\",\r\n    email: localStorage.getItem('email') || \"\",\r\n    expiresOn: localStorage.getItem('expiresOn') || \"\",\r\n    featurePermissions: [1],\r\n    userDomain: localStorage.getItem('userDomain') || \"\",\r\n    catalogApi: process.env.CATALOG_API\r\n};\r\n\r\nexport const hasToken = () => !!userAuthData.token;\r\n\r\nconst setLogOutTimer = (expiresOn) => {\r\n    const {navigate} = require(\"../../route/history\");\r\n    clearLogOutTimer();\r\n    //time out 60 seconds before token expires\r\n    const msToTimeOut = (expiresOn * 1000 ) - new Date() - 60000;\r\n\r\n    if(msToTimeOut > 30) {\r\n        userAuthData.logOutTimer = setTimeout(\r\n            () => navigate(\"#/logout\"),\r\n            msToTimeOut\r\n        );\r\n    } else if (expiresOn > 0) {\r\n        navigate(\"#/logout\");\r\n    }\r\n};\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const readToken = (token) => {\r\n    const split = token && token.split('.');\r\n    if(split && split.length > 0) {\r\n        const base64Url = token.split('.')[1];\r\n        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n        return JSON.parse(window.atob(base64));\r\n    }\r\n    else\r\n        return {};\r\n};\r\n\r\ntry {\r\n    const stringFeatures = localStorage.getItem('featurePermissions');\r\n    userAuthData.featurePermissions = stringFeatures ? JSON.parse(stringFeatures) : [];\r\n\r\n    if(userAuthData.token) {\r\n        const tokenData = readToken(userAuthData.token);\r\n        localStorage.setItem('expiresOn', tokenData.exp);\r\n        userAuthData.expiresOn = tokenData.exp;\r\n\r\n        setLogOutTimer(tokenData.exp);\r\n        console.log(\"token from local storage\");\r\n    }\r\n} catch (ex) {\r\n    userAuthData.featurePermissions = [];\r\n}\r\n\r\nexport const setTokenValue = (token) => {\r\n    localStorage.setItem('token', token);\r\n    userAuthData.token = token;\r\n    const tokenData = readToken(token);\r\n\r\n    setLogOutTimer(tokenData.exp);\r\n};\r\n\r\nexport const initAuthStore = ()=> {\r\n    setLogOutTimer(userAuthData.expiresOn);\r\n};\r\n\r\n\r\n\r\nconst clearLogOutTimer = () => {\r\n    if(userAuthData.logOutTimer > -1) {\r\n        clearTimeout(userAuthData.logOutTimer);\r\n        userAuthData.logOutTimer = -1;\r\n    }\r\n};\r\n\r\nexport const isLoggedIn = () => userAuthData.token && true;\r\n\r\nexport const getStore = () => {\r\n\r\n    return userAuthData;\r\n};\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const getFullName = () =>\r\n    userAuthData.name;\r\n\r\nexport const hasFeature = (featureId) => {\r\n    //console.log(\"---- token hasFeature ----\");\r\n    //console.log(userAuthData.token);\r\n    return userAuthData.featurePermissions.indexOf(featureId) > -1 || true;\r\n};\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const getAuthHeaderValue = () => {\r\n    return userAuthData.token !== null ? `bearer ${userAuthData.token}` : \"\";\r\n};\r\n\r\nexport const setUserData = async ({name, picture, email, sub}) => {\r\n    userAuthData.featurePermissions = [1];\r\n    //localStorage.setItem('token', token);\r\n    const domain = await getUserDomain(sub);\r\n    localStorage.setItem('name', name);\r\n    localStorage.setItem('email', email);\r\n    localStorage.setItem('picUrl', picture);\r\n    localStorage.setItem('userDomain', domain);\r\n    localStorage.setItem('featurePermissions',\r\n        JSON.stringify(userAuthData.featurePermissions));\r\n\r\n    userAuthData.name = name;\r\n    userAuthData.email = email;\r\n    userAuthData.picUrl = picture;\r\n    userAuthData.userDomain = domain;\r\n    userAuthData.featurePermissions = [1];\r\n\r\n    return userAuthData;\r\n};\r\n\r\nexport const clearToken = () => {\r\n    //userAuthData.name = null;\r\n    //userAuthData.email = null;\r\n    //userAuthData.picUrl = null;\r\n    userAuthData.featurePermissions = [];\r\n    //localStorage.removeItem('name');\r\n    //localStorage.removeItem('email');\r\n    localStorage.removeItem('featurePermissions');\r\n    localStorage.removeItem('userDomain');\r\n    localStorage.removeItem(\"expiresOn\");\r\n    //localStorage.removeItem('picUrl');\r\n};\r\n\r\nexport const getUserDomain = async (userId) => {\r\n    const {userProfile} = await getUserProfile(userId);\r\n    console.log(\"userProfile\");\r\n    console.log(userProfile);\r\n    // noinspection JSUnresolvedVariable\r\n    return userProfile && userProfile.app_metadata\r\n        && userProfile.app_metadata.retailDomain;//\"darbyfurnitureoutlet.com\";\r\n};\r\n","import React from \"react\";\r\n\r\nexport const createContext = (createModel, getInitialState) => {\r\n    const ModelContext = React.createContext(createModel());\r\n\r\n    class ModelProvider extends React.Component {\r\n        /** @param props.match.params.testMode */\r\n        constructor(props) {\r\n            super(props);\r\n            const testMode = props && props.match && props.match.params && props.match.params.testMode\r\n                                && props.match.params.testMode.indexOf(\"testMode\") > -1 && props.match.params.testMode;\r\n            this.state = getInitialState(this, testMode || \"\");\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <ModelContext.Provider value={this.state}>\r\n                    {this.props.children}\r\n                </ModelContext.Provider>\r\n            )\r\n        }\r\n    }\r\n\r\n    const connect =(UserComponent, componentProps) => {\r\n        return (\r\n            <ModelContext.Consumer>\r\n                {(vm) => (\r\n                    <UserComponent {...vm} {...componentProps} />\r\n                )}\r\n            </ModelContext.Consumer>\r\n        );\r\n    };\r\n\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    return { ModelContext, ModelProvider, connect };\r\n};","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const saveCatalogStatus = async (status, id)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/${status}/${id}`;\r\n    const payloadGeneric = {\r\n        method: \"PATCH\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                success: true,\r\n                saveCatalogStatusResult: result,\r\n                catalogStatusLoading: false,\r\n                catalogListLoadError: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                catalogStatusLoading: false,\r\n                catalogListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteCatalog = async (catalog) => {\r\n    const result = await deleteCatalogRecord(catalog._id);\r\n    catalog.images.forEach((file) => deleteFile(file.id));\r\n    return result;\r\n};\r\n\r\nconst deleteCatalogRecord = (catalogId) => {\r\n    ///catalogApi/api/v1/catalog/5f166166312ef8249c6a5b57\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/${catalogId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            /* result\r\n            {\r\n                \"deletedCount\": 1\r\n            }\r\n            */\r\n            return {\r\n                deleteCatalogResult: result,\r\n                catalogListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteCatalogResult: false,\r\n                catalogListLoading: false,\r\n                deleteCatalogResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteFile = (fileId)=> {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/file/${fileId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            console.log(\"DELETE file result\");\r\n            console.log(result);\r\n            return {\r\n                deleteImageResult: result\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteImageResult: false,\r\n                deleteImageResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const uploadImage = async (fileToUpload, imageWidth) => {\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"myFile\", fileToUpload);\r\n\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/file/${imageWidth}`;// 800 and 500\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            //\"Content-Type\": \"multipart/form-data;\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: formData\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                uploadImageResult: result,\r\n                imageUploading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                uploadImageResult: false,\r\n                imageUploading: false,\r\n                uploadImageResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveCatalog = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/catalog`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveCatalogResult: result,\r\n                activeCatalogItem: itemToSave,\r\n                catalogListLoading: false,\r\n                catalogListLoadError: false\r\n            }\r\n        }).catch((errorResult) => {\r\n\r\n            return {\r\n                catalogListLoading: false,\r\n                catalogListLoadError:\r\n                    errorResult.messageResponse ||\r\n                    (errorResult.status && errorResult.status.message)\r\n                    || errorResult\r\n            };\r\n        });\r\n};\r\n\r\nexport const getNewCatalog = () => {\r\n    ///catalogapi/api/v1/catalog/new/darbyfurnitureoutlet.com\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/new/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                activeCatalogItem: result,\r\n                catalogListLoading: false,\r\n                catalogListLoadError: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                activeCatalogItem: null,\r\n                catalogListLoading: false,\r\n                catalogListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const getCatalogList = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n\r\n    if(!userDomain) {\r\n        return {\r\n            catalogList: [],\r\n            catalogListLoading: false,\r\n            catalogListLoadHasError: true,\r\n            catalogListLoadError: \"\"\r\n        };\r\n    } else {\r\n        const url = `${catalogApi}/catalogApi/api/v1/catalog/domain/${userDomain}`;\r\n        const payloadGeneric = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json; charset=utf-8\",\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        };\r\n\r\n        return fetch(url, payloadGeneric)\r\n            .then(handleResponse()).then((result) => {\r\n\r\n                return {\r\n                    catalogList: result,\r\n                    catalogListLoading: false,\r\n                    catalogListLoadHasError: false,\r\n                    catalogListLoadError: false\r\n                }\r\n            }).catch(() => { //error\r\n                debugger;\r\n                return {\r\n                    catalogList: [],\r\n                    catalogListLoading: false,\r\n                    catalogListLoadHasError: true,\r\n                    catalogListLoadError: \"\"//error.message || error\r\n                };\r\n            });\r\n    }\r\n};","\r\nexport const sortCatalog = (catalogList, categoryId)=> {\r\n    const calc = [...catalogList];\r\n    calc.sort((a, b) => {\r\n        const aHasCategory = a.categories && a.categories.length > 0;\r\n        const bHasCategory = b.categories && b.categories.length > 0;\r\n        const filterA = aHasCategory ? a.categories.filter((aItem) =>\r\n            aItem._id === categoryId ) : [];\r\n\r\n        const filterB = bHasCategory ? b.categories.filter((bItem) =>\r\n            bItem._id === categoryId ) : [];\r\n\r\n\r\n        if(filterA.length > 0 && filterB.length > 0) {\r\n            return filterA[0].sort - filterB[0].sort;\r\n        }\r\n        else if (filterA.length > 0)\r\n            return -1;\r\n        else\r\n            return 1;\r\n    });\r\n    //console.log('catalogList sort', calc);\r\n    return calc;\r\n};\r\nexport const filterCatalog = (catalogListSorted, categoryId)=> {\r\n    const calc = [...catalogListSorted];\r\n    const filterCatalogIn =[];\r\n    const filterCatalogOut=[];\r\n    calc.forEach((a) => {\r\n        \r\n        const filterA = catalogListSorted ? a.categories.filter((aItem) =>\r\n            aItem._id === categoryId ) : [];\r\n\r\n        if (filterA.length > 0)\r\n            filterCatalogIn.push(a);\r\n        else\r\n           filterCatalogOut.push(a);\r\n    });\r\n    return {filterCatalogIn,filterCatalogOut} ;\r\n};\r\nexport const getCatalogTotals = (catalogListSorted, arrayCategory)=> {\r\n    const calc = [...catalogListSorted];\r\n\r\n    const totalCategory = []\r\n    arrayCategory.forEach((category)=> {\r\n        let activeTotal=0;\r\n        let disabledTotal=0;\r\n        calc.forEach((a, index) => {\r\n\r\n            const filterA = catalogListSorted ? a.categories.filter((aItem) =>\r\n                aItem._id === category._id) : [];\r\n\r\n            if (filterA.length > 0)\r\n                (a.status==='active'?activeTotal++:disabledTotal++)\r\n            if(index === catalogListSorted.length-1) {\r\n                const stats = {activeTotal, disabledTotal, _id:category._id}\r\n                totalCategory.push(stats)\r\n            }\r\n\r\n        });\r\n    })\r\n    return totalCategory;\r\n};\r\n\r\n\r\nexport const filterCatalogNoCategory = (catalogListSorted)=> {\r\n    const calc = [...catalogListSorted];\r\n    const filterNoCatalog =[];\r\n    calc.forEach((a) => {\r\n        const filterA = a.categories.length ===0;\r\n        if (filterA)\r\n            filterNoCatalog.push(a);\r\n    });\r\n\r\n    return filterNoCatalog;\r\n};\r\n\r\n\r\nexport const swapOrder = (catalog, category, swapCatalog) => {\r\n    const target = {...catalog};\r\n    const swap = {...swapCatalog};\r\n    const targetCategory = target.categories.filter(\r\n        (cate)=> cate._id === category._id);\r\n    const swapCategory = swap.categories.filter(\r\n        (cate)=> cate._id === category._id);\r\n\r\n    if(targetCategory.length > 0 && swapCategory.length > 0) {\r\n        const newTarget = swapCategory[0].sort;\r\n        swapCategory[0].sort = targetCategory[0].sort;\r\n        targetCategory[0].sort = newTarget;\r\n    }\r\n    return {target, swap};\r\n};\r\n\r\nexport const getNextSortInCategory = (categoryId, catalogList) => {\r\n    let maxSort = 0;\r\n    catalogList.forEach((catalog) => {\r\n        catalog.categories.forEach((inCategory)=> {\r\n            if(inCategory._id === categoryId && inCategory.sort > maxSort)\r\n                maxSort = inCategory.sort;\r\n        });\r\n    });\r\n    return maxSort + 1;\r\n};","import {createContext} from \"../../utility/modelContext\";\r\nimport {saveCatalog, uploadImage, deleteFile, saveCatalogStatus,\r\n    getNewCatalog, deleteCatalog, getCatalogList} from \"./catalogMessage\";\r\nimport {sortCatalog, swapOrder, filterCatalog,\r\n    filterCatalogNoCategory,getCatalogTotals, getNextSortInCategory} from \"./catalogHelper\";\r\nimport {showError} from \"../../utility/helpers\";\r\n\r\nlet provider = null;\r\n\r\nexport const createModel = () => ({\r\n    activeCatalogItem: null,\r\n    catalogList: [],\r\n    catalogListFiltered: [],\r\n    catalogListOutCategory:[],\r\n    catalogListNoCategory:[],\r\n    catalogTotals:[],\r\n\r\n\r\n    catalogListLoading: false,\r\n    catalogListLoadError: false,\r\n    savingCatalogSort: false,\r\n    catalogListInit: false,\r\n    catalogStatusLoading:false,\r\n    categorySelected: null,\r\n    catalogSearchText: \"\",\r\n    imageUploading: false,\r\n    onCatalogListInit,\r\n    onSetActiveCatalogItem,\r\n    onSaveCatalogItem,\r\n    onUploadImage,\r\n    onCreateNewCatalog,\r\n    onDeleteCatalog,\r\n    onSetCatalogStatus,\r\n    onAddCategoryToCatalog,\r\n    onRemoveCategoryFromCatalog,\r\n    onCategorySelectChange,\r\n    onCatalogOrderChange,\r\n    onCatalogSearch,\r\n    onClearCatalogError,\r\n    onSetCatalogTotals,\r\n    getCatalogCategorySort\r\n});\r\n\r\nconst onClearCatalogError = ()=>{\r\n    provider.setState({catalogListLoadError: false});\r\n};\r\n\r\nconst getCatalogCategorySort = (categoryId) => {\r\n    const {catalogList} = provider.state;\r\n    return getNextSortInCategory(categoryId, catalogList);\r\n};\r\n\r\nconst onCatalogSearch = (catalogSearchText) => {\r\n    const searchText = catalogSearchText.toLowerCase();\r\n    const catalogListFilteredTemp = provider.state\r\n        .catalogList.filter((cat) =>\r\n            cat.shortDesc.toLowerCase().indexOf(searchText) > -1 ||\r\n            cat.modelNumber.toLowerCase().indexOf(searchText) > -1\r\n        );\r\n    const catalogListFiltered = sortCatalog(catalogListFilteredTemp,\r\n        provider.state.categorySelected &&\r\n        provider.state.categorySelected._id);\r\n\r\n    provider.setState({catalogSearchText, catalogListFiltered});\r\n};\r\n\r\nconst onCatalogOrderChange = async (catalog, category, swapCatalog) => {\r\n    try {\r\n        provider.setState({savingCatalogSort: true});\r\n        const {target, swap} = swapOrder(catalog,category, swapCatalog);\r\n\r\n        await commonSaveCatalogItem(target, false);\r\n        await commonSaveCatalogItem(swap, false);\r\n    } catch (ex) {\r\n\r\n    }\r\n    provider.setState({savingCatalogSort: false});\r\n};\r\n\r\n//category select drop down\r\nconst onCategorySelectChange = (categorySelected) => {\r\n    const result = setCategorySelectedCommon(categorySelected,\r\n        provider.state.catalogList);\r\n    provider.setState(result);\r\n};\r\n\r\nconst setCategorySelectedCommon = (categorySelected, catalogList) => {\r\n    const catalogListSorted = sortCatalog(catalogList,\r\n        categorySelected._id);\r\n\r\n    const {filterCatalogIn,filterCatalogOut } = filterCatalog(catalogListSorted,categorySelected._id );\r\n    const catalogListNoCategory = filterCatalogNoCategory(catalogListSorted);\r\n\r\n    return {\r\n        catalogListFiltered:filterCatalogIn,\r\n        catalogListOutCategory:filterCatalogOut,\r\n        categorySelected,\r\n        catalogListNoCategory\r\n    };\r\n};\r\n\r\nconst onAddCategoryToCatalog = async ({catalog, category}) => {\r\n    let maxSort = 1;\r\n\r\n    provider.state.catalogList.forEach((cat) => {\r\n        const searchCate = cat.categories.filter((cate)=> {\r\n            return cate._id === category._id;\r\n        });\r\n        if(searchCate.length > 0 && searchCate[0].sort > maxSort)\r\n            maxSort = searchCate[0].sort;\r\n    });\r\n\r\n    provider.setState({\r\n            \"catalogStatusLoading\": catalog._id,\r\n            \"catalogListLoading\": true\r\n        });\r\n\r\n    const newCatalog = {...catalog,\r\n        categories : [\r\n            {...category, sort: (maxSort + 1)},\r\n            ...catalog.categories]\r\n    };\r\n\r\n    await commonSaveCatalogItem(newCatalog, false);\r\n};\r\n\r\nconst onRemoveCategoryFromCatalog = async ({catalog, categoryId}) => {\r\n    provider.setState(\r\n        {\"catalogStatusLoading\": catalog._id,\r\n        catalogListLoading: true});\r\n    const categories = catalog.categories.filter(\r\n        (cat) => cat._id !== categoryId);\r\n    const newCatalog = {...catalog, categories};\r\n    await commonSaveCatalogItem(newCatalog, false);\r\n};\r\n\r\nconst onSetCatalogStatus = async (status, id) => {\r\n    provider.setState({\"catalogStatusLoading\": id, activeCatalogItem: null});\r\n\r\n    const {saveCatalogStatusResult, catalogListLoadError,\r\n        success} = await saveCatalogStatus(status, id);\r\n    // noinspection JSUnresolvedVariable\r\n    if(success && saveCatalogStatusResult.modifiedCount > 0) {\r\n        const catalogList = provider.state.catalogList\r\n            .map((catalog)=> {\r\n                if(catalog._id === id) {\r\n                    return {...catalog, status};\r\n                } else\r\n                    return catalog;\r\n            });\r\n        //change here\r\n        const {\r\n            catalogListFiltered,\r\n            catalogListOutCategory,\r\n            categorySelected,\r\n            catalogListNoCategory} =\r\n            setCategorySelectedCommon(provider.state.categorySelected,\r\n                catalogList);\r\n\r\n        provider.setState({\r\n            catalogList,\r\n            catalogListFiltered,\r\n            catalogListOutCategory,\r\n            categorySelected,\r\n            catalogStatusLoading: false,\r\n            catalogListLoadError,\r\n            catalogListNoCategory\r\n        });\r\n    } else\r\n        provider.setState({\"catalogStatusLoading\": false, catalogListLoadError});\r\n};\r\n\r\nconst onDeleteCatalog = async (catalog) => {\r\n    provider.setState({catalogListLoading: true});\r\n    const result = await deleteCatalog(catalog);\r\n\r\n    result.catalogList = provider.state.catalogList.filter(\r\n        (cat) => cat._id !== catalog._id\r\n    );\r\n    result.catalogListFiltered = sortCatalog(result.catalogList,\r\n        provider.state.categorySelected &&\r\n        provider.state.categorySelected._id);\r\n    result.activeCatalogItem = null;\r\n    provider.setState(result);\r\n};\r\n\r\nconst onUploadImage = async (imageToSave, oldFileId) => {\r\n    provider.setState({imageUploading: true});\r\n    if(oldFileId)\r\n        await deleteFile(oldFileId);\r\n    const result = await uploadImage(imageToSave, 540); //800\r\n    provider.setState({imageUploading: false});\r\n    return result;\r\n};\r\n\r\nconst onCreateNewCatalog = async ()=> {\r\n    provider.setState({catalogListInit: true});\r\n    const result = await getNewCatalog();\r\n    provider.setState(result);\r\n};\r\n\r\nconst onSaveCatalogItem = async (itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther) => {\r\n\r\n    if(uploadImageMetadata && uploadImageMetadata.id &&\r\n        uploadImageMetadata.id.length > 0 ) {\r\n        provider.setState({catalogListLoading: true});\r\n        const fileShowing = {...uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther};\r\n        const search = itemEdit.images && itemEdit.images.find((im) => im.id === fileShowing.id);\r\n        const images = itemEdit.images && itemEdit.images.length > 1 && search ?\r\n            itemEdit.images.map((im) => {\r\n                return im.id === fileShowing.id ? fileShowing : im;\r\n            }) : [fileShowing];\r\n\r\n        const activeCatalogItem = {...itemEdit, images};\r\n        await commonSaveCatalogItem(activeCatalogItem);\r\n    } else {\r\n        showError(\"Select a picture before saving\");\r\n    }\r\n};\r\n\r\nconst commonSaveCatalogItem = async (activeCatalogItem, setActiveItem = true) => {\r\n    const result = await saveCatalog(activeCatalogItem);\r\n\r\n    if(result.catalogListLoadError === false) {\r\n        // noinspection JSUnresolvedVariable\r\n        if (result.saveCatalogResult && result.saveCatalogResult.modifiedCount > 0) {\r\n            result.catalogList = provider.state.catalogList.map((ct) => {\r\n                return ct._id === activeCatalogItem._id ? activeCatalogItem : ct;\r\n            });\r\n\r\n        } else { // noinspection JSUnresolvedVariable\r\n            if (result.saveCatalogResult &&\r\n                result.saveCatalogResult.upsertedCount > 0) {\r\n                result.catalogList = [\r\n                    ...provider.state.catalogList, activeCatalogItem\r\n                ];\r\n                /*\r\n                                result.catalogListFiltered = sortCatalog(result.catalogList,\r\n                                    provider.state.categorySelected &&\r\n                                    provider.state.categorySelected._id);\r\n                                    */\r\n            }\r\n        }\r\n\r\n        const {\r\n            catalogListFiltered,\r\n            catalogListOutCategory,\r\n            categorySelected,\r\n            catalogListNoCategory\r\n        } =\r\n            setCategorySelectedCommon(provider.state.categorySelected,\r\n                result.catalogList);\r\n\r\n        result.catalogListFiltered = catalogListFiltered;\r\n        result.categorySelected = categorySelected;\r\n        result.catalogListOutCategory = catalogListOutCategory;\r\n        result.catalogListNoCategory = catalogListNoCategory;\r\n\r\n        if (!setActiveItem)\r\n            result.activeCatalogItem = null;\r\n        result.catalogStatusLoading = false;\r\n\r\n        provider.setState(result);\r\n    } else {\r\n        provider.setState(result);\r\n    }\r\n};\r\n\r\nconst onSetActiveCatalogItem = (activeCatalogItem) => {\r\n    provider.setState({activeCatalogItem});\r\n};\r\n\r\nconst onCatalogListInit = () => {\r\n    provider.setState({catalogListInit: true, catalogListLoading: true});\r\n\r\n    getCatalogList().then((newState) => {\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        newState.catalogListFiltered = newState.catalogList;\r\n        if(newState.catalogListLoadHasError) {\r\n            newState.catalogListInit = false;\r\n            setTimeout(()=> {\r\n                provider.setState(newState);\r\n            }, 100);\r\n        } else {\r\n            provider.setState(newState);\r\n        }\r\n    }).catch(()=> { //ex\r\n        debugger;\r\n    });\r\n\r\n};\r\n\r\nconst onSetCatalogTotals = (categoryList,catalogList) =>{\r\n    console.log(\"onSetCatalogTotals\");\r\n    const catalogTotals=getCatalogTotals(catalogList, categoryList);\r\n    provider.setState({catalogTotals});\r\n    console.log(catalogTotals);\r\n\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const catalogModel = createContext(createModel, getInitialState);\r\n","import {createContext} from \"../../utility/modelContext\";\r\nimport {saveCategory, getCategoryList,\r\n    getNewCategory, deleteCategory} from \"./categoryMessage\";\r\n\r\nlet provider = null;\r\n\r\nexport const createModel = () => ({\r\n    activeCategoryItem: null,\r\n    categoryList: [],\r\n    categoryListLoading: false,\r\n    categoryListInit: false,\r\n    onCategoryListInit,\r\n    onSetActiveCategoryItem,\r\n    onSaveCategoryItem,\r\n    onCreateNewCategory,\r\n    onDeleteCategory\r\n});\r\n\r\nconst onCategoryListInit = () => {\r\n    provider.setState({categoryListInit: true});\r\n    getCategoryList().then((newState) => {\r\n        provider.setState(newState);\r\n    });\r\n};\r\n\r\nconst onSetActiveCategoryItem = (activeCategoryItem) => {\r\n    provider.setState({activeCategoryItem});\r\n};\r\n\r\nconst onSaveCategoryItem = async (itemToSave) => {\r\n    if(itemToSave.isNew)\r\n        delete itemToSave.isNew;\r\n    const result = saveCategory(itemToSave);\r\n    result.categoryList = provider.state.categoryList.map((cat) =>\r\n        cat._id === itemToSave._id ? itemToSave : cat);\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onCreateNewCategory = async () => {\r\n    provider.setState({categoryListInit: true});\r\n    const result = await getNewCategory();\r\n\r\n    result.categoryList = [result.activeCategoryItem, ...provider.state.categoryList,\r\n        ];\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onDeleteCategory = async (category) => {\r\n    provider.setState({categoryListLoading: true});\r\n    const result = await deleteCategory(category._id);\r\n\r\n    result.categoryList = provider.state.categoryList.filter(\r\n        (cat) => cat._id !== category._id\r\n    );\r\n\r\n    result.activeCategoryItem = null;\r\n    provider.setState(result);\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const categoryModel = createContext(createModel, getInitialState);\r\n","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getCategoryList = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    if(!userDomain) {\r\n        return {\r\n            categoryList: [],\r\n            categoryListLoading: false,\r\n            categoryListLoadHasError: true,\r\n            categoryListInit:false,\r\n            categoryListLoadError: \"\"\r\n        };\r\n    } else {\r\n        const url = `${catalogApi}/catalogApi/api/v1/category/domain/${userDomain}`;\r\n        const payloadGeneric = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json; charset=utf-8\",\r\n                \"Authorization\": `Bearer ${token}`\r\n            }\r\n        };\r\n\r\n        return fetch(url, payloadGeneric)\r\n            .then(handleResponse()).then((result) => {\r\n                return {\r\n                    categoryList: result,\r\n                    categoryListLoading: false,\r\n                    categoryListLoadHasError: false\r\n                }\r\n            }).catch((error) => {\r\n                return {\r\n                    categoryList: [],\r\n                    categoryListLoading: false,\r\n                    categoryListLoadHasError: true,\r\n                    categoryListLoadError: error.message || error\r\n                };\r\n            });\r\n    }\r\n};\r\n\r\nexport const getNewCategory = () => {\r\n    //catalogapi/api/v1/category/new/darbyfurnitureoutlet.com\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/category/new/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                activeCategoryItem: result,\r\n                categoryListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                activeCategoryItem: null,\r\n                categoryListLoading: false,\r\n                categoryListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveCategory = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/Category`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveCategoryResult: result,\r\n                activeCategoryItem: itemToSave,\r\n                categoryListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                categoryListLoading: false,\r\n                categoryListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteCategory = (categoryId) => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/category/${categoryId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            /* result\r\n            {\r\n                \"deletedCount\": 1\r\n            }\r\n            */\r\n            return {\r\n                deleteCategoryResult: result,\r\n                categoryListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteCategoryResult: false,\r\n                categoryListLoading: false,\r\n                deleteCategoryResultError: error.message || error\r\n            };\r\n        });\r\n};","import {createContext} from \"../../utility/modelContext\";\r\n\r\nimport {saveLocation, getLocationList,\r\n    getNewLocation, deleteLocationRecord} from \"./companyMessage\";\r\n\r\nlet provider = null;\r\n\r\nexport const createModel = () => ({\r\n    activeLocationItem: null,\r\n    locationList: [],\r\n    locationListLoading: false,\r\n    locationListInit: false,\r\n    onLocationListInit,\r\n    onSetActiveLocationItem,\r\n    onSaveLocationItem,\r\n    onCreateNewLocation,\r\n    onDeleteLocation\r\n});\r\n\r\nconst onLocationListInit = () => {\r\n    provider.setState({locationListInit: true});\r\n    getLocationList().then((newState) => {\r\n        provider.setState(newState);\r\n    });\r\n};\r\n\r\nconst onSetActiveLocationItem = (activeLocationItem) => {\r\n    provider.setState({activeLocationItem});\r\n};\r\n\r\nconst onSaveLocationItem = async (itemToSave) => {\r\n    if(itemToSave.isNew)\r\n        delete itemToSave.isNew;\r\n    const result = saveLocation(itemToSave);\r\n    result.locationList = provider.state.locationList.map((loc) =>\r\n        loc._id === itemToSave._id ? itemToSave : loc);\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onCreateNewLocation = async () => {\r\n    provider.setState({locationListInit: true});\r\n    const result = await getNewLocation();\r\n\r\n    result.locationList = [result.activeLocationItem, ...provider.state.locationList,\r\n    ];\r\n\r\n    provider.setState(result);\r\n};\r\n\r\nconst onDeleteLocation = async (location) => {\r\n    provider.setState({locationListLoading: true});\r\n    const result = await deleteLocationRecord(location._id);\r\n\r\n    result.locationList = provider.state.locationList.filter(\r\n        (loc) => loc._id !== location._id\r\n    );\r\n\r\n    result.activeLocationItem = null;\r\n    provider.setState(result);\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\n\r\nexport const companyLocationModel = createContext(createModel, getInitialState);\r\n\r\n","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getNewLocation = () => {\r\n    ////catalogapi/api/v1/company/location/new\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/company/location/new/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                activeLocationItem: result,\r\n                locationListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                activeLocationItem: null,\r\n                locationListLoading: false,\r\n                locationListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const getLocationList = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    //\r\n    const url = `${catalogApi}/catalogApi/api/v1/company/locations/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                locationList: result,\r\n                locationListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                locationList: [],\r\n                locationListLoading: false,\r\n                locationListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const deleteLocationRecord = (locationId) => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogapi/api/v1/company/location/${locationId}`;\r\n    const payloadGeneric = {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            /* result\r\n            {\r\n                \"deletedCount\": 1\r\n            }\r\n            */\r\n            return {\r\n                deleteLocationResult: result,\r\n                locationListLoading: false\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                deleteLocationResult: false,\r\n                locationListLoading: false,\r\n                deleteLocationResultError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveLocation = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/company/location`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveLocationResult: result,\r\n                activeLocationItem: itemToSave,\r\n                locationListLoading: false\r\n            };\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                locationListLoading: false,\r\n                locationListLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n","\r\nexport const hitConfigToChart = {\r\n    seriesName: \"hits\",\r\n    labelField: \"hitStart\",\r\n    dataField: \"hitCount\",\r\n    labelConverter: (data) => {\r\n\r\n        return data.substr(5, 5);\r\n    }\r\n}\r\n\r\nexport const statToChart = (dataList, config) => {\r\n    let result = [];\r\n    if(Array.isArray(dataList)){\r\n        result = dataList.map((data) => ({\r\n            name: config.labelConverter ? config.labelConverter(data[config.labelField]) : data[config.labelField],\r\n            [config.seriesName] : data[config.dataField]\r\n        }));\r\n    }\r\n    return result;\r\n}","import {createContext} from \"../../utility/modelContext\";\r\nimport {getHitReport} from \"./statsMessage\";\r\nimport {statToChart, hitConfigToChart} from \"./statsToChart\";\r\nimport {dateFormat} from \"dateformat\"\r\nexport const createModel = () => ({\r\n    hitReport: [],\r\n    hitChartData: [],\r\n    hitReportLoaded: true,\r\n    hitReportLoading: false,\r\n    hitReportLoadError: false,\r\n    hitReportInitDone: false,\r\n    weekStartDate:'',\r\n    weekEndDate:'',\r\n    onHitReportInit,\r\n    onHitReportGet,\r\n    setWeekDays\r\n});\r\nlet provider = null;\r\n\r\nconst onHitReportInit= async ()=> {\r\n    provider.setState({hitReportInitDone: true});\r\n    await onHitReportGet();\r\n}\r\nconst setWeekDays =(hitReportArr)=>{\r\n    const startWeek = new Date(hitReportArr[0].hitStart);\r\n    const endWeek = new Date(hitReportArr[hitReportArr.length-1].hitStart);\r\n\r\n    let sDay = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(startWeek);\r\n    let sMo = new Intl.DateTimeFormat('en', { month: 'short' }).format(startWeek);\r\n    let eDay = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(endWeek);\r\n    let eMo = new Intl.DateTimeFormat('en', { month: 'short' }).format(endWeek);\r\n    provider.setState({weekStartDate:`${sMo} ${sDay}`, weekEndDate:`${eMo} ${eDay}`})\r\n\r\n}\r\n\r\nconst onHitReportGet = async ()=> {\r\n    provider.setState({hitReportLoading: true});\r\n    const result = await getHitReport();\r\n    console.log(result.hitReport)\r\n    setWeekDays(result.hitReport)\r\n    if(!result.hitReportLoadError)\r\n        result.hitChartData =  statToChart(result.hitReport, hitConfigToChart);\r\n    provider.setState(result);\r\n}\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const statsModel = createContext(createModel, getInitialState);","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getHitReport = () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/hitReport/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            const hasData = Array.isArray(result);\r\n            return {\r\n                hitReport: hasData ? result : [],\r\n                hitReportLoaded: hasData,\r\n                hitReportLoading: false,\r\n                hitReportLoadError: hasData ?  false : \"Invalid Hit Data Returned\",\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                hitReportLoading: false,\r\n                hitReportLoadError: error.message || error\r\n            };\r\n        });\r\n};","import {createContext} from \"../../utility/modelContext\";\r\nimport {salesSearchByName} from \"./salesSearchMessage\";\r\n\r\nexport const createModel = () => ({\r\n    salesSearch: {rowCountFound: 0, rows: [], items: []},\r\n    salesSearchLoading: false,\r\n    salesSearchLoadError: false,\r\n    salesSearchLoaded: true,\r\n    onGetSalesByName\r\n});\r\n\r\nlet provider = null;\r\n\r\nconst onGetSalesByName = async (name, location) => {\r\n    provider.setState({salesSearchLoading: true});\r\n    const result = await salesSearchByName(name, location);\r\n\r\n    provider.setState(result);\r\n}\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const salesSearchModel = createContext(createModel, getInitialState);","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n//import {salesXlMap} from \"./salesXlMap\";\r\n\r\nexport const salesSearchByName = (name, location) => {\r\n    const {catalogApi , token} = getStore(); //userDomain\r\n    const url = `${catalogApi}/catalogApi/api/v1/sales/${name}/${location}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            const success = Array.isArray(result);\r\n\r\n            return {\r\n                salesSearch: success ? {\r\n                    rowCountFound: result.length,\r\n                        rows: [],\r\n                        items: result\r\n                }\r\n                    : {rowCountFound: 0, rows: [], items: []},\r\n                salesSearchLoading: false,\r\n                salesSearchLoadError: success ? false : result.err\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                salesSearchLoading: false,\r\n                salesSearchLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n\r\nexport const salesHist = () => {\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/sales/hist`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            const success = Array.isArray(result);\r\n\r\n            return {\r\n                salesHist: success ? {\r\n                        rowCountFound: result.length,\r\n                        rows: [],\r\n                        items: result\r\n                    }\r\n                    : {rowCountFound: 0, rows: [], items: []},\r\n                salesHistLoading: false,\r\n                salesHistLoadError: success ? false : result.err\r\n            }\r\n        }).catch((error) => {\r\n            return {\r\n                salesHistLoading: false,\r\n                salesHistLoadError: error.message || error\r\n            };\r\n        });\r\n};","import {createContext} from \"../../utility/modelContext\";\r\nimport {salesHist} from \"./salesSearchMessage\";\r\n\r\nexport const createModel = () => ({\r\n    \"salesHist\": {\r\n        \"rowCountFound\": 0,\r\n        \"rows\": [],\r\n        \"items\": []\r\n    },\r\n    \"salesHistLoading\": false,\r\n    \"salesHistLoadError\": false,\r\n    \"salesHistInitDone\": false,\r\n    onGetSalesHist,\r\n    onSalesHistInit\r\n});\r\n\r\nlet provider = null;\r\n\r\nconst onSalesHistInit= async ()=> {\r\n    provider.setState({salesHistInitDone: true});\r\n    await onGetSalesHist();\r\n}\r\n\r\nconst onGetSalesHist = async () => {\r\n    provider.setState({salesHistLoading: true});\r\n    const result = await salesHist();\r\n\r\n    provider.setState(result);\r\n}\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nexport const salesHistModel = createContext(createModel, getInitialState);","import { createContext } from \"../../utility/modelContext\";\r\nimport  {getSiteParams, saveSite} from \"./siteMessaage\";\r\n\r\nlet provider = null;\r\n\r\n// noinspection JSUnusedGlobalSymbols\r\nexport const createModel = () => ({\r\n    site: {\r\n        salesBackgroundColor: [0, 255, 255],\r\n        salesFontColor: [0,0,0]\r\n    },\r\n    siteLoading: false,\r\n    siteLoadError: \"\",\r\n    siteDataInitialized: false,\r\n    siteLoaded : false,\r\n    siteHasError : false,\r\n    siteMessage : \"\",\r\n    siteLoadMessageDetail: \"\",\r\n    onLoadSite,\r\n    onSaveSiteColor,\r\n    setSalesBackgroundColor,\r\n    setSalesFontColor\r\n});\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    return  createModel();\r\n};\r\n\r\nconst setSalesBackgroundColor = (salesBackgroundColor) =>\r\n    provider.setState({site: {...provider.state.site, salesBackgroundColor}});\r\n\r\nconst setSalesFontColor = (salesFontColor) =>\r\n    provider.setState({site: {...provider.state.site, salesFontColor}});\r\n\r\nconst onSaveSiteColor = (siteColor) => {\r\n    provider.setState({ siteLoading: true });\r\n    const origValue = provider.state.site;\r\n    saveSite({...origValue,...siteColor});\r\n}\r\n\r\nconst onLoadSite = () => {\r\n    provider.setState({ siteLoading: true, siteDataInitialized : true });\r\n    getSiteParams().then((result)=>{\r\n\r\n        if(result.siteHasError === true)\r\n            provider.setState({site: {...result.site,\r\n                    salesBackgroundColor: provider.state.salesBackgroundColor,\r\n                    salesFontColor: provider.state.salesFontColor,\r\n            }});\r\n        else\r\n            provider.setState(result);\r\n    })\r\n};\r\n\r\nexport const siteModel = createContext(createModel, getInitialState);\r\nexport default siteModel;\r\n","import {getStore} from \"../accounts/userAuthStore\";\r\nimport {handleResponse} from \"../../utility/helpers\";\r\n\r\nexport const getSiteParams = async () => {\r\n    const {catalogApi , token, userDomain} = getStore();\r\n    //\r\n    const url = `${catalogApi}/catalogApi/api/v1/site/${userDomain}`;\r\n    const payloadGeneric = {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        }\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                site: result && result.length > 0 ? result[0] : { },\r\n                siteLoading: false,\r\n                siteHasError: false\r\n            };\r\n        }).catch((error) => {\r\n            return {\r\n                site: {\r\n                    salesBackgroundColor: [0, 255, 255],\r\n                    salesFontColor: [0,0,0]},\r\n                siteLoading: false,\r\n                siteLoadError: error.message || error,\r\n                siteHasError: true\r\n            };\r\n        });\r\n};\r\n\r\nexport const saveSite = async (itemToSave)=>{\r\n    const {catalogApi , token} = getStore();\r\n    const url = `${catalogApi}/catalogApi/api/v1/site`;\r\n    const payloadGeneric = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json; charset=utf-8\",\r\n            \"Authorization\": `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(itemToSave)\r\n    };\r\n\r\n    return fetch(url, payloadGeneric)\r\n        .then(handleResponse()).then((result) => {\r\n            return {\r\n                saveSiteResult: result,\r\n                activeSaveItem: itemToSave,\r\n                siteLoading: false,\r\n                siteHasError: false,\r\n            };\r\n        }).catch((error) => {\r\n            return {\r\n                success: false,\r\n                siteHasError: true,\r\n                siteLoading: false,\r\n                siteLoadError: error.message || error\r\n            };\r\n        });\r\n};\r\n","import React from 'react';\r\nimport AccountModel from \"./models/accounts/accountModel\";\r\nimport {catalogModel} from \"./models/home/catalogModel\";\r\nimport {categoryModel} from \"./models/home/categoryModel\";\r\nimport {companyLocationModel} from \"./models/company/companyLocationsModel\";\r\nimport {statsModel} from \"./models/stats/statsModel\";\r\nimport {salesSearchModel} from \"./models/sales/salesSearchModel\";\r\nimport {salesHistModel} from \"./models/sales/salesHistModel\";\r\nimport {siteModel} from \"./models/company/siteModel\";\r\n\r\nexport const GlobalProviders = ({children}) => {\r\n\r\n    return (\r\n        <AccountModel.ModelProvider>\r\n            <catalogModel.ModelProvider>\r\n                <categoryModel.ModelProvider>\r\n                    <companyLocationModel.ModelProvider>\r\n                        <statsModel.ModelProvider>\r\n                            <salesSearchModel.ModelProvider>\r\n                                <salesHistModel.ModelProvider>\r\n                                    <siteModel.ModelProvider>\r\n                        {children}\r\n                                    </siteModel.ModelProvider>\r\n                                </salesHistModel.ModelProvider>\r\n                            </salesSearchModel.ModelProvider>\r\n                        </statsModel.ModelProvider>\r\n                    </companyLocationModel.ModelProvider>\r\n                </categoryModel.ModelProvider>\r\n            </catalogModel.ModelProvider>\r\n        </AccountModel.ModelProvider>\r\n    );\r\n};\r\n","import {useState, useEffect} from \"react\";\r\n\r\nexport const useIsMobile = () => {\r\n    const [isMobile, setIsMobile] = useState(window.innerWidth <= 760);\r\n    const resize = () => {\r\n        setIsMobile(window.innerWidth <= 760);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", resize);\r\n        return () => {\r\n            window.removeEventListener(\"resize\", resize);\r\n        };\r\n    },[]);\r\n\r\n    return isMobile;\r\n};\r\n\r\nexport function useCardSize() {\r\n    const calcCardSize = (contWidth) => {\r\n\r\n        let widthCalc = \"\";\r\n        let heightPicCalc = \"\";\r\n        if(contWidth < 550) {\r\n            widthCalc= \"93vw\";\r\n            heightPicCalc = \"72.54vw\";\r\n        }\r\n        else if(contWidth < 700) {\r\n            widthCalc= \"46vw\";\r\n            heightPicCalc = \"35.88vw\";\r\n        }\r\n        else if(contWidth < 1200) {\r\n            widthCalc= \"30vw\";\r\n            heightPicCalc = \"24.3vw\";\r\n        }\r\n        else {\r\n            widthCalc= \"15vw\";//\"14vw\";//\"16.67vw\";//\"23vw\";\r\n            heightPicCalc = \"11.7vw\";//\"10.92vw\";//\"13vw\";//\"17.94vw\";\r\n        }\r\n\r\n        return {widthCalc, heightPicCalc};\r\n    };\r\n    const [cardWidth, setCardWidth] = useState(calcCardSize(window.innerWidth));\r\n\r\n    useEffect(() => {\r\n        function resizeWidth() {\r\n            const res = calcCardSize(window.innerWidth);\r\n            setCardWidth(res);\r\n        }\r\n\r\n        window.addEventListener(\"resize\", resizeWidth);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", resizeWidth);\r\n        };\r\n    },[]); // Empty array ensures that effect is only run on mount\r\n\r\n    return cardWidth;\r\n}","import {Home, Category, LocationCity, SearchTwoTone, Timeline, Money,BorderAll} from \"@material-ui/icons\";\r\n//category , , featureId: 1\r\nconst mainLinksAll = [\r\n    {label : \"Home\", icon: Home, selected:!(window.location.href.includes('location') || window.location.href.includes('category') || window.location.href.includes('keyLogs') || window.location.href.includes('catalogSearch') || window.location.href.includes('hits') || window.location.href.includes('salesByName') ), link:\"#/\", route:\"/\", isMobile: true },\r\n    {label : \"Category\", icon: Category, selected:window.location.href.includes('category'),  link:\"#/category\", route:\"/category\", isMobile: true },\r\n    {label : \"Locations\", icon: LocationCity, selected:window.location.href.includes('location'),  link:\"#/location\", route:\"/location\", isMobile: true },\r\n    {label : \"Filter\", icon: SearchTwoTone, selected:window.location.href.includes('catalogSearch'),  link:\"#/catalogSearch\", route:\"/catalogSearch\", isMobile: true },\r\n    {label : \"Hits\", icon: Timeline, selected:window.location.href.includes('hits'),  link:\"#/hits\", route:\"/hits\", isMobile: true },\r\n    {label : \"Sales\", icon: Money, selected:window.location.href.includes('salesByName'),  link:\"#/salesByName\", route:\"/salesByName\", isMobile: true },\r\n    {label : \"Sales Hist\", icon: BorderAll, selected:window.location.href.includes('salesHist'),  link:\"#/salesHist\", route:\"/salesHist\", isMobile: true }\r\n];//#//hits\r\n\r\nexport const getMenus = (mobileOnly)=> {\r\n    if(mobileOnly)\r\n        return mainLinksAll.filter(link => link.isMobile);\r\n    else\r\n        return mainLinksAll;\r\n};\r\n","import React from 'react';\r\nimport {useIsMobile} from \"../../utility/useIsMobile\";\r\nimport { SideStrip } from \"fancy-menu\"\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Input\r\n} from \"@material-ui/icons\";\r\nimport accountModel from \"../../models/accounts/accountModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {getMenus} from \"../../models/home/menuStore\";\r\nimport {getStore, setUserData} from \"../../models/accounts/userAuthStore\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\nconst mainLinksAll = getMenus();\r\n\r\nconst bottomLinks = [\r\n    {label : \"Logout\", icon: Input, link:\"#/logout\" }\r\n];\r\n\r\nexport const FullMenuNavComponent = ({ children, firstName, lastName,\r\n                                         userLoggedIn, picUrl, userFeatures  }) => {\r\n    const isMobile = useIsMobile();\r\n    const classes = useStyles(isMobile);\r\n\r\n    const {\r\n        isLoading,\r\n        //isAuthenticated,\r\n        //error,\r\n        user,\r\n        //loginWithRedirect,\r\n        //logout,\r\n    } = useAuth0();\r\n\r\n    const mainLinks = mainLinksAll.filter(\r\n        (link) => link.featureId === undefined ||\r\n            userFeatures.indexOf(link.featureId) > -1);\r\n\r\n    const userInfo = getStore();\r\n    if(!isLoading) {\r\n        console.log(\"---- Full Menu ----\");\r\n        console.log(user);\r\n    }\r\n    if(user) {\r\n        if(userInfo.token && userInfo.userDomain === \"\")\r\n           setUserData(user);\r\n        userInfo.picUrl = user.picture;\r\n        userInfo.name = user.name;\r\n    }\r\n\r\n    return (\r\n        userInfo.name &&\r\n        <div>\r\n            <SideStrip mainLinks={mainLinks}\r\n                       bottomLinks={bottomLinks}\r\n                       onMenuClose={() => {\r\n                          // setOpenMenu(false);\r\n                       }}\r\n                       expandMenu={false}\r\n                       userLabel={userInfo.name}\r\n                       imageUrl={decodeURIComponent(userInfo.picUrl)}\r\n            />\r\n            <div className={classes.mainContainer}>\r\n                {children}\r\n            </div>\r\n        </div> ||\r\n            <div>{children}</div>\r\n    );\r\n};\r\n\r\nexport const FullMenuNav = connectArray(FullMenuNavComponent,[accountModel]);\r\n\r\nconst useStyles = (isMobile) => makeStyles({\r\n    mainContainer:{\r\n        marginLeft: isMobile ? 7 : 70,\r\n        marginRight: 7\r\n    },\r\n})();\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport {clearToken} from \"../../models/accounts/userAuthStore\";\r\nimport { Card, CardContent,\r\n    CardActions, Button, Typography  } from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport { Input as LoginIcon, Info } from '@material-ui/icons';\r\nimport accountModel from \"../../models/accounts/accountModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nexport const LoggedOutComponent = ({onNotifyMainNavOfLogOff, userLoggedIn}) => {\r\n\r\n    const classes = useStyles();\r\n    const { loginWithRedirect,\r\n        logout,\r\n        isAuthenticated,\r\n        isLoading\r\n    } = useAuth0();\r\n\r\n    useEffect(() => {\r\n        clearToken();\r\n        if(isAuthenticated)\r\n            logout({returnTo: `${window.location.origin}/#/login`});\r\n\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"featurePermissions\");\r\n\r\n        if(userLoggedIn)\r\n            onNotifyMainNavOfLogOff();\r\n    });\r\n    // noinspection HtmlUnknownAnchorTarget\r\n    return (\r\n        <form id=\"logout-submit\"\r\n              className={classes.mainContainer}>\r\n            {!isLoading && !isAuthenticated &&\r\n            <Card style={{display: \"flex\"}}>\r\n                <div className={classes.outerCard}>\r\n                    <CardContent className={classes.cardContainer}>\r\n                        <img src={\"retail-shop-flat-icon_small.jpg\"}\r\n                             className={classes.logo}/>\r\n                        <div className={classes.messageContainer}>\r\n                            <Info className={classes.iconSpacing}/><Typography>You have been logged out.</Typography>\r\n                        </div>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        <Button variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                className={classes.actionButton}\r\n                                onClick={() => {\r\n                                    loginWithRedirect();\r\n                                }}\r\n                        >\r\n                            <LoginIcon style={{marginRight: 10}}/> Login\r\n                        </Button>\r\n\r\n                    </CardActions>\r\n                </div>\r\n            </Card>\r\n            }\r\n            {(isLoading || isAuthenticated ) &&\r\n                <span>... logging out please wait</span>\r\n            }\r\n        </form>\r\n    )\r\n};\r\n\r\nexport const LoggedOut = connectArray(LoggedOutComponent, [accountModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\r\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\r\n    cardContainer: {minHeight: 170},\r\n    logo: {width: 250, margin: \"auto\"},\r\n    actionButton: {width: \"80%\", margin:\"auto\"},\r\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\r\n    iconSpacing: { marginRight: 12},\r\n    outerCard: {margin: \"45px auto\"}\r\n});","import React from \"react\";\r\nimport {InputBase} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Search as SearchIcon} from \"@material-ui/icons\";\r\n\r\nexport const SearchTextBox = ({onSearchChange}) => {\r\n    const classes = useStyle();\r\n    return (\r\n        <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n                placeholder=\"Search…\"\r\n                onChange={(event) => onSearchChange(event.target.value)}\r\n                classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                }}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst useStyle = makeStyles(theme  => ({\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 7),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }\r\n}));","/*global siteData */\r\nimport React from \"react\";\r\nimport { AppBar, Toolbar, IconButton, Typography,\r\n     Button } from \"@material-ui/core\";\r\nimport { makeStyles} from \"@material-ui/core/styles\";\r\nimport { Add as AddIcon} from \"@material-ui/icons\";\r\nimport {SearchTextBox} from \"./SearchTextBox\";\r\nimport PropTypes from 'prop-types';\r\nimport {useIsMobile} from \"../useIsMobile\";\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n\r\n    return {\r\n        root: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            color: \"black\",\r\n            fontSize: \"14px\",\r\n            marginBottom: 10,\r\n            marginLeft: -20,\r\n            boxShadow: \"0 0\",\r\n        },\r\n        rootMobile: {\r\n            backgroundColor: theme.palette.background.paper,\r\n            color: \"black\",\r\n            fontSize: \"14px\",\r\n            marginBottom: 10,\r\n            marginTop: 0,\r\n            marginLeft: 20,\r\n            boxShadow: \"0 0\",\r\n            width: \"unset\"\r\n        },\r\n        toolBar : {\r\n            minHeight: 38,\r\n            height: 38\r\n        },\r\n        avatar : {\r\n            backgroundColor: \"transparent\",\r\n            color: theme.palette.primary.main,\r\n            marginRight: 15,\r\n            marginLeft: -15,\r\n        },\r\n        searchTextContainer: {\r\n            display: \"flex\",\r\n            position: \"absolute\",\r\n            right: 5,\r\n            top: 7,\r\n        },\r\n        childContainerNoSearch: {\r\n            display: \"flex\",\r\n        },\r\n        childContainer: {\r\n            display: \"flex\",\r\n            //position: \"absolute\",\r\n            right: 270,\r\n            top: 7,\r\n            marginLeft: 8\r\n        },\r\n        searchTextBox: {\r\n            width: 120\r\n        },\r\n        searchTextLabel: {\r\n            marginRight: \"5px\",\r\n            marginTop: \"6px\",\r\n        },\r\n        menuButton: {\r\n            marginLeft: -18,\r\n            marginRight: 10,\r\n        },\r\n        labelTitle: {\r\n            color: theme.palette.primary.main,\r\n            //marginRight: 28,\r\n            display: \"flex\"\r\n        },\r\n        labelTitleWithTextBox: {\r\n            color: theme.palette.primary.main,\r\n            marginRight: 28,\r\n            display: \"flex\",\r\n            marginTop: 12\r\n        }\r\n    };\r\n});\r\n\r\nexport const AppBarTitleAddSearchComponent =\r\n    ({ title, LeftIcon, onSearchChange, hideSearch, onAdd,\r\n         addLabel, children, childHasTextBox,\r\n         onAvatarClick}) => {\r\n\r\n    const isMobile = useIsMobile();\r\n    const classes = useStyles();\r\n    return (\r\n        <AppBar className={isMobile ? classes.rootMobile : classes.root} position=\"static\">\r\n            <Toolbar variant=\"dense\">\r\n                <LeftIcon style={{marginRight: 10}} />\r\n                <span className={childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle}>\r\n                    {/*  <IconButton className={classes.menuButton}\r\n                                color=\"inherit\"\r\n                                aria-label=\"Menu\"\r\n                                onClick={() => onAvatarClick && onAvatarClick()}\r\n                    >\r\n                        <LeftIcon />\r\n                    </IconButton>*/}\r\n\r\n                    <Typography variant=\"h6\" color=\"inherit\" >\r\n                        {title}\r\n                    </Typography>\r\n\r\n                </span>\r\n                {onAdd &&\r\n                    !isMobile &&\r\n                    <Button variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={onAdd}\r\n                            startIcon={<AddIcon />}\r\n                            style={{marginLeft: 20}}>\r\n                        {addLabel || \"Add\"}\r\n                    </Button>\r\n                }\r\n\r\n                {onAdd &&\r\n                    isMobile &&\r\n                    <IconButton\r\n                            color=\"secondary\"\r\n                            onClick={onAdd}\r\n                            style={{marginLeft: 10}}>\r\n                        <AddIcon />\r\n                    </IconButton>\r\n                }\r\n\r\n                <span className={hideSearch || onSearchChange === undefined || childHasTextBox ? classes.childContainerNoSearch : classes.childContainer}>\r\n                    {children}\r\n                </span>\r\n                {hideSearch !== true && onSearchChange !== undefined &&\r\n                <span className={classes.searchTextContainer}>\r\n\r\n                        <span className={classes.searchTextBox}>\r\n                            <SearchTextBox onSearchChange={(value) => onSearchChange(value)} />\r\n                        </span>\r\n                    </span>\r\n                }\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n};\r\n\r\nexport const AppBarTitleAddSearch = AppBarTitleAddSearchComponent;\r\n\r\nexport const AppBarTitleComponent = ({ title, LeftIcon, variant, iconSize, marginLeft, style, children,\r\n                                        childHasTextBox\r\n                                     }) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <AppBar className={classes.root} style={style} position=\"static\">\r\n            <Toolbar variant=\"dense\"  >\r\n                <span className={ childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle} >\r\n                    <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">\r\n                        <LeftIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" color=\"inherit\" style={{marginTop: 9}} >\r\n                        {title}\r\n                    </Typography>\r\n                </span>\r\n                <span className={classes.childContainerNoSearch }>\r\n                    {children}\r\n                </span>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport const AppBarTitle = AppBarTitleComponent;\r\n\r\nAppBarTitle.propTypes = {\r\n    LeftIcon: PropTypes.elementType.isRequired,\r\n    title: PropTypes.string\r\n};\r\n","import React, {Fragment} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport const AlertDialog = ({onClick, children, title, message, ...props}) => {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleOk = () => {\r\n        setOpen(false);\r\n        onClick();\r\n    };\r\n    return (\r\n        <Fragment>\r\n            <Button {...props} onClick={handleClickOpen}>\r\n                {children}\r\n            </Button>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {message}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleOk} variant=\"contained\" color=\"primary\" autoFocus>\r\n                        OK\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </Fragment>\r\n    );\r\n};","import React, {useState, useEffect} from \"react\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {siteModel} from \"../../models/company/siteModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {TextField, InputAdornment, Button, Paper,\r\nCheckbox, FormControlLabel, Switch} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Save, Close, Delete} from \"@material-ui/icons\";\r\nimport {toCurrency} from \"../../utility/helpers\";\r\nimport {getStore} from \"../../models/accounts/userAuthStore\";\r\nimport {PicRatioFill} from \"pic-ratio-fill\";\r\nimport {AlertDialog} from \"../../utility/components/AlertDialog\";\r\n\r\nconst {catalogApi} = getStore();\r\nconst containerWidth = 532;\r\nconst containerHeight = 415;\r\n\r\nconst CatalogItemEditComponent = ({\r\n     activeCatalogItem, onSaveCatalogItem, catalogListLoading,\r\n     onUploadImage, onDeleteCatalog, imageUploading, categoryList,\r\n     getCatalogCategorySort, onSetActiveCatalogItem, site\r\n}) => {\r\n    const imageIsConfig = activeCatalogItem.images\r\n        && activeCatalogItem.images.length > 0;\r\n    const imageId = imageIsConfig ?\r\n        activeCatalogItem.images[0].id : false;\r\n\r\n    const imageUrl = imageIsConfig ?\r\n        `${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}?1` :\r\n        null\r\n    ;\r\n\r\n    const rgbData = imageIsConfig ?\r\n        activeCatalogItem.images[0].colorRgb : [0,0,0];\r\n    const metaUpload = imageIsConfig ?\r\n        {\r\n            \"id\": activeCatalogItem.images[0].id,\r\n            \"fileName\": activeCatalogItem.images[0].fileName\r\n        } : null;\r\n\r\n\r\n    const [itemEdit, setItemEdit] = useState({...activeCatalogItem});\r\n    const [uploadImage, setUpLoadImage] = useState(imageUrl);\r\n\r\n    const [uploadImageMetadata, setUpLoadImageMetadata] = useState(metaUpload);\r\n\r\n    const [willFitWidth, setWillFitWidth] = useState(\r\n        imageIsConfig ? activeCatalogItem.images[0].willFitWidth : true);\r\n\r\n    const [colorRgb, setColorRgb] = useState(rgbData);\r\n    const [colorRgbOther,setColorRgbOther] = useState(rgbData);\r\n    const [unitPrice, setUnitPrice] = useState(itemEdit.unitPrice);\r\n\r\n    const onValueChange = (fieldName, value) => setItemEdit({...itemEdit, [fieldName]: value});\r\n\r\n    const onValueChangeSale = (fieldName, value) => {\r\n        const newItem = {...itemEdit};\r\n        if(itemEdit.sale === undefined)\r\n            newItem.sale = {...{enabled: true, price: \"0.00\", color: [0,0,0]}, [fieldName]: value};\r\n        else\r\n            newItem.sale = {...newItem.sale, [fieldName]: value};\r\n\r\n        setItemEdit(newItem);\r\n    };\r\n\r\n    const classes = useStyle();\r\n    useEffect(()=>{\r\n        if(activeCatalogItem._id !== itemEdit._id) {\r\n            const imageIsConfig = activeCatalogItem.images\r\n                && activeCatalogItem.images.length > 0;\r\n\r\n            setItemEdit({...activeCatalogItem});\r\n            setUnitPrice(activeCatalogItem.unitPrice);\r\n            setUpLoadImage(imageUrl);\r\n            setColorRgb(rgbData);\r\n            setUpLoadImageMetadata(metaUpload);\r\n            setWillFitWidth(imageIsConfig &&\r\n                activeCatalogItem.images[0].willFitWidth);\r\n        }\r\n    });\r\n\r\n    const onAddCategory =({category})=> {\r\n        const newItem = {...itemEdit};\r\n        const sort = getCatalogCategorySort(category._id);\r\n        newItem.categories = [...newItem.categories,\r\n            {...category, sort}];\r\n        console.log(sort);\r\n        setItemEdit(newItem);\r\n    };\r\n\r\n    const onRemoveCategory = ({categoryId}) => {\r\n        const newItem = {...itemEdit};\r\n        newItem.categories = newItem.categories.filter(\r\n            (cate) => cate._id !== categoryId);\r\n        //debugger;\r\n        setItemEdit(newItem);\r\n    };\r\n\r\n    const colorRgbValue = site?.salesBackgroundColor && site.salesBackgroundColor.length > 2 ?\r\n        `rgb(${site.salesBackgroundColor[0]},${site.salesBackgroundColor[1]}, ${site.salesBackgroundColor[2]})`:\r\n        \"rgb(255,255,255)\";\r\n\r\n    return(\r\n        <div className={classes.rootContainer}>\r\n            <Paper className={classes.paperEntryContainer}>\r\n                <div style={{display:\"flex\"}} >\r\n                    <Button variant=\"contained\"\r\n                            color=\"primary\"\r\n                            startIcon={<Save />}\r\n                            style={{marginRight: 20}}\r\n                            onClick={() => onSaveCatalogItem(itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther)}\r\n                    >\r\n                        Save\r\n                    </Button>\r\n                    <AlertDialog\r\n                        startIcon={<Delete />}\r\n                        onClick={() => onDeleteCatalog(itemEdit)}\r\n                        title={\"Are You Sure?\"}\r\n                        message={`Are You Sure you want to delete \"${itemEdit.shortDesc}\"?`}\r\n                    >\r\n                        Delete\r\n                    </AlertDialog>\r\n\r\n                    <Button\r\n                        startIcon={<Close />}\r\n                        style={{marginRight: 20}}\r\n                        onClick={() => onSetActiveCatalogItem(null)}\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                </div>\r\n                <div className={classes.editContainer}>\r\n                        <TextField\r\n                            style={{width:\"100%\"}}\r\n                            label=\"Short Desc\"\r\n                            value={itemEdit.shortDesc}\r\n                            onChange={(event) => onValueChange(\"shortDesc\", event.target.value)}\r\n                        />\r\n\r\n\r\n                    <div>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Switch\r\n                                    checked={itemEdit.status === \"active\"}\r\n                                    onChange={(event)=> {\r\n                                        const newStatus = event.target.checked ?\r\n                                            \"active\" : \"disabled\";\r\n                                        onValueChange(\"status\",newStatus);\r\n                                    }}\r\n                                    color=\"primary\"\r\n                                    name=\"checkedB\"\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                            }\r\n                            label=\"Show\"\r\n                        />\r\n\r\n                    </div>\r\n                </div>\r\n                <TextField\r\n                    style={{width:\"30%\"}}\r\n                    label=\"Model #\"\r\n                    value={itemEdit.modelNumber || \"\"}\r\n                    onChange={(event) => onValueChange(\"modelNumber\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"60%\"}}\r\n                    label=\"Mfr Name\"\r\n                    value={itemEdit.mfrName || \"\"}\r\n                    onChange={(event) => onValueChange(\"mfrName\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"30%\"}}\r\n                    label={`Unit Price:$ ${toCurrency(itemEdit.unitPrice)}`}\r\n                    value={unitPrice || \"\"}\r\n                    InputProps={{\r\n                        startAdornment:\r\n                            <InputAdornment position=\"start\">$</InputAdornment>\r\n                    }}\r\n                    onChange={(event) => {\r\n                        setUnitPrice(event.target.value);\r\n                        onValueChange(\"unitPrice\", parseFloat(event.target.value));\r\n                    }}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"62%\"}}\r\n                    label=\"Extra Desc\"\r\n                    value={itemEdit.extraDesc}\r\n                    onChange={(event) => onValueChange(\"extraDesc\", event.target.value)}\r\n                />\r\n\r\n\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    multiline\r\n                    maxRows={4}\r\n                    label=\"Description\"\r\n                    value={itemEdit.description}\r\n                    onChange={(event) => onValueChange(\"description\", event.target.value)}\r\n                />\r\n\r\n                <FormControlLabel\r\n                    control={\r\n                        <Checkbox\r\n                            checked={itemEdit.sale && itemEdit.sale.enabled}\r\n                            onChange={()=> {\r\n                                const enabled = (itemEdit.sale && itemEdit.sale.enabled) || false;\r\n                                onValueChangeSale(\"enabled\", !enabled);\r\n                            }}\r\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                        />\r\n                    }\r\n                    label=\"Sale Enabled\"\r\n                />\r\n                {itemEdit.sale && itemEdit.sale.enabled &&\r\n                    <div style={{display: \"flex\",\r\n                        border: `${colorRgbValue} solid 10px`,\r\n                        padding: \"7px\"\r\n                    }}\r\n                    >\r\n                    <TextField\r\n                        style={{width:\"30%\", marginBottom: 10}}\r\n                        label={`Sale Price:$ ${toCurrency(itemEdit.sale.price)}`}\r\n                        value={itemEdit.sale.price || \"\"}\r\n                        InputProps={{\r\n                            startAdornment:\r\n                                <InputAdornment position=\"start\">$</InputAdornment>\r\n                        }}\r\n                        onChange={(event) => {\r\n                            //setUnitPrice(event.target.value);\r\n                            onValueChangeSale(\"price\", parseFloat(event.target.value));\r\n                        }}\r\n                    />\r\n\r\n                    </div>\r\n                }\r\n                <hr />\r\n                <div>\r\n                {categoryList && categoryList.map((categoryRef)=> {\r\n                    const itemCategory = itemEdit.categories.find((itemCat)=> itemCat._id === categoryRef._id );\r\n                    //debugger;\r\n                    return(\r\n                        <FormControlLabel\r\n                            key={categoryRef._id}\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={itemCategory !== undefined}\r\n                                    onChange={(event)=> {\r\n                                        if(itemCategory === undefined && event.target.checked)\r\n                                            onAddCategory({ //onAddCategoryToCatalog\r\n                                                catalog : itemEdit,\r\n                                                category: categoryRef\r\n                                            });\r\n                                        else {\r\n                                            onRemoveCategory({ //onRemoveCategoryFromCatalog\r\n                                                catalog: itemEdit,\r\n                                                categoryId : categoryRef._id\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                            }\r\n                            label={categoryRef.category}\r\n                        />\r\n                    )\r\n                })}\r\n\r\n                </div>\r\n\r\n            {!catalogListLoading && !imageUploading &&\r\n                <div>\r\n                    <div>\r\n                        <input type=\"file\" name=\"myFile\" id=\"myFile\"\r\n                               style={{width:200}}\r\n                               onChange={async (event) => {\r\n                                   console.log(event.target.files);\r\n                                   const reader = new FileReader();\r\n                                   /**\r\n                                    * @param {{target:object}} e\r\n                                    */\r\n                                   reader.onload = function(e) {\r\n                                       console.log(\"image read locally\");\r\n                                       setUpLoadImage(e.target.result);\r\n                                   };\r\n                                   reader.readAsDataURL(event.target.files[0]);\r\n                                   const uploadResult = await onUploadImage(event.target.files[0], imageId);\r\n\r\n                                   if(uploadResult.uploadImageResult) {\r\n                                       setUpLoadImageMetadata(uploadResult.uploadImageResult);\r\n                                   }\r\n                               }}\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n            {catalogListLoading && <span>Saving...</span>}\r\n            {imageUploading && <span>Uploading...</span>}\r\n\r\n\r\n            </Paper>\r\n            <Paper>\r\n            {uploadImage !== null ?\r\n            <PicRatioFill\r\n                width={containerWidth}\r\n                height={containerHeight}\r\n                src={uploadImage}\r\n                onChangeColors={(color)=>{\r\n                    setColorRgb(color.colorRgb);\r\n                    setColorRgbOther(color.colorRgbOpposite);\r\n                    setWillFitWidth(color.willFitWidth);\r\n                    //debugger;\r\n                }}\r\n            />\r\n            : <img width={containerWidth} alt=\"Template\"\r\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII=\" />\r\n            }\r\n            </Paper>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const CatalogItemEdit = connectArray(CatalogItemEditComponent,\r\n    [catalogModel, categoryModel, siteModel]);\r\n\r\nconst useStyle = makeStyles({\r\n    rootContainer: {\r\n        display: \"block\"\r\n    },\r\n    picBorderHeight: {\r\n        width: \"50%\",\r\n        height: containerHeight,\r\n        zIndex: 1,\r\n    },\r\n    picBorderWidth: {\r\n        width: \"100%\",\r\n        height: \"50%\",\r\n        zIndex: 1,\r\n    },\r\n    imageBoxHeight: {\r\n        width: containerWidth,\r\n        height: containerHeight,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\",\r\n        display:\"flex\"\r\n    },\r\n    imageBoxWidth: {\r\n        width: containerWidth,\r\n        height: containerHeight,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\"\r\n    },\r\n    fixHeight: {\r\n        height: \"100%\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n        position: \"relative\",\r\n        zIndex: 2\r\n    },\r\n    fixWidth: {\r\n        width: \"inherit\",\r\n        position: \"absolute\",\r\n        transform: \"translateY(-50%)\",\r\n        zIndex: 2\r\n    },\r\n    editContainer: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\"\r\n    },\r\n    textContainer: {\r\n        '& > *': {\r\n            margin: 7,\r\n        }\r\n    },\r\n    paperEntryContainer: {\r\n        '& > *': {\r\n            margin: 7,\r\n        },\r\n        padding: 10,\r\n        width: \"100%\",\r\n        marginBottom: 15,\r\n        backgroundColor: \"#f2f0ea\"\r\n    }\r\n});\r\n","import React from \"react\";\r\nimport { Chip, Avatar, ListItem, ListItemText } from \"@material-ui/core\";\r\nimport { LibraryBooks } from \"@material-ui/icons\";\r\n\r\nexport const NoData = ({dataCount, children})=> (\r\n        dataCount === 0 &&\r\n        <Chip\r\n            avatar={\r\n                <Avatar>\r\n                    <LibraryBooks />\r\n                </Avatar>\r\n            }\r\n            label=\"No Data\"\r\n        />\r\n                || children\r\n);\r\n\r\nexport const ListNoData = ({dataCount, containerClass, className, children, noDataText})=> (\r\n    <div className={containerClass}>\r\n        {dataCount === 0 &&\r\n            <ListItem className={className}>\r\n                <ListItemText>\r\n                <Chip\r\n                    avatar={\r\n                        <Avatar>\r\n                            <LibraryBooks />\r\n                        </Avatar>\r\n                    }\r\n                    label={noDataText || \"No Data\"}\r\n                />\r\n                </ListItemText>\r\n            </ListItem>\r\n        || children\r\n        }\r\n    </div>\r\n);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {MenuList, MenuItem, IconButton} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Close} from \"@material-ui/icons\";\r\nimport {getItemPropertyValue} from \"../../helpers\";\r\nimport {ListNoData} from \"../NoData\";\r\n\r\nconst useStyle = makeStyles({\r\n        iconRight: {\r\n            position: \"absolute\",\r\n            right: 5,\r\n            top: ({closeButtonTopOffset}) => closeButtonTopOffset || -7\r\n        },\r\n        textDisplay :{\r\n            maxWidth: \"calc(100% - 50px)\",\r\n            overflow: \"hidden\",\r\n            fontSize:14\r\n        },\r\n        itemContainer: {\r\n            minHeight: 20,\r\n            paddingTop: 4,\r\n            paddingBottom: 4\r\n        }\r\n    }\r\n);\r\n\r\nexport const SelectedListComponent = ({items, displayField, onRemove, maxHeight, leftControls,\r\n                                          closeButtonTopOffset\r\n}) => {\r\n\r\n    const classes = useStyle({closeButtonTopOffset});\r\n\r\n\r\n    return (\r\n        <div style={{maxHeight: maxHeight, overflow:\"auto\"}}>\r\n            <MenuList>\r\n                <ListNoData dataCount={items.length}>\r\n                    {items.map((item, index) => (\r\n                        <MenuItem key={index} className={classes.itemContainer}>\r\n                            {leftControls && leftControls(item, index)}\r\n                            <span className={classes.textDisplay}>{getItemPropertyValue(item, displayField)}</span>\r\n                            <IconButton onClick={ ()=> onRemove(item)}\r\n                                        className={classes.iconRight}\r\n                            >\r\n                                <Close/>\r\n                            </IconButton>\r\n                        </MenuItem>\r\n                    ))}\r\n                </ListNoData>\r\n            </MenuList>\r\n        </div>\r\n    );\r\n};\r\n\r\nSelectedListComponent.propTypes = {\r\n    items: PropTypes.array.isRequired,\r\n    displayField: PropTypes.oneOfType([\r\n        PropTypes.node.isRequired,\r\n        PropTypes.func.isRequired\r\n    ]),\r\n    onRemove: PropTypes.func,\r\n    maxHeight: PropTypes.number\r\n};\r\n\r\nexport const SelectedList = SelectedListComponent;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input, FormControl, InputLabel, MenuList, MenuItem, Popper, ClickAwayListener,\r\n    Grow, Paper, InputAdornment, Typography\r\n} from '@material-ui/core';\r\nimport {withStyles} from \"@material-ui/styles\";\r\nimport { Search, ArrowDropDown, ArrowDropUp\r\n} from '@material-ui/icons';\r\nimport { getItemPropertyValue } from \"../helpers\";\r\n\r\nclass SelectSearchComponent extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        const maxOptions = props.maxArrayLength || 7;\r\n        this.optionActiveRef = React.createRef();\r\n        this.state = {\r\n            showFullList: props.showFullList || false,\r\n            showDropDown: props.showDropDown || false,\r\n            searchString: \"\",//this.searchOptions(props.options, props.keyField, props.displayField, props.selected),\r\n            filteredPageOptions: props.options.slice(0,7),\r\n            filteredAllOptions: props.options,\r\n            autoFocus: props.autoFocus,\r\n            hasFocusOptionList: false,\r\n            hasFocusTextBox: false,\r\n            selectedIndex: 0,\r\n            maxArrayLength: maxOptions,\r\n            anchorEl: null\r\n        };\r\n    }\r\n\r\n    static getValueDisplay(props) {\r\n        const searchSelectedItem =props.selected && props.options.filter(item => {\r\n            return item[props.keyField] === props.selected[props.keyField]\r\n        }) || [];\r\n        return searchSelectedItem.length > 0 ? searchSelectedItem[0][props.displayField] : \"\";\r\n    }\r\n\r\n    onShowDropDown(event) {\r\n        // noinspection JSCheckFunctionSignatures\r\n        this.setState({anchorEl: event.currentTarget, showDropDown: true, filteredPageOptions: this.props.options.slice(0,7), filteredAllOptions: this.props.options});\r\n    }\r\n\r\n    hideDropDown() {\r\n        // noinspection JSCheckFunctionSignatures\r\n        this.setState({showDropDown: false});\r\n    }\r\n    /**\r\n     * @param {{keyCode:int}} e\r\n     */\r\n    onKeyPress(e){\r\n\r\n        if(e.keyCode === 13){\r\n            if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex) {\r\n                this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]);\r\n            }else if(this.state.showFullList) {\r\n                this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]);\r\n            }\r\n        } else if(e.keyCode === 40) {\r\n\r\n            if(this.state.showFullList && this.state.filteredAllOptions.length > this.state.selectedIndex + 1) {\r\n                // noinspection JSCheckFunctionSignatures\r\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\r\n                if(this.optionContainerRef && this.optionActiveRef) {\r\n                    if (this.optionContainerRef.scrollTo)\r\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\r\n                    else if (this.optionContainerRef.scrollTop !== undefined)\r\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\r\n                }\r\n            } if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex + 1) {\r\n                // noinspection JSCheckFunctionSignatures\r\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\r\n                if(this.optionContainerRef && this.optionActiveRef) {\r\n                    if (this.optionContainerRef.scrollTo)\r\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\r\n                    else if (this.optionContainerRef.scrollTop !== undefined)\r\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\r\n                }\r\n            }\r\n        } else if(e.keyCode === 38) {\r\n            if(this.state.selectedIndex  > 0) {\r\n                // noinspection JSCheckFunctionSignatures\r\n                this.setState({selectedIndex: this.state.selectedIndex - 1});\r\n                if(this.optionContainerRef && this.optionActiveRef) {\r\n                    if (this.optionContainerRef.scrollTo)\r\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop-46);\r\n                    else if (this.optionContainerRef.scrollTop !== undefined)\r\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop-46;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSearchChange(value) {\r\n        if(value !== \"\") {\r\n            const filtered = value && value.toLowerCase ? this.props.options.filter(item => {\r\n                return getItemPropertyValue(item,this.props.displayField).toLowerCase().indexOf(value.toLowerCase()) > -1;\r\n            }) : [];\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({searchString: value, filteredPageOptions : filtered.slice(0,7), selectedIndex : 0,\r\n                            filteredAllOptions: filtered});\r\n        }\r\n        else\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({searchString: value, filteredPageOptions : this.props.options.slice(0,7), selectedIndex : 0,\r\n                            filteredAllOptions: this.props.options});\r\n    }\r\n\r\n    onItemSelect(item) {\r\n        if(item) {\r\n            this.props.onChange(item);\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({showDropDown: false, searchString: \"\"});\r\n        }\r\n    }\r\n\r\n    onSetAnchor(ref) {\r\n        if(this.state.anchorEl === null && ref != null)\r\n        // noinspection JSCheckFunctionSignatures\r\n            this.setState({anchorEl: ref});\r\n    }\r\n\r\n    render() {\r\n        const valueDisplay = this.constructor.getValueDisplay(this.props);\r\n        const { label, classes } = this.props;\r\n        const {anchorEl, showDropDown} = this.state;\r\n\r\n        const isShowDropDown = Boolean(anchorEl) && showDropDown;\r\n\r\n        return (\r\n            <div className={classes.root} >\r\n                <FormControl style={{width:\"100%\"}}>\r\n                    <ClickAwayListener onClickAway={() => this.hideDropDown()}>\r\n                        <div>\r\n                            {this.state.showDropDown ?\r\n                                <FormControl style={{width:\"100%\"}}>\r\n                                    {label && label.length > 0 &&\r\n                                        <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\r\n                                    }\r\n\r\n                                    <Input\r\n                                        value={this.state.searchString}\r\n                                        ref={(ref) => { this.onSetAnchor(ref); } }\r\n                                        autoFocus={this.state.autoFocus}\r\n                                        onChange={(event)=> this.onSearchChange(event.target.value)}\r\n                                        onKeyDown={(event)=> this.onKeyPress(event)}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <Search style={{marginRight: 10}} color=\"primary\" />\r\n                                                { this.props.onClose &&\r\n                                                    <ArrowDropUp style={{marginRight: 10, cursor:\"pointer\"}}\r\n                                                                 color=\"primary\"\r\n                                                                 onClick={()=> this.props.onClose()}\r\n                                                    />\r\n                                                }\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </FormControl>\r\n                                :\r\n                                <FormControl style={{width:\"100%\"}}>\r\n                                    {label && label.length > 0 &&\r\n                                    <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\r\n                                    }\r\n                                    <Input autoFocus={this.state.autoFocus}\r\n                                        value={valueDisplay}\r\n                                        onClick={(event) => this.onShowDropDown(event)}\r\n                                        onKeyDown={(event) => this.onShowDropDown(event)}\r\n\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <ArrowDropDown style={{marginRight: 10}} color=\"primary\" />\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </FormControl>\r\n                            }\r\n\r\n                            <Popper open={isShowDropDown}\r\n                                    anchorEl={anchorEl}\r\n                                    style={{position:\"fixed\", zIndex:9999}}\r\n                                    transition disablePortal>\r\n\r\n                                {({ TransitionProps, placement }) => (\r\n                                    <Grow\r\n                                        {...TransitionProps}\r\n                                        id=\"menu-list-grow\"\r\n                                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                                    >\r\n                                        <Paper>\r\n                                            {!this.state.showFullList &&\r\n                                                <MenuList>\r\n                                                    {this.props.topControl }\r\n                                                    {this.state.filteredPageOptions.length > 0 &&\r\n                                                        this.state.filteredPageOptions.map((item, index) =>\r\n                                                            (\r\n                                                                <MenuItem key={index}\r\n                                                                          selected={index === this.state.selectedIndex}\r\n                                                                          onClick={() => this.onItemSelect(item)}>\r\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\r\n                                                                </MenuItem>\r\n                                                            ))\r\n                                                    }\r\n                                                    {this.state.filteredPageOptions.length === 0 &&\r\n                                                        <MenuItem>\r\n                                                            No Data\r\n                                                        </MenuItem>\r\n                                                    }\r\n\r\n                                                    {this.state.filteredPageOptions.length > 0 &&\r\n                                                        this.state.maxArrayLength === this.state.filteredPageOptions.length &&\r\n                                                            <Typography\r\n                                                                color=\"textSecondary\"\r\n                                                                className={classes.noOptionsMessage}\r\n                                                            >\r\n                                                                ...\r\n                                                            </Typography>\r\n                                                    }\r\n                                                </MenuList>\r\n                                            }\r\n\r\n                                            {this.state.showFullList &&\r\n                                                <div style={{maxHeight: 300, maxWidth: 300, overflow:\"auto\"}}\r\n                                                     ref={ (ref) => { this.optionContainerRef = ref; } }\r\n                                                >\r\n                                                <MenuList >\r\n                                                    {this.props.topControl }\r\n                                                    {this.state.filteredAllOptions.length > 0 &&\r\n                                                        this.state.filteredAllOptions.map((item, index) =>\r\n                                                        (\r\n                                                            index === this.state.selectedIndex ?\r\n                                                                <span key={index} ref={ (ref) => { this.optionActiveRef = ref; } } >\r\n                                                                <MenuItem\r\n\r\n                                                                          selected={index === this.state.selectedIndex}\r\n                                                                          onClick={() => this.onItemSelect(item)}>\r\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\r\n                                                                </MenuItem>\r\n                                                                </span>\r\n                                                                :\r\n                                                                <MenuItem key={index}\r\n                                                                          selected={index === this.state.selectedIndex}\r\n                                                                          onClick={() => this.onItemSelect(item)}>\r\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\r\n                                                                </MenuItem>\r\n                                                        ))\r\n                                                    }\r\n                                                    {this.state.filteredAllOptions.length === 0 &&\r\n                                                        <MenuItem>\r\n                                                            No Data\r\n                                                        </MenuItem>\r\n                                                    }\r\n                                                </MenuList>\r\n                                                </div>\r\n                                            }\r\n                                        </Paper>\r\n                                    </Grow>\r\n                                )}\r\n                            </Popper>\r\n                        </div>\r\n                    </ClickAwayListener>\r\n                </FormControl>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nSelectSearchComponent.propTypes = {\r\n    displayField: PropTypes.oneOfType([\r\n        PropTypes.node.isRequired,\r\n        PropTypes.func.isRequired\r\n    ]),\r\n    keyField: PropTypes.node.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    showFullList: PropTypes.bool,\r\n    onClose: PropTypes.func,\r\n    topControl: PropTypes.node\r\n};\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        zIndex: 99999999,\r\n        position: \"relative\"\r\n    },\r\n    paper: {\r\n        padding: theme.spacing(2),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        minHeight: 56\r\n    },\r\n    noOptionsMessage: {\r\n        padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n    },\r\n});\r\n\r\nexport const SelectSearch = withStyles(styles)(SelectSearchComponent);","import React from 'react';\r\nimport { CircularProgress} from '@material-ui/core';\r\nimport {withStyles} from \"@material-ui/styles\";\r\nimport {  PlayForWork as LoadingIcon} from '@material-ui/icons';\r\n\r\nconst styles = () => ({\r\n    spinnerWrapper: {\r\n        position: 'relative',\r\n        margin: 'auto',\r\n\r\n    },\r\n    fabProgress: {\r\n        color: \"primary\",\r\n        position: 'absolute',\r\n        left: 0,\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nexport const SpinnerDownloadingComponent = ({classes, spinnerSize, style, loading, children}) => {\r\n\r\n    return (\r\n        (children === undefined || loading) ?\r\n            <div className={classes.spinnerWrapper} style={{...style, width: spinnerSize}}>\r\n                <LoadingIcon color=\"secondary\" style={{width: spinnerSize, height: spinnerSize}}/>\r\n                <CircularProgress\r\n                    size={spinnerSize}\r\n                    className={classes.fabProgress}\r\n                />\r\n            </div> :\r\n            children\r\n    );\r\n};\r\n\r\nexport const SpinnerDownloading = withStyles(styles)(SpinnerDownloadingComponent);\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {SelectSearch} from \"../../utility/components\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\n\r\nexport const CategorySelectComponent = ({categoryList, onChange,\r\n                  categoryListInit, onCategoryListInit}) => {\r\n    const [selected, setSelected] = useState(null);\r\n    const modList = [{_id:null, category: \"All\"}, ...categoryList];\r\n    useEffect(()=>{\r\n        if(!categoryListInit)\r\n            onCategoryListInit();\r\n    });\r\n    return (\r\n        <SelectSearch\r\n            label=\"Category\"\r\n            showFullList={true}\r\n            options={modList}\r\n            keyField={\"_id\"}\r\n            displayField={\"category\"}\r\n            onChange={(category) => {\r\n                setSelected(category);\r\n                if(onChange)\r\n                    onChange(category);\r\n            }}\r\n            selected={selected}\r\n        />\r\n    )\r\n};\r\n\r\nexport const CategorySelect = connectArray(CategorySelectComponent,\r\n    [categoryModel]);","import React from  \"react\";\r\nimport {Snackbar, Paper, Typography} from \"@material-ui/core\";\r\nimport {Warning, Close, PriorityHigh} from \"@material-ui/icons\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const PopupError = ({errorMessage, onClearErrorMessage, status}) => {\r\n    const showPopup = !!(errorMessage && errorMessage.length > 0);\r\n    let statusColor = \"#ffffff\";\r\n    let StatusIcon = Warning;\r\n    if(status === \"success\" && showPopup) {\r\n        statusColor = \"#1ead29\";\r\n        StatusIcon = PriorityHigh;\r\n    } else if(showPopup)\r\n        statusColor = \"#ff525b\";\r\n\r\n    return (\r\n        <Snackbar\r\n            anchorOrigin={{ vertical: \"top\", horizontal : \"center\" }}\r\n            open={showPopup}\r\n            autoHideDuration={10000}\r\n            onClose={onClearErrorMessage}>\r\n            <Paper style={{\r\n                padding: 10,\r\n                backgroundColor: statusColor,\r\n                display:\"flex\"}}\r\n                   elevation={3}>\r\n                <StatusIcon style={{marginRight: 15, color:\"white\"}} />\r\n                <Typography style={{color: \"white\"}}>{errorMessage}</Typography>\r\n                <Close onClick={onClearErrorMessage}\r\n                       style={{marginLeft: 15, color:\"white\", cursor: \"pointer\"}}\r\n                />\r\n            </Paper>\r\n        </Snackbar>\r\n    );\r\n};\r\n\r\nPopupError.propTypes = {\r\n    errorMessage: PropTypes.string.isRequired,\r\n    onClearErrorMessage: PropTypes.func.isRequired\r\n};","import React from \"react\";\r\nimport {Card, CardHeader, CardContent, Switch,\r\n    FormControlLabel, Checkbox, IconButton} from \"@material-ui/core\";\r\nimport {ThreeSixty, ArrowForward, ArrowBack} from \"@material-ui/icons\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useCardSize} from \"../../utility/useIsMobile\";\r\nimport {getStore} from \"../../models/accounts/userAuthStore\";\r\nimport {toCurrency} from \"../../utility/helpers\";\r\nimport {PicRatioView} from \"pic-ratio-fill\";\r\nconst {catalogApi} = getStore();\r\n\r\nexport const CatalogCard = ({catalog, onClick, inEdit, onSetStatus,\r\n                            disableEdit, isSaving, category, savingCatalogSort,\r\n                            onAddCategory, onRemoveCategory, showSortArrows,\r\n                            onOrderChange, prevCatalog, nextCatalog,\r\n                                salesBackgroundColor, salesFontColor}) => {\r\n\r\n    const {widthCalc, heightPicCalc} = useCardSize();\r\n    const widthValue= inEdit ? \"100%\" : widthCalc;\r\n    const imageIsConfig = catalog.images && catalog.images.length > 0;\r\n\r\n    const imageId = imageIsConfig ?\r\n        catalog.images[0].id : \"5f41d4dac6f0db5918e4cb20\";\r\n\r\n    const classes = useStyle({\r\n        widthValue,\r\n        heightValue: heightPicCalc\r\n    });\r\n\r\n    const willFitWidth = imageIsConfig && catalog.images[0].willFitWidth;\r\n    const colorRgb = imageIsConfig && catalog.images[0].colorRgb;\r\n    //const colorRgbOther = imageIsConfig && catalog.images[0].colorRgbOther;\r\n\r\n    const filterCategory = category && catalog.categories.filter(\r\n        (cat) => cat._id === category._id ) || [];\r\n    const isInCategory = filterCategory.length > 0;\r\n\r\n    const inCategoryEdit = category && category._id;\r\n\r\n    // noinspection JSUnresolvedVariable\r\n    return (\r\n    <Card className={classes.card}>\r\n\r\n        <div className={classes.cardContainer} >\r\n            {!disableEdit &&\r\n            (\r\n                isSaving ?\r\n                    <FormControlLabel\r\n                        control={\r\n                            <ThreeSixty/>\r\n                        }\r\n                        label=\"Saving\"\r\n                        style={{minHeight: 42, marginLeft: 10}}\r\n                    /> :\r\n                    <FormControlLabel\r\n                        control={\r\n                            <Switch\r\n                                checked={catalog.status === \"active\"}\r\n                                onChange={(event)=> {\r\n                                    const newStatus = event.target.checked ?\r\n                                        \"active\" : \"disabled\";\r\n                                    onSetStatus(newStatus, catalog._id);\r\n                                }}\r\n                                color=\"primary\"\r\n                                name=\"checkedB\"\r\n                                inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                            />\r\n                        }\r\n                        label=\"Show\"\r\n                        style={{marginLeft: 3, marginRight: 0}}\r\n                    />\r\n            )\r\n            }\r\n\r\n            {!disableEdit &&\r\n            (\r\n                isSaving ?\r\n                    <FormControlLabel\r\n                        control={\r\n                            <ThreeSixty/>\r\n                        }\r\n                        label=\"Saving\"\r\n                        style={{minHeight: 42, marginLeft: 10}}\r\n                    /> :\r\n                    (inCategoryEdit && <FormControlLabel\r\n                        control={\r\n                            <Checkbox\r\n                                checked={isInCategory}\r\n                                onChange={(event) => {\r\n                                    const newStatusChecked = event.target.checked;\r\n                                    if(newStatusChecked)\r\n                                        onAddCategory({\r\n                                            catalog:catalog,\r\n                                            category\r\n                                        });\r\n                                    else\r\n                                        onRemoveCategory({\r\n                                            catalog:catalog,\r\n                                            categoryId:category._id\r\n                                        });\r\n                                }}\r\n                                inputProps={{'aria-label': 'primary checkbox'}}\r\n                            />\r\n                        }\r\n                        label=\"Categ...\"\r\n                        style={{marginLeft: 3}}\r\n                    />\r\n                    )\r\n            )\r\n            }\r\n            {\r\n                (catalog.sale === undefined || !catalog.sale.enabled) &&\r\n                <div\r\n                    className={classes.catPrice}\r\n\r\n                >${toCurrency(catalog.unitPrice)}</div>\r\n            }\r\n            {showSortArrows && inCategoryEdit && !savingCatalogSort && prevCatalog && isInCategory &&\r\n                <IconButton aria-label=\"Up\"\r\n                            size=\"medium\"\r\n                            className={classes.buttonLeft}\r\n                            onClick={()=> onOrderChange(catalog, category, prevCatalog)}\r\n                >\r\n                    <ArrowBack fontSize=\"large\" />\r\n                </IconButton>\r\n            }\r\n            <CardContent\r\n                onClick={() => {if(onClick) onClick();}}\r\n                className={willFitWidth ? classes.imageBoxWidth : classes.imageBoxHeight}\r\n            >\r\n                { catalog.sale && catalog.sale.enabled &&\r\n                    <div\r\n                        className={classes.catSale}\r\n                        style={{\r\n                            \"color\" : `rgb(${salesFontColor[0]},${salesFontColor[1]}, ${salesFontColor[2]})`,\r\n                            \"backgroundColor\": `rgb(${salesBackgroundColor[0]},${salesBackgroundColor[1]}, ${salesBackgroundColor[2]})`\r\n                        }}\r\n                    >${catalog.sale?.price}</div>\r\n                }\r\n                <PicRatioView\r\n                    src={`${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}`}\r\n                    width={widthValue}\r\n                    height={heightPicCalc}\r\n                    colorRgb={colorRgb}\r\n                    colorRgbOpposite={colorRgb}\r\n                    willFitWidth={willFitWidth}\r\n                />\r\n\r\n            </CardContent>\r\n            {showSortArrows && inCategoryEdit && !savingCatalogSort && nextCatalog && isInCategory &&\r\n            <IconButton aria-label=\"Up\"\r\n                        className={classes.buttonRight}\r\n                        onClick={()=> onOrderChange(catalog, category, nextCatalog)}\r\n            >\r\n                <ArrowForward fontSize=\"large\"/>\r\n            </IconButton>\r\n            }\r\n        <CardHeader\r\n            title={catalog.shortDesc || \"\"}\r\n            subheader={catalog.modelNumber && catalog.mfrName && `${catalog.mfrName} : ${catalog.modelNumber}` || \"_\"}\r\n            classes={{\r\n                title:classes.cardTitle,\r\n                subheader: classes.cardSubheader,\r\n                content : classes.cardRoot\r\n            }}\r\n        />\r\n        </div>\r\n    </Card>\r\n    )\r\n};\r\n//props => props.widthCalc\r\nconst useStyle = makeStyles({\r\n    catSale: {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        //font: \"800 16px Arial\",\r\n        \"border-bottom-right-radius\": 10,\r\n        \"border-bottom-left-radius\": 10,\r\n        \"border-top-left-radius\": 10,\r\n        color: \"white\",\r\n        right:0,\r\n        transform: \"rotate(30deg)\"\r\n    },\r\n    catPrice: {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#000000ba\",\r\n        //font: \"800 16px Arial\",\r\n        \"border-bottom-right-radius\": 10,\r\n        color: \"white\"\r\n    },\r\n    card: {\r\n        width: props => props.widthValue,\r\n        marginBottom: 20,\r\n        backgroundColor: \"#d0c6c626\"\r\n    },\r\n    cardContainer: {\r\n        position: \"relative\"\r\n    },\r\n    cardTitle: {\r\n        fontSize: 16,\r\n        width:\"100%\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\"\r\n    },\r\n    cardSubheader: {\r\n        fontSize: 14,\r\n        width:\"100%\",\r\n        whiteSpace: \"nowrap\",\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\"\r\n    },\r\n    cardRoot: {\r\n        width: \"100%\"\r\n    },\r\n    imageBoxHeight: {\r\n        width: props => props.widthValue,\r\n        height: props => props.heightValue,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\",\r\n        display:\"flex\",\r\n        padding:0\r\n    },\r\n    imageBoxWidth: {\r\n        width: props => props.widthValue,\r\n        height: props => props.heightValue,\r\n        overflow: \"hidden\",\r\n        backgroundColor: \"#afcdee\",\r\n        padding:0\r\n    },\r\n    buttonUp : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        left: \"calc(50% - 20px)\",\r\n        top: 40,\r\n        width: 50,\r\n        height: 50\r\n    },\r\n    buttonDown : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        left: \"calc(50% - 20px)\",\r\n        bottom: 75,\r\n        width: 50,\r\n        height: 50\r\n    },\r\n    buttonLeft : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        left: 5,\r\n        top: \"calc(50% - 20px)\",\r\n        width: 50,\r\n        height: 50\r\n    },\r\n    buttonRight : {\r\n        position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        backgroundColor: \"#1095ec8f\",\r\n        top: \"calc(50% - 20px)\",\r\n        right: 5,\r\n        width: 50,\r\n        height: 50\r\n    }\r\n});\r\n\r\n","// noinspection DuplicatedCode\r\n\r\nimport React, {useState, useEffect} from \"react\";\r\nimport {CatalogCard} from \"./CatalogCard\";\r\nimport {Typography, Divider} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {siteModel} from \"../../models/company/siteModel\";\r\nimport {useIsMobile} from \"../../utility/useIsMobile\";\r\n\r\n\r\nexport const CatalogListComponent = ({catalogListFiltered , categorySelected,\r\n         activeCatalogItem ,onSetCatalogStatus, onAddCategoryToCatalog,\r\n         onRemoveCategoryFromCatalog ,catalogStatusLoading, onCatalogOrderChange, savingCatalogSort,\r\n         onSetActiveCatalogItem, catalogListNoCategory, showSortArrows, site})=> {\r\n\r\n    const inEdit = activeCatalogItem !== null;\r\n    const classes = useStyle({inEdit});\r\n    const isMobile = useIsMobile();\r\n    const [itemsToLoad, setItemsToLoad] = useState(4);\r\n    useEffect(()=> {\r\n        console.log(itemsToLoad);\r\n        let tmrRef = null;\r\n        if(itemsToLoad < catalogListFiltered.length) {\r\n            tmrRef = setTimeout(()=> setItemsToLoad(itemsToLoad + 5), 200);\r\n        }\r\n        return () => {\r\n            if(tmrRef) clearTimeout(tmrRef);\r\n        }\r\n    })\r\n    return(\r\n        <div className={classes.container}>\r\n        <div className={classes.catalogListComponent}>\r\n\r\n            {  catalogListFiltered.slice(0, itemsToLoad).map((catalog, index)=> {\r\n\r\n                    const prevCatalog = index > 0 ?\r\n                        catalogListFiltered[index - 1] : null;\r\n\r\n                    const nextCatalog =\r\n                        catalogListFiltered.length > (index - 2) ?\r\n                            catalogListFiltered[index + 1] : null;\r\n\r\n                    const filterCategory = categorySelected && nextCatalog && nextCatalog.categories.filter(\r\n                        (cat) => cat._id === categorySelected._id ) || [];\r\n\r\n\r\n                    const nextIsInCategory = filterCategory.length > 0;\r\n                    return(\r\n                        <CatalogCard\r\n                            showSortArrows={showSortArrows}\r\n                            key={`${catalog._id}${catalog.sort}`}\r\n                            prevCatalog={prevCatalog}\r\n                            nextCatalog={nextIsInCategory ? nextCatalog : null}\r\n                            inEdit={inEdit}\r\n                            catalog={catalog}\r\n                            category={categorySelected}\r\n                            disableEdit={activeCatalogItem != null}\r\n                            onSetStatus={onSetCatalogStatus}\r\n                            onAddCategory={onAddCategoryToCatalog}\r\n                            onRemoveCategory={onRemoveCategoryFromCatalog}\r\n                            isSaving={catalog._id === catalogStatusLoading}\r\n                            onOrderChange={onCatalogOrderChange}\r\n                            savingCatalogSort={savingCatalogSort}\r\n                            salesBackgroundColor={site.salesBackgroundColor || [0, 255, 255]}\r\n                            salesFontColor={site.salesFontColor || [0, 0, 0]}\r\n                            onClick={() => {\r\n                                if (!isMobile) {\r\n                                    onSetActiveCatalogItem(catalog);\r\n                                }\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n            )}\r\n\r\n        </div>\r\n            <Divider variant=\"middle\" />\r\n            {!isMobile && catalogListNoCategory.length > 0 &&\r\n            <Typography gutterBottom variant=\"h5\">\r\n                Items not in any Category\r\n            </Typography>\r\n            }\r\n\r\n            <div className={classes.catalogListComponent}>\r\n\r\n            {!isMobile && catalogListNoCategory.map((catalog, index)=> {\r\n\r\n                    const prevCatalog = index > 0 ?\r\n                        catalogListFiltered[index - 1] : null;\r\n\r\n                    const nextCatalog =\r\n                        catalogListFiltered.length > (index - 2) ?\r\n                            catalogListFiltered[index + 1] : null;\r\n\r\n                    const filterCategory = categorySelected && nextCatalog && nextCatalog.categories.filter(\r\n                        (cat) => cat._id === categorySelected._id ) || [];\r\n\r\n\r\n                    const nextIsInCategory = filterCategory.length > 0;\r\n                    return(\r\n                        <CatalogCard\r\n                            key={`${catalog._id}${catalog.sort}`}\r\n                            prevCatalog={prevCatalog}\r\n                            nextCatalog={nextIsInCategory ? nextCatalog : null}\r\n                            inEdit={inEdit}\r\n                            catalog={catalog}\r\n                            category={categorySelected}\r\n                            disableEdit={activeCatalogItem != null}\r\n                            onSetStatus={onSetCatalogStatus}\r\n                            onAddCategory={onAddCategoryToCatalog}\r\n                            onRemoveCategory={onRemoveCategoryFromCatalog}\r\n                            isSaving={catalog._id === catalogStatusLoading}\r\n                            onOrderChange={onCatalogOrderChange}\r\n                            savingCatalogSort={savingCatalogSort}\r\n                            onClick={() => {\r\n                                if (!isMobile) {\r\n                                    onSetActiveCatalogItem(catalog);\r\n                                }\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n            )}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n//space-between\r\n//space-around\r\nconst useStyle = makeStyles({\r\n\r\n    catalogListComponent: {\r\n        '& :not(:nth-child(6n+1))' : {\r\n            marginLeft: \"calc( (97.6% - (16% * 6)) / 5 )\"\r\n        },\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-start',\r\n    }, container: {\r\n        display:\"block\",\r\n        flexWrap:\"wrap\",\r\n        justifyContent: \"flex-start\",\r\n        width: props => props.inEdit ? \"24vw\" : \"100%\",\r\n        overflow: \"auto\",\r\n    },noCatalogList: {\r\n        '& :not(:nth-child(6n+1))' : {\r\n            marginLeft: \"calc( (97.6% - (16% * 6)) / 5 )\"\r\n        },\r\n        display: 'flex',\r\n        flexWrap: 'nowrap',\r\n        justifyContent: 'flex-start',\r\n    },\r\n\r\n});\r\nexport const CatalogList = connectArray(CatalogListComponent,[catalogModel, categoryModel, siteModel]);\r\n","import React from \"react\";\r\nimport {DataUsage, Category} from\"@material-ui/icons\";\r\n\r\nexport const CatalogItemIcon = DataUsage;\r\nexport const CategoryIcons = Category;\r\n\r\n","import React, {Fragment, useEffect, useState} from \"react\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {siteModel} from \"../../models/company/siteModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {makeStyles, withStyles} from \"@material-ui/core/styles\";\r\nimport {Button, IconButton, Typography} from \"@material-ui/core\";\r\nimport {Close, Edit, Save} from \"@material-ui/icons\";\r\nimport {CatalogItemEdit} from \"./CatalogItemEdit\";\r\nimport {useIsMobile} from \"../../utility/useIsMobile\";\r\nimport {CategorySelect} from \"./CategorySelect\";\r\nimport {PopupError} from \"../../utility/components/PopupError\";\r\nimport {Accordion } from '@material-ui/core';\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {CatalogList} from \"./CatalogListComponent\";\r\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {CatalogItemIcon} from \"../SiteIcons\";\r\nimport {HuePicker, CompactPicker} from \"react-color\";\r\n\r\nconst AccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        padding: theme.spacing(2),\r\n    }\r\n}))(MuiAccordionDetails);\r\nconst AccordionSummary = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgba(0, 0, 0, .03)',\r\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        marginBottom: -1,\r\n        minHeight: 56,\r\n        '&$expanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n        alignItems:'center'\r\n    },\r\n    expanded: {},\r\n})(MuiAccordionSummary);\r\nexport const CatalogTableComponent = ({catalogList,catalogTotals,onSetCatalogTotals,\r\n                                          catalogListInit, onCatalogListInit,\r\n                                          onSetActiveCatalogItem, activeCatalogItem,\r\n                                          onCategorySelectChange, catalogListLoadError,\r\n                                          onClearCatalogError, categoryList,\r\n                                        onSaveSiteColor, siteDataInitialized, onLoadSite,\r\n                                          site, setSalesBackgroundColor, setSalesFontColor\r\n                                      }) => {\r\n\r\n    useEffect(()=> {\r\n        if(!catalogListInit)\r\n            onCatalogListInit();\r\n        if(!siteDataInitialized && catalogList.length > 0)\r\n            onLoadSite();\r\n    });\r\n    useEffect(()=> {\r\n        if(catalogTotals.length===0 && categoryList.length > 0 &&\r\n            catalogList.length > 0) {\r\n\r\n            onSetCatalogTotals(categoryList, catalogList);\r\n        }\r\n    });\r\n\r\n\r\n    const isMobile = useIsMobile();\r\n    const [categorySelected, setCategorySelected] = useState({_id:null, category: \"All\"});\r\n    const [editSalesTextStyle, setEditSalesTextStyle] =\r\n        useState(false);\r\n\r\n    console.log(\"site\");\r\n    console.log(site);\r\n    const salesBackgroundColor = site.salesBackgroundColor ?? [0,255,255];\r\n    const salesFontColor = site.salesFontColor ?? [0,0,0];\r\n    console.log(salesBackgroundColor);\r\n\r\n    const [showSortArrows, setShowSortArrows] = useState(false);\r\n    const inEdit = activeCatalogItem !== null;\r\n    const classes = useStyle({inEdit});\r\n\r\n    const errorMessage = catalogListLoadError &&\r\n        Array.isArray(catalogListLoadError) &&\r\n        catalogListLoadError.length > 0 &&\r\n        `${catalogListLoadError[0].dataPath} ${catalogListLoadError[0].message}`\r\n        || \"Error Saving\";\r\n    console.log(errorMessage);\r\n\r\n\r\n    const salesBackgroundRgbValue = salesBackgroundColor?.length > 2 ?\r\n        `rgb(${salesBackgroundColor[0]},${salesBackgroundColor[1]}, ${salesBackgroundColor[2]})`:\r\n        \"rgb(255,255,255)\";\r\n\r\n    //salesFontColor\r\n    const salesFontRgbValue = salesFontColor.length > 2 ?\r\n        `rgb(${salesFontColor[0]},${salesFontColor[1]}, ${salesFontColor[2]})`:\r\n        \"rgb(255,255,255)\";\r\n\r\n    return (\r\n        <Fragment>\r\n            <PopupError\r\n                errorMessage={catalogListLoadError && errorMessage || \"\"}\r\n                onClearErrorMessage={() => onClearCatalogError(false)}\r\n                status={\"error\"}\r\n            />\r\n            <Accordion\r\n                expanded={editSalesTextStyle}\r\n                className={classes.accordion}\r\n                onChange={()=> {\r\n                    setEditSalesTextStyle(!editSalesTextStyle);\r\n                }}\r\n            >\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon/>}\r\n                >\r\n                    <Edit />\r\n                    <Typography className={classes.categoryTitle}>\r\n                        Sales Text Styling\r\n                    </Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <div style={{display:\"flex\"}}>\r\n                        <div>\r\n                            <div style={{display:\"flex\"}}>\r\n                                <Typography className={classes.categoryTitle}\r\n                                            style={{padding: 10, width: 250}}\r\n                                >\r\n                                    Sales Background Color\r\n                                </Typography>\r\n                                <div style={{display: \"flex\",\r\n\r\n                                    padding: \"7px\"\r\n                                }}\r\n                                >\r\n                                    <HuePicker\r\n                                        color={{r: salesBackgroundColor[0], g: salesBackgroundColor[1], b: salesBackgroundColor[2]}}\r\n                                        onChangeComplete={(color) => {\r\n                                            setSalesBackgroundColor([color.rgb.r, color.rgb.g, color.rgb.b]);\r\n                                        }}\r\n                                    />\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div style={{display:\"flex\"}}>\r\n                                <Typography className={classes.categoryTitle}\r\n                                            style={{padding: 10, width: 250}}\r\n                                >\r\n                                    Sales Font Color\r\n                                </Typography>\r\n                                <div style={{display: \"flex\",\r\n\r\n                                    padding: \"7px\",\r\n                                    marginTop: 10\r\n                                }}\r\n                                >\r\n                                    <CompactPicker\r\n                                        color={{r: salesFontColor[0], g: salesFontColor[1], b: salesFontColor[2]}}\r\n                                        onChangeComplete={(color) => {\r\n                                            setSalesFontColor([color.rgb.r, color.rgb.g, color.rgb.b]);\r\n                                        }}\r\n                                    />\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div style={{paddingLeft: 20, display: \"flex\"}}>\r\n                            <div\r\n                                className={classes.catSale}\r\n                                style={{\r\n                                    \"backgroundColor\": `${salesBackgroundRgbValue}`,\r\n                                    \"color\": `${salesFontRgbValue}`,\r\n                                    \"width\": 35,\r\n                                    \"height\": 20\r\n                                }}\r\n                            >$999</div>\r\n\r\n                            <div style={{margin: 20}}>\r\n                                <Button variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        startIcon={<Save />}\r\n                                        style={{marginRight: 20}}\r\n                                        onClick={() => onSaveSiteColor({salesBackgroundColor,salesFontColor})}\r\n                                >\r\n                                    Save Style\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </AccordionDetails>\r\n\r\n            </Accordion>\r\n\r\n            <div style={{width: 360, marginTop: -10, marginBottom: 10}}>\r\n                <CategorySelect\r\n                    onChange={(category) => {\r\n                        setCategorySelected(category);\r\n                        onCategorySelectChange(category);\r\n                    }}\r\n                />\r\n            </div>\r\n            <div className={classes.mainContainer}>\r\n                <div className={classes.scrollContainer}>\r\n                    <div className={classes.container}>\r\n\r\n                        {categoryList.map((category) => {\r\n                           const totals= catalogTotals ? catalogTotals.filter((aItem) =>\r\n                                aItem._id === category._id) : [];\r\n                           const expandCategory = category._id === categorySelected._id;\r\n                            return(\r\n\r\n                            <Accordion expanded={expandCategory}\r\n                                       TransitionProps={{timeout:0}}\r\n                                       onChange={()=>{\r\n                                           console.log(\"click\");\r\n                                           if (category._id === categorySelected._id) {\r\n                                               const emptyCat = {_id: null, category: \"All\"};\r\n                                               setCategorySelected(emptyCat);\r\n                                               onCategorySelectChange(emptyCat);\r\n                                           } else {\r\n                                               setCategorySelected(category);\r\n                                               onCategorySelectChange(category);\r\n                                           }\r\n                                       }}\r\n                                       key={category._id}\r\n                                       className={classes.accordion}\r\n                                       hidden={categorySelected && categorySelected._id && category._id !== categorySelected._id}\r\n\r\n                            >\r\n                                <AccordionSummary\r\n                                    expandIcon={<ExpandMoreIcon/>}\r\n                                >\r\n                                    <CatalogItemIcon />\r\n                                    <Typography className={classes.categoryTitle}>\r\n                                       {category.category}\r\n                                    </Typography>\r\n                                    {!inEdit&&\r\n                                        <>\r\n                                    {\r\n                                        !isMobile && totals.length > 0 &&\r\n                                            <Typography style={{marginRight: '10%', position: 'absolute', right: 30}}>\r\n                                                Active: {totals[0].activeTotal} Disabled: {totals[0].disabledTotal} Total: {totals[0].disabledTotal + totals[0].activeTotal}\r\n                                            </Typography>\r\n                                    }\r\n                                    {!isMobile && !inEdit&& category._id === categorySelected._id ?\r\n                                        <>\r\n                                        <Button variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                className={classes.reorderButton}\r\n                                                onClick={(event)=> {\r\n                                                    event.stopPropagation();\r\n                                                    setShowSortArrows(!showSortArrows);\r\n                                                    console.log(\"test\");\r\n                                                }}\r\n                                        >\r\n                                            {showSortArrows ? \"Hide\" : \"Show\" } Reorder Arrows\r\n                                        </Button>\r\n                                        </> : null}\r\n                                        </>\r\n                                    }\r\n\r\n\r\n                                </AccordionSummary>\r\n                                <AccordionDetails>\r\n\r\n                                    {expandCategory && <CatalogList\r\n                                        showSortArrows={!isMobile && showSortArrows}\r\n                                    />\r\n                                    }\r\n                                </AccordionDetails>\r\n\r\n                            </Accordion>\r\n\r\n\r\n                            )\r\n\r\n                        })\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                {inEdit &&\r\n                <div className={classes.containerEdit}>\r\n                    <div style={{width: \"100%\"}}>\r\n                        <IconButton\r\n                            className={classes.editControl}\r\n                            onClick={()=> {\r\n                                onSetActiveCatalogItem(null);\r\n                            }}\r\n                        >\r\n                            <Close/>\r\n                        </IconButton>\r\n                    </div>\r\n                    <CatalogItemEdit />\r\n                </div>\r\n                }\r\n\r\n\r\n\r\n            </div>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const CatalogTable = connectArray(CatalogTableComponent,\r\n    [catalogModel, categoryModel, siteModel]);\r\n\r\nconst useStyle = makeStyles({\r\n    catSale: {\r\n        //position: \"absolute\",\r\n        //transform: \"translate(10%, 15%)\",\r\n        zIndex: 9,\r\n        padding: 15,\r\n        //font: \"800 16px Arial\",\r\n        \"border-bottom-right-radius\": 10,\r\n        \"border-bottom-left-radius\": 10,\r\n        \"border-top-left-radius\": 10,\r\n        color: \"white\",\r\n        right:0,\r\n        transform: \"rotate(0deg)\"\r\n    },\r\n    scrollContainer: {\r\n        height: \"calc( 100vh - 120px)\",\r\n        width: props => props.inEdit ? \"0vw\" : \"100%\",\r\n        overflow: \"auto\",\r\n    },\r\n    container: {\r\n        display:\"block\",\r\n        flexWrap:\"wrap\",\r\n        justifyContent: \"space-between\",\r\n        width:  \"100%\",\r\n\r\n    },\r\n    containerEdit: {\r\n        display:\"flex\",\r\n        flexWrap:\"wrap\",\r\n        justifyContent: \"flex-start\",\r\n        height: 80,\r\n        width: \"calc( 75vw - 87px)\"\r\n    },\r\n    editControl: {\r\n        position: \"absolute\",\r\n        right: 10,\r\n        //top: 90,\r\n        zIndex: 999\r\n    },\r\n    mainContainer: {\r\n        display:\"flex\",\r\n        flexWrap:\"wrap\",\r\n    },\r\n    gridList: {\r\n        flexWrap: 'wrap',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n      },\r\n      gridListBottom: {\r\n        flexWrap: 'nowrap',\r\n        bottom:0,\r\n        position:'absolute',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n        display:'flex',\r\n        width: '100%',\r\n        overflow: 'scroll'\r\n\r\n      },\r\n      gridListTile:{\r\n\r\n\r\n      },\r\n      accordion:{\r\n          height:'100%'\r\n      },\r\n    accordionDetails:{\r\n        '&$expanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n      reorderButton: {\r\n        margin:0,\r\n          'text-transform':'none',\r\n          background:'#64b5f6',\r\n          marginLeft:'40px'\r\n      },\r\n    categoryTitle:{\r\n        fontWeight:500,\r\n        fontSize:'large',\r\n        marginLeft: 15\r\n    }\r\n});\r\n","import React, {Fragment} from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {OpenWith} from \"@material-ui/icons\";\r\nimport {CatalogTable} from \"../catalog/CatalogTable\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {CatalogItemIcon} from \"../SiteIcons\";\r\n\r\nexport const HomeMainComponent = ({onCreateNewCatalog,\r\n    onCatalogSearch, catalogSearchText }) => {\r\n    //const { user, isAuthenticated } = useAuth0();\r\n\r\n    return (\r\n        <Fragment>\r\n            <AppBarTitleAddSearch\r\n                title=\"Catalogs\"\r\n                LeftIcon={CatalogItemIcon}\r\n                onSearchChange={(value) => {\r\n                    onCatalogSearch(value);\r\n                }}\r\n\r\n                onAdd={()=> {\r\n                    onCreateNewCatalog();\r\n                } }\r\n            />\r\n            <CatalogTable/>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport const HomeMain = connectArray(HomeMainComponent,[catalogModel]);","import React, {Fragment} from 'react';\r\nimport { Redirect, Route} from 'react-router-dom';\r\nimport {hasFeature, hasToken} from \"../models/accounts/userAuthStore\";\r\nimport {useAuth0} from \"@auth0/auth0-react\";\r\n\r\nexport const PrivateRoute = ({ history, permission, component: Component, ...rest }) => {\r\n    const { isLoading, isAuthenticated } = useAuth0();\r\n\r\n    const calcHasFeature = hasFeature(permission);\r\n    const calcHasAuth = (isAuthenticated || hasToken()) && calcHasFeature;\r\n\r\n    return (\r\n        <Route {...rest} render={(props) => {\r\n            //hasFeature(permission) ||\r\n            return (\r\n                <Fragment>\r\n                    {calcHasAuth && <Component {...props} />}\r\n                    {!calcHasAuth && !isLoading &&\r\n                    <Redirect push={true} to={{pathname: '/login', state: {from: props.location}}}/>\r\n                    }\r\n                    {!calcHasAuth && isLoading &&\r\n                    <span>...Loading User Privileges</span>\r\n                    }\r\n                </Fragment>\r\n            );\r\n        }}\r\n        />\r\n    )\r\n};","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Paper, ListItemText, ListItem, TextField,\r\n    ListItemIcon, FormControlLabel, Checkbox, IconButton,\r\n    InputLabel, Select, MenuItem, FormControl\r\n} from \"@material-ui/core\";\r\nimport {Category, Save, Delete} from \"@material-ui/icons\";\r\n\r\nexport const CategoryItemEdit = ({category, saveCategory, deleteCategoey}) => {\r\n    const [itemChanged, setItemChanged] = useState(false);\r\n    const [itemEdit, setItemEdit] = useState({...category});\r\n    const onValueChange = (fieldName, value) => {\r\n        setItemEdit({...itemEdit, [fieldName]: value});\r\n        setItemChanged(true);\r\n    };\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <Paper className={classes.paper}>\r\n            <ListItem style={{display: \"flex\"}}>\r\n                <ListItemIcon>\r\n                    <Category />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    primary={itemEdit.category}\r\n                    classes={{\r\n                        primary: itemChanged ? classes.title : undefined\r\n                    }}\r\n                />\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            saveCategory(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Save />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            deleteCategoey(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Delete />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n            </ListItem>\r\n            <ListItem>\r\n                <FormControlLabel\r\n                    style={{width:\"50%\"}}\r\n                    control={\r\n                        <Checkbox\r\n                            checked={itemEdit.systemOnly}\r\n                            onChange={(event)=> {\r\n                                const newStatus = event.target.checked;\r\n                                onValueChange(\"systemOnly\",newStatus);\r\n                            }}\r\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                        />\r\n                    }\r\n                    label=\"System\"\r\n                />\r\n                <FormControl className={classes.formControl}>\r\n                    <InputLabel>Sort</InputLabel>\r\n                    <Select\r\n                        value={itemEdit.sort}\r\n                        onChange={(event)=>{\r\n                            onValueChange(\"sort\",event.target.value)\r\n                        }}\r\n                    >\r\n                        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((value) => (\r\n                            <MenuItem key={value} value={value}>{value}</MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Title\"\r\n                    value={itemEdit.category}\r\n                    onChange={(event) => onValueChange(\"category\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    edgeEndChange: {\r\n        marginRight: -20\r\n    },\r\n    title: {\r\n        fontWeight: 900,\r\n        color: \"limegreen\",\r\n        fontSize: \"x-large\"\r\n    }\r\n}));","import React, {Fragment, useEffect} from \"react\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {CategoryItemEdit} from \"./CategoryItemEdit\";\r\n\r\nconst CategoryTableComponent = ({onCategoryListInit, categoryListInit,\r\n                                    categoryList, onSaveCategoryItem,\r\n                                    onDeleteCategory}) => {\r\n    useEffect(()=> {\r\n        if(!categoryListInit)\r\n            onCategoryListInit();\r\n    });\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <Grid container className={classes.root} spacing={2}>\r\n            {categoryList.map((category, index) => {\r\n\r\n                return (\r\n                    <Grid item xs={12} md={4} key={category._id}>\r\n                        <CategoryItemEdit\r\n                            category={category}\r\n                            saveCategory={onSaveCategoryItem}\r\n                            deleteCategoey={onDeleteCategory}\r\n                        />\r\n                    </Grid>\r\n                )\r\n            })}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const CategoryTable = connectArray(CategoryTableComponent,\r\n    [categoryModel]);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    control: {\r\n\r\n    },\r\n}));","import React, {Fragment} from \"react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {OpenWith} from \"@material-ui/icons\";\r\nimport {CategoryTable} from \"../catalog/CategoryTable\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {categoryModel} from \"../../models/home/categoryModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\n\r\nexport const CategoryMaintenanceComponent = ({onCreateNewCategory}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Fragment>\r\n\r\n            <AppBarTitleAddSearch\r\n                title=\"Category\"\r\n                LeftIcon={OpenWith}\r\n                onSearchChange={(value) => {}}\r\n                onAdd={()=> {\r\n                    onCreateNewCategory();\r\n                }}\r\n            />\r\n            <div className={classes.mainContainer}>\r\n                <CategoryTable/>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const CategoryMaintenance = connectArray(\r\n    CategoryMaintenanceComponent, [categoryModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer: {\r\n        backgroundColor: \"#e8e7e7\",\r\n        minHeight: \"calc(100vh - 65px)\",\r\n        padding: 5,\r\n        marginTop: -10\r\n    }\r\n});\r\n","\r\n\r\nexport const hoursToView = (hoursFull) => {\r\n    const result = [];\r\n    if(hoursFull && Array.isArray(hoursFull) && hoursFull.length > 0) {\r\n        let prevHour = {hours: \"\"};\r\n        let prevResult = \"\";\r\n        hoursFull.forEach((hourIn, index)=> {\r\n            if(index > 0 && prevHour.hours !== hourIn.hours)\r\n                result.push(prevResult);\r\n\r\n            prevResult = calcHour(hourIn.day, hourIn.hours, prevHour);\r\n\r\n            if(prevHour.hours !== hourIn.hours)\r\n                prevHour = hourIn;\r\n        });\r\n        result.push(prevResult);\r\n    }\r\n    return result.length > 0 ? result : [\"Please call for hours\"];\r\n};\r\n\r\nconst calcHour = (day, hours, prevDay) => {\r\n    const dayRef = dayOptions.filter((dayOption) => dayOption.id === day);\r\n    const dayRefPrev = prevDay ? dayOptions.filter((dayOption) => dayOption.id === prevDay.day)\r\n        : null;\r\n\r\n    if(dayRef.length > 0) {\r\n        if (dayRefPrev && dayRefPrev.length > 0 && prevDay.hours === hours)\r\n            return `${dayRefPrev[0].short} to ${dayRef[0].short} ${hours}`;\r\n        else\r\n            return `${dayRef[0].short} ${hours}`;\r\n    }\r\n    else\r\n        return \"\";\r\n};\r\n\r\nexport const createHoursEditModel = (startingHours) => {\r\n    return dayOptions.map((dayOption) => {\r\n        const findHour = startingHours.filter((stHour) => stHour.day === dayOption.id);\r\n        if(findHour.length > 0)\r\n            return {...dayOption, hours: findHour[0].hours, selected: true};\r\n        else\r\n            return {...dayOption, hours: \"\", selected: false};\r\n    });\r\n};\r\n\r\nexport const dayOptions = [\r\n    {\r\n        \"id\": 0,\r\n        \"name\": \"Sunday\",\r\n        \"short\": \"Sun\"\r\n    }, {\r\n        \"id\": 1,\r\n        \"name\": \"Monday\",\r\n        \"short\": \"Mon\"\r\n    }, {\r\n        \"id\": 2,\r\n        \"name\": \"Tuesday\",\r\n        \"short\": \"Tues\"\r\n    }, {\r\n        \"id\": 3,\r\n        \"name\": \"Wednesday\",\r\n        \"short\": \"Wed\"\r\n    }, {\r\n        \"id\": 4,\r\n        \"name\": \"Thursday\",\r\n        \"short\": \"Thurs\"\r\n    }, {\r\n        \"id\": 5,\r\n        \"name\": \"Friday\",\r\n        \"short\": \"Fri\"\r\n    }, {\r\n        \"id\": 6,\r\n        \"name\": \"Saturday\",\r\n        \"short\": \"Sat\"\r\n    }\r\n];","import React, {Fragment, useState} from \"react\";\r\nimport {createHoursEditModel} from \"../../models/company/locationHoursManager\";\r\nimport {ListItem, ListItemIcon, Checkbox,\r\n    ListItemText, TextField, Button} from \"@material-ui/core\"\r\nimport {Save} from \"@material-ui/icons\";\r\nexport const LocationHoursEdit = ({hoursFull, save}) => {\r\n    const [viewHours, setViewHours] =\r\n        useState(createHoursEditModel(hoursFull));\r\n    const changeValue = (arrayIndex, fieldName, fieldValue) => {\r\n        const newValue = viewHours.map((hour, index)=> {\r\n            if(arrayIndex === index)\r\n                return {...hour, [fieldName]: fieldValue};\r\n            else\r\n                return hour;\r\n        });\r\n        setViewHours(newValue);\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {\r\n                viewHours.map((hour, index) => {\r\n\r\n                    return (\r\n                        <ListItem key={hour.id} role={undefined} dense button>\r\n                            <ListItemIcon>\r\n                                <Checkbox\r\n                                    edge=\"start\"\r\n                                    checked={hour.selected}\r\n                                    tabIndex={-1}\r\n                                    disableRipple\r\n                                    onChange={(event)=> {\r\n                                        changeValue(index,\"selected\",\r\n                                            event.target.checked)\r\n                                    }}\r\n                                />\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                style={{minWidth:100}}\r\n                                primary={hour.name} />\r\n                            <ListItemText\r\n                                style={{minWidth:200}}\r\n                                primary={\r\n                                    <TextField\r\n                                        label=\"Hours\"\r\n                                        value={hour.hours}\r\n                                        onChange={(event) => {\r\n                                            changeValue(index, \"hours\",\r\n                                                event.target.value)\r\n                                        }}\r\n                                />}\r\n                            />\r\n                        </ListItem>\r\n                    )\r\n                })\r\n            }\r\n            <Button\r\n                style={{marginTop: 20}}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                startIcon={<Save />}\r\n                onClick={()=> {\r\n                    save(viewHours.filter((vh)=> vh.selected)\r\n                        .map((vh) => ({\r\n                        day: vh.id,\r\n                        hours: vh.hours\r\n                    })))\r\n                }}\r\n            >\r\n                Save\r\n            </Button>\r\n        </Fragment>\r\n    );\r\n};","import React, {useState} from  \"react\";\r\nimport {hoursToView} from \"../../models/company/locationHoursManager\";\r\nimport {Modal,Paper, ListItem, ListItemIcon,\r\n    ListItemText, IconButton} from \"@material-ui/core\";\r\nimport {AccessTime, Close, Edit, Timelapse} from \"@material-ui/icons\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {LocationHoursEdit} from \"./LocationHoursEdit\";\r\n\r\nexport const LocationHours = ({hoursFull, save}) => {\r\n    //const [hours, setHours] = useState(hoursToView(hoursFull));\r\n    const hours = hoursToView(hoursFull);\r\n    const [open, setOpen] = useState(false);\r\n    const classes = useStyle();\r\n    return (\r\n        <div>\r\n            <ListItem>\r\n                <ListItemIcon\r\n                    style={{marginLeft: -25}}\r\n                >\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            setOpen(true);\r\n                        }}\r\n                    >\r\n                        <Edit />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    primary=\"Hours\"\r\n                    classes={{\r\n                        primary: undefined\r\n                    }}\r\n                />\r\n\r\n\r\n            </ListItem>\r\n\r\n            {hours.map((hour) => {\r\n\r\n                return (\r\n                    <div key={hour}>{hour}</div>\r\n                )\r\n              })\r\n            }\r\n            <Modal\r\n                open={open}\r\n                onClose={()=> setOpen(false)}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n            >\r\n                <Paper className={classes.modalPaper}>\r\n                    <ListItem style={{\r\n                        display: \"flex\",\r\n                        marginTop:-15\r\n                    }}>\r\n                        <ListItemIcon style={{marginLeft:-20}}>\r\n                            <AccessTime />\r\n                        </ListItemIcon>\r\n\r\n                        <ListItemText\r\n                            primary=\"Hours\"\r\n                        />\r\n\r\n                        <ListItemIcon className={classes.edgeEndChange}>\r\n                            <IconButton\r\n                                edge=\"end\"\r\n                                aria-label=\"Save\"\r\n                                color=\"primary\"\r\n                                classes={{\r\n                                    edgeEnd:classes.edgeEndChange\r\n                                }}\r\n                                onClick={()=> {\r\n                                    setOpen(false);\r\n                                }}\r\n                            >\r\n                                <Close />\r\n                            </IconButton>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                    <LocationHoursEdit\r\n                        hoursFull={hoursFull}\r\n                        save={(newList)=> {\r\n                            setOpen(false);\r\n                            //setHours(hoursToView(newList));\r\n                            save(newList);\r\n                        }}\r\n                    />\r\n                </Paper>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst useStyle = makeStyles({\r\n    modalPaper: {\r\n        position: 'absolute',\r\n        width: 400,\r\n        padding: 20,\r\n        top: \"5%\",\r\n        left: \"calc(50% - 200px)\",\r\n        overflowX: \"hidden\",\r\n        overflowY: \"auto\",\r\n        minHeight: 300\r\n    },\r\n    edgeEndChange: {\r\n        marginRight: -20\r\n    },\r\n});","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Paper, ListItemText, ListItem, TextField,\r\n    ListItemIcon, IconButton\r\n} from \"@material-ui/core\";\r\nimport {HomeTwoTone, Save, Delete} from \"@material-ui/icons\";\r\nimport {LocationHours} from \"./LocationHours\";\r\n\r\nexport const LocationItemEdit = ({location, saveLocation,\r\n                                     deleteLocation}) => {\r\n\r\n    const [itemChanged, setItemChanged] = useState(false);\r\n    const [itemEdit, setItemEdit] = useState({...location});\r\n    const onValueChange = (fieldName, value, setChange = true) => {\r\n        setItemEdit({...itemEdit, [fieldName]: value});\r\n        setItemChanged(setChange);\r\n    };\r\n\r\n    const onChangeAddress = (fieldName, value) => {\r\n        const address = {...itemEdit.address, [fieldName]: value};\r\n        setItemEdit({...itemEdit, address });\r\n        setItemChanged(true);\r\n    };\r\n\r\n    const classes = useStyles();\r\n    return (\r\n        <Paper className={classes.paper}>\r\n            <ListItem>\r\n                <ListItemIcon>\r\n                    <HomeTwoTone />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    primary={itemEdit.locationName}\r\n                    classes={{\r\n                        primary: itemChanged ? classes.title : undefined\r\n                    }}\r\n                />\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            saveLocation(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Save />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n\r\n                <ListItemIcon>\r\n                    <IconButton\r\n                        edge=\"end\"\r\n                        aria-label=\"Save\"\r\n                        color=\"primary\"\r\n                        classes={{\r\n                            edgeEnd:classes.edgeEndChange\r\n                        }}\r\n                        onClick={()=> {\r\n                            deleteLocation(itemEdit);\r\n                            setItemChanged(false);\r\n                        }}\r\n                    >\r\n                        <Delete />\r\n                    </IconButton>\r\n                </ListItemIcon>\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Title\"\r\n                    value={itemEdit.locationName}\r\n                    onChange={(event) => onValueChange(\"locationName\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Address 1\"\r\n                    value={itemEdit.address.address1}\r\n                    onChange={(event) => onChangeAddress(\"address1\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Address 2\"\r\n                    value={itemEdit.address.address2}\r\n                    onChange={(event) => onChangeAddress(\"address1\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"45%\", marginRight:\"10%\"}}\r\n                    label=\"City\"\r\n                    value={itemEdit.address.city}\r\n                    onChange={(event) => onChangeAddress(\"city\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"45%\"}}\r\n                    label=\"State\"\r\n                    value={itemEdit.address.state}\r\n                    onChange={(event) => onChangeAddress(\"state\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"30%\", marginRight:\"5%\"}}\r\n                    label=\"Zip Code\"\r\n                    value={itemEdit.address.zipCode}\r\n                    onChange={(event) => onChangeAddress(\"zipCode\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"30%\", marginRight:\"5%\"}}\r\n                    label=\"Phone#\"\r\n                    value={itemEdit.phonePublic}\r\n                    onChange={(event) => onValueChange(\"phonePublic\", event.target.value)}\r\n                />\r\n\r\n                <TextField\r\n                    style={{width:\"30%\"}}\r\n                    label=\"Map Link\"\r\n                    value={itemEdit.mapLink}\r\n                    onChange={(event) => onValueChange(\"mapLink\", event.target.value)}\r\n                />\r\n\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <TextField\r\n                    style={{width:\"100%\"}}\r\n                    label=\"Email\"\r\n                    value={itemEdit.email}\r\n                    onChange={(event) => onValueChange(\"email\", event.target.value)}\r\n                />\r\n            </ListItem>\r\n\r\n            <ListItem>\r\n                <LocationHours\r\n                    hoursFull={itemEdit.hours}\r\n                    save={(hours)=> {\r\n                        onValueChange(\"hours\",hours, false);\r\n                        saveLocation({...itemEdit, hours});\r\n                    }}\r\n                    />\r\n            </ListItem>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    edgeEndChange: {\r\n        marginRight: -20\r\n    },\r\n    title: {\r\n        fontWeight: 900,\r\n        color: \"limegreen\",\r\n        fontSize: \"x-large\"\r\n    }\r\n}));","import React, {Fragment, useEffect} from \"react\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {companyLocationModel} from \"../../models/company/companyLocationsModel\";\r\nimport {LocationItemEdit} from \"./LocationItemEdit\";\r\n\r\nconst LocationTableComponent = ({onLocationListInit, locationListInit,\r\n                                    locationList, onSaveLocationItem,\r\n                                    onDeleteLocation}) => {\r\n    useEffect(()=> {\r\n        if(!locationListInit)\r\n            onLocationListInit();\r\n    });\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <Grid container className={classes.root} spacing={2}>\r\n                {locationList.map((location) => {\r\n\r\n                    return (\r\n                        <Grid item xs={12} md={4} key={location._id}>\r\n                            <LocationItemEdit\r\n                                location={location}\r\n                                saveLocation={onSaveLocationItem}\r\n                                deleteLocation={onDeleteLocation}\r\n                            />\r\n                        </Grid>\r\n                    )\r\n                })}\r\n            </Grid>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport const LocationTable = connectArray(LocationTableComponent,\r\n    [companyLocationModel]);\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        minHeight: 140,\r\n        width: \"100%\",\r\n        //padding: theme.spacing(2),\r\n    },\r\n    control: {\r\n\r\n    },\r\n}));","import React, {Fragment} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {companyLocationModel} from \"../../models/company/companyLocationsModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {OpenWith} from \"@material-ui/icons/index\";\r\nimport {LocationTable} from \"./LocationTable\";\r\n\r\nexport const LocationMaintenanceComponent = ({onCreateNewLocation}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Fragment>\r\n            <AppBarTitleAddSearch\r\n                title=\"Locations\"\r\n                LeftIcon={OpenWith}\r\n                onSearchChange={(value) => {}}\r\n                onAdd={()=> {\r\n                    onCreateNewLocation();\r\n                }}\r\n            />\r\n            <div className={classes.mainContainer}>\r\n                <LocationTable/>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport const LocationMaintenance = connectArray(\r\n    LocationMaintenanceComponent, [companyLocationModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    mainContainer: {\r\n        backgroundColor: \"#e8e7e7\",\r\n        minHeight: \"calc(100vh - 65px)\",\r\n        padding: 5,\r\n        marginTop: -10\r\n    }\r\n});","\r\nexport const catalogExportFields = [\r\n    \"modelNumber\",\r\n    \"mfrName\",\r\n    \"shortDesc\",\r\n    \"unitPrice\",\r\n    \"status\",\r\n    \"images.0.fileName\"\r\n];\r\n\r\nexport const catalogTableConfig = {\r\n    key: \"modelNumber\",\r\n    itemsPerPage: 10,\r\n    defaultSort: \"modelNumber\",\r\n    sortDescending: false,\r\n    columns: [\r\n        { fieldForSort: \"modelNumber\", columnLabel: \"Model#\" },\r\n        { fieldForSort: \"mfrName\", columnLabel: \"Mfr\" },\r\n        { fieldForSort: \"unitPrice\", columnLabel: \"Price\" },\r\n        { fieldForSort: \"status\", columnLabel: \"Status\" },\r\n        { fieldForSort: \"images.0.fileName\", columnLabel: \"File\" },\r\n    ]\r\n}\r\n\r\nexport const catalogSelectOptions = [\r\n    { fieldName: \"mfrName\", columnLabel: \"Manufacturer\" },\r\n    { fieldName: \"status\", columnLabel: \"Status\" }\r\n];","import React, {useEffect, useState} from \"react\";\r\nimport XLSX, {utils} from  \"xlsx\";\r\nimport {catalogModel} from \"../../models/home/catalogModel\";\r\nimport {connectArray, convertToSheetArray} from \"../../utility/helpers\";\r\nimport {FormControlLabel, Switch, Paper, Button} from \"@material-ui/core\";\r\nimport {TableChart} from \"@material-ui/icons\";\r\nimport {catalogExportFields, catalogTableConfig} from \"../../models/home/catalogXlExport\";\r\nimport {createFilterOptions} from \"../../utility/helpers\";\r\nimport {SpinnerDownloading} from \"../../utility/components\";\r\nimport {TablePaging} from \"table-page-search\";\r\nimport {catalogSelectOptions} from \"../../models/home/catalogXlExport\";\r\nimport {getItemPropertyValue} from \"../../utility/helpers\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst CatalogSearchMainComponent = ({catalogList, catalogListInit,\r\n              onCatalogListInit, catalogListLoading}) => {\r\n    useEffect(()=> {\r\n        if(!catalogListInit) {\r\n            onCatalogListInit();\r\n        } else if(catalogFiltered === null && !catalogListLoading) {\r\n            setCatalogFiltered(catalogList);\r\n            const options = createFilterOptions(catalogSelectOptions,\r\n                catalogList);\r\n            setFilterOptions(options);\r\n        }\r\n    });\r\n    const [catalogFiltered, setCatalogFiltered]= useState(null);\r\n    const [filterOptions, setFilterOptions]= useState(null);\r\n\r\n    console.log(filterOptions);\r\n\r\n    const onFilterOptionToggle = (fieldName, optionValue, isSelected) => {\r\n        const newFilterOptions = {\r\n            fieldList: filterOptions.fieldList\r\n        };\r\n\r\n        const filterSets = {};\r\n\r\n        filterOptions.fieldList.forEach((fieldRef) => {\r\n            filterSets[fieldRef.fieldName] = [];\r\n            newFilterOptions[fieldRef.fieldName] =\r\n                filterOptions[fieldRef.fieldName].map(\r\n                    (optionRef) => optionRef.option ===  optionValue ?\r\n                        {option : optionValue, selected: isSelected} :\r\n                        optionRef\r\n                );\r\n            newFilterOptions[fieldRef.fieldName].forEach((optionRef) => {\r\n                if(optionRef.selected)\r\n                    filterSets[fieldRef.fieldName].push(optionRef.option);\r\n            });\r\n        });\r\n\r\n        const newCatalogFiltered = catalogList.filter((catalog)=>{\r\n            let isIncluded = true;\r\n            newFilterOptions.fieldList.forEach((fieldRef) => {\r\n                const catalogValue = getItemPropertyValue(catalog, fieldRef.fieldName);\r\n                if(filterSets[fieldRef.fieldName].length > 0 && filterSets[fieldRef.fieldName].indexOf(catalogValue) === -1)\r\n                    isIncluded = false;\r\n            });\r\n            return isIncluded;\r\n        })\r\n        setFilterOptions(newFilterOptions);\r\n        setCatalogFiltered(newCatalogFiltered);\r\n    };\r\n    const classes = useStyle();\r\n    return (\r\n        catalogFiltered === null ?\r\n            <SpinnerDownloading\r\n                spinnerSize={60}\r\n                style={{paddingTop: \"25vh\"}}\r\n            /> :\r\n        <div>\r\n            Total Records : {catalogFiltered && catalogFiltered.length}\r\n            {filterOptions && <div>\r\n                {filterOptions.fieldList.map((fieldRef)=> {\r\n\r\n                    return (\r\n                        <Paper key={fieldRef.fieldName} className={classes.filterContainer}>\r\n                            <label className={classes.optionLabel} >\r\n                                {fieldRef.columnLabel}\r\n                            </label>\r\n                        <div className={classes.filterItemContainer}>\r\n\r\n                            {filterOptions[fieldRef.fieldName].map(\r\n                                (optionRef) => {\r\n\r\n                                    return (\r\n                                        <div key={optionRef.option}  className={classes.optionContainer}>\r\n                                            <FormControlLabel\r\n                                                control={\r\n                                                    <Switch\r\n                                                        checked={optionRef.selected}\r\n                                                        onChange={(event)=> {\r\n                                                            onFilterOptionToggle(fieldRef.fieldName, optionRef.option, event.target.checked);\r\n                                                        }}\r\n                                                        color=\"primary\"\r\n                                                        name=\"checkedB\"\r\n                                                        inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                                    />\r\n                                                }\r\n                                                label={\r\n                                                    <span>\r\n                                                        {optionRef.option && optionRef.option.length > 0 ? optionRef.option : \"None\"}\r\n                                                    </span>\r\n                                                }\r\n                                                style={{marginLeft: 3, marginRight: 0}}\r\n                                            />\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                        </div>\r\n                        </Paper>\r\n                    );\r\n                })}\r\n            </div>\r\n            }\r\n            <TablePaging\r\n                dataList={catalogFiltered}\r\n                headerConfig={catalogTableConfig}\r\n            />\r\n            <Button\r\n                startIcon={<TableChart />}\r\n                style={{marginRight: 20, marginTop: 20, marginBottom:30}}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                    const data = convertToSheetArray(catalogFiltered, catalogExportFields);\r\n                    /* convert from array of arrays to workbook */\r\n                    const worksheet = utils.aoa_to_sheet(data);\r\n                    const new_workbook = utils.book_new();\r\n                    utils.book_append_sheet(new_workbook, worksheet, \"Catalog\");\r\n\r\n                    XLSX.writeFile(new_workbook, 'catalog.xlsx');\r\n                }}\r\n            >\r\n                Export\r\n            </Button>\r\n        </div>\r\n    );};\r\n\r\nexport const CatalogSearchMain = connectArray(CatalogSearchMainComponent,\r\n    [catalogModel]);\r\n\r\nconst useStyle = makeStyles({\r\n    filterContainer : {\r\n        margin: 10,\r\n        padding: 10,\r\n        border: \"black solid 2px\"\r\n    },\r\n    filterItemContainer:{\r\n        display: \"flex\",\r\n        flexFlow: \"row wrap\",\r\n    },\r\n    optionLabel: {\r\n        width: 110\r\n    },\r\n    optionContainer: {\r\n        width: 220\r\n    }\r\n})\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {statsModel} from \"../../models/stats/statsModel\";\r\nimport {Timeline} from \"@material-ui/icons\";\r\nimport {\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    Legend,\r\n    LabelList\r\n} from 'recharts';\r\n\r\nconst HitReportMainComponent = ({hitChartData, hitReportInitDone, onHitReportInit,weekEndDate,weekStartDate,setWeekDays})=> {\r\n    useEffect(()=> {\r\n\r\n        if(!hitReportInitDone)\r\n            onHitReportInit();\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <AppBarTitleAddSearch\r\n                title={`Weekly Hits ${weekStartDate} - ${weekEndDate}`}\r\n                LeftIcon={Timeline}\r\n            />\r\n\r\n\r\n                <BarChart\r\n                    width={800}\r\n                    height={300}\r\n                    data={hitChartData}\r\n                    margin={{\r\n                        top: 20,\r\n                        right: 30,\r\n                        left: 20,\r\n                        bottom: 50,\r\n                    }}\r\n                >\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis   dy={25} dx={-5} dataKey=\"name\" angle={-90} label={{ angle:-90,value: 'Month-Day', position: 'insideBottomRight', offset: 28 }} />\r\n\r\n                    <YAxis  />\r\n                    <Tooltip  />\r\n                    <Legend  wrapperStyle={{position: \"initial\"}} />\r\n\r\n                    <Bar dataKey=\"hits\" fill=\"#82ca9d\" minPointSize={10} >\r\n                        <LabelList  angle={-90} dataKey=\"hits\"  />\r\n                    </Bar>\r\n\r\n                </BarChart>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const HitReportMain = connectArray(HitReportMainComponent, [statsModel]);\r\n\r\n","import React, {useState} from \"react\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\nimport {salesSearchModel} from \"../../models/sales/salesSearchModel\";\r\nimport {Money, Search} from \"@material-ui/icons\";\r\nimport {IconButton, InputBase, Paper, Divider, InputLabel,\r\n    Button, ButtonGroup} from \"@material-ui/core\";\r\nimport {SpinnerDownloading} from \"../../utility/components\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {TablePaging} from \"table-page-search\";\r\n\r\nconst headerConfig = {\r\n    key: \"0\",\r\n    itemsPerPage: 10,\r\n    defaultSort: \"1\",\r\n    sortDescending: true,\r\n    columns: [\r\n        {fieldForSort: \"ticketNum\", columnLabel: \"TIX NO\"},\r\n        { fieldForSort: \"day\", columnLabel: \"Day\"\r\n        },\r\n        { fieldForSort: \"month\", columnLabel: \"Month\"\r\n        },\r\n        { fieldForSort: \"name\", columnLabel: \"Name\" },\r\n        { fieldForSort: \"price\", columnLabel: \"Price\" }\r\n    ]\r\n};\r\n\r\nconst SalesByNameMainComponent = ({onGetSalesByName, salesSearch, salesSearchLoading}) => {\r\n    console.log(salesSearch);\r\n    const titleCount = salesSearch && salesSearch.rowCountFound > 0 ?\r\n        `${salesSearch.rowCountFound} Found`\r\n        : \"Enter Name and Click Search\";\r\n    const classes = useStyles();\r\n    const dataLoaded = salesSearch.items.length > 0;\r\n    const [searchText, setSearchText] = useState(\"\");\r\n    const [filterTable, setFilterTable] = useState(\"\");\r\n    const [location, setLocation] = useState(localStorage.getItem('salesLocation') || \"JO\");\r\n\r\n    return (\r\n        <div>\r\n            <AppBarTitleAddSearch\r\n                title={`Sales Search By Name (${titleCount})`}\r\n                LeftIcon={Money}\r\n            />\r\n            <div style={{display:\"flex\"}}>\r\n            <Paper className={classes.searchButtonRoot}>\r\n                <SpinnerDownloading loading={salesSearchLoading}\r\n                                    spinnerSize={30}\r\n                                    classes={{spinnerWrapper: classes.spinnerWrapper }}\r\n                >\r\n                    <InputBase\r\n                        placeholder=\"Search By Name\"\r\n                        inputProps={{ 'aria-label': 'search google maps' }}\r\n                        value={searchText}\r\n                        onChange={\r\n                            (event)=> setSearchText(event.target.value)}\r\n                        onKeyUp={(event) => {\r\n                            if (event.keyCode === 13) {\r\n                                onGetSalesByName(searchText, location)\r\n                            }\r\n                        }}\r\n                    />\r\n                    <IconButton onClick={()=> onGetSalesByName(searchText, location)}\r\n\r\n                    >\r\n                        <Search />\r\n                    </IconButton>\r\n                </SpinnerDownloading>\r\n            </Paper>\r\n                <ButtonGroup size=\"small\" color=\"secondary\" aria-label=\"small outlined button group\"\r\n                style={{marginRight: 20}}>\r\n                    <Button\r\n                        style={{background: location === \"JO\" ? \"aliceblue\" : \"\"}}\r\n                        onClick={() => {\r\n                            localStorage.setItem(\"salesLocation\", 'JO');\r\n                            setLocation(\"JO\");\r\n                        }}\r\n                    >\r\n                        Jonesboro\r\n                    </Button>\r\n                    <Button\r\n                        style={{background: location === \"GR\" ? \"aliceblue\" : \"\"}}\r\n                        onClick={() => {\r\n                            localStorage.setItem(\"salesLocation\", 'GR');\r\n                            setLocation(\"GR\");\r\n                        }}\r\n                    >\r\n                        Griffin\r\n                    </Button>\r\n                    <Button\r\n                        style={{background: location === \"ME\" ? \"aliceblue\" : \"\"}}\r\n                        onClick={() => {\r\n                            localStorage.setItem(\"salesLocation\", 'GR');\r\n                            setLocation(\"ME\");\r\n                        }}\r\n                    >\r\n                        Merge\r\n                    </Button>\r\n                </ButtonGroup>\r\n            {dataLoaded &&\r\n            <Paper className={classes.filterRoot}>\r\n                <InputLabel className={classes.searchLabel}>Filter Table Results</InputLabel>\r\n                <Divider className={classes.divider} orientation=\"vertical\" />\r\n                <InputBase\r\n                    placeholder=\"Filter By Month/Year/Name\"\r\n                    inputProps={{'aria-label': 'search google maps'}}\r\n                    value={filterTable}\r\n                    onChange={\r\n                        (event) => setFilterTable(event.target.value)\r\n                    }\r\n\r\n                />\r\n            </Paper>\r\n            }\r\n            </div>\r\n            <TablePaging  loading={salesSearchLoading}\r\n                          dataList={salesSearch.items}\r\n                          headerConfig={headerConfig}\r\n                          filterText={filterTable}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const SalesByNameMain = connectArray(SalesByNameMainComponent, [salesSearchModel]);\r\n\r\nconst useStyles = makeStyles({\r\n    searchButtonRoot : {\r\n        paddingLeft: 15,\r\n        paddingRight: 0,\r\n        width: 265,\r\n        marginRight: 20\r\n    },\r\n    filterRoot : {\r\n        paddingLeft: 15,\r\n        paddingRight: 0,\r\n        width: 450,\r\n        display: \"flex\"\r\n    },\r\n    spinnerWrapper : {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    divider: {\r\n        height: 28,\r\n        margin: 4,\r\n        paddingTop: 15,\r\n        marginLeft : 10,\r\n        marginRight: 10\r\n    },\r\n    searchLabel: {\r\n        paddingTop: 15\r\n    }\r\n})","import React, {useEffect, useState} from \"react\";\r\nimport {TablePaging} from \"table-page-search\";\r\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\r\nimport {BorderAll} from \"@material-ui/icons\";\r\nimport {salesHistModel} from \"../../models/sales/salesHistModel\";\r\nimport {connectArray} from \"../../utility/helpers\";\r\n\r\n\r\nconst headerConfig = {\r\n    key: \"0\",\r\n    itemsPerPage: 10,\r\n    defaultSort: \"runDate._seconds\",\r\n    sortDescending: true,\r\n    columns: [\r\n        { fieldForSort: \"fileName\", columnLabel: \"File\"},\r\n        {\r\n            display: (row, columnConfig, onRowClick)=> new Date(row.runDate._seconds * 1000).toDateString()\r\n            , columnLabel: \"Date\" },\r\n        { fieldForSort: \"count\", columnLabel: \"Count\" }\r\n    ]\r\n};\r\n\r\nconst SalesHistMainComponent = ({salesHist, onGetSalesHist, salesHistLoading, salesHistLoadError,\r\n                                    salesHistInitDone, onSalesHistInit}) => {\r\n    useEffect(()=> {\r\n        if(!salesHistInitDone)\r\n            onSalesHistInit();\r\n    });\r\n\r\n    const [searchText, setSearchText] = useState(\"\");\r\n\r\n    return (\r\n        <div>\r\n            <AppBarTitleAddSearch\r\n                title={`Sales Hist`}\r\n                LeftIcon={BorderAll}\r\n                onSearchChange={setSearchText}\r\n            />\r\n            <TablePaging  loading={salesHistLoading}\r\n                          dataList={salesHist.items}\r\n                          headerConfig={headerConfig}\r\n                          filterText={searchText}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const SalesHistMain = connectArray(SalesHistMainComponent, [salesHistModel]);\r\n","import React from 'react';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport { GlobalProviders} from \"../GlobalProviders\";\r\nimport {getLoginRoute} from \"./history\";\r\nimport {FullMenuNav} from \"../desktop/home/FullMenuNav\";\r\nimport { LoggedOut } from \"../desktop/accounts/LoggedOut\";\r\nimport {initAuthStore} from \"../models/accounts/userAuthStore\";\r\nimport {HomeMain} from \"../desktop/home/HomeMain\";\r\nimport {PrivateRoute} from \"./PrivateRoute\";\r\nimport { withAuth0 } from \"@auth0/auth0-react\";\r\nimport {setTokenValue, hasToken} from \"../models/accounts/userAuthStore\";\r\nimport {CategoryMaintenance} from \"../desktop/home/CategoryMaintenance\";\r\nimport {setRouteComponent} from \"../utility/helpers\";\r\nimport {PopupError} from \"../utility/components/PopupError\";\r\nimport {LocationMaintenance} from \"../desktop/company/LocationMaintenance\";\r\nimport {CatalogSearchMain} from \"../desktop/catalogSearch/CatalogSearchMain\";\r\nimport {HitReportMain} from \"../desktop/stats/HitReportMain\";\r\nimport {SalesByNameMain} from \"../desktop/sales/SalesByNameMain\";\r\nimport {SalesHistMain} from \"../desktop/sales/SalesHist\";\r\n\r\n// noinspection JSUnusedLocalSymbols\r\nexport class RouteComponent extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isMobile: window.innerWidth <= 760,\r\n            errorMessage: \"\",\r\n            showAlert: false,\r\n            alertStatus: \"\",\r\n            tokenLoading: false,\r\n            tokenLoaded: false\r\n        };\r\n    }\r\n\r\n    onCloseAlert() {\r\n        // noinspection JSCheckFunctionSignatures\r\n        this.setState({errorMessage: \"\", alertStatus: \"\"});\r\n    }\r\n\r\n    componentDidMount() {\r\n        setRouteComponent(this);\r\n        initAuthStore();\r\n        const checkSize = ()=> {\r\n            // noinspection JSCheckFunctionSignatures\r\n            this.setState({isMobile: window.innerWidth <= 760});\r\n        };\r\n        window.addEventListener(\"resize\", checkSize);\r\n    }\r\n\r\n    render() {\r\n        const getToken = async () =>{\r\n            const { getAccessTokenSilently } = this.props.auth0;\r\n            try {\r\n                this.setState({tokenLoading: true});\r\n                const accessToken = await getAccessTokenSilently();\r\n                console.log(\"-------- Token Complete First Try -------\");\r\n                console.log(accessToken);\r\n                setTokenValue(accessToken);\r\n                this.setState({\r\n                    errorMessage: \"You Have Access\",\r\n                    alertStatus: \"success\",\r\n                    //tokenLoading: false,\r\n                    tokenLoaded: true\r\n                });\r\n            } catch (ex) {\r\n                //when login in with google account, you have to try twice to get token.\r\n                getAccessTokenSilently().then((accessToken)=> {\r\n                    setTokenValue(accessToken);\r\n                    console.log(\"-------- Token Complete second Try-------\");\r\n                    console.log(accessToken);\r\n                    // noinspection JSCheckFunctionSignatures\r\n                    this.setState({\r\n                        errorMessage: \"Access Allowed\",\r\n                        alertStatus: \"success\",\r\n                        //tokenLoading: false,\r\n                        tokenLoaded: true\r\n                    });\r\n                }).catch((ex)=> {\r\n                    console.log(\"-------- No Token -------\");\r\n                    console.log(ex.message || ex);\r\n                    this.setState({errorMessage: ex.message,\r\n                        //tokenLoading: false\r\n                    });\r\n                });\r\n            }\r\n        };\r\n\r\n        const { user, isLoading } = this.props.auth0;\r\n\r\n        const {isMobile, errorMessage, alertStatus,\r\n            tokenLoading, tokenLoaded} = this.state;\r\n\r\n        if(!isLoading && !tokenLoading && !tokenLoaded && errorMessage === \"\") {\r\n            console.log(\"--- user render ---\");\r\n            console.log({errorMessage, isLoading, tokenLoading, tokenLoaded});\r\n            console.log(this.props.auth0);\r\n            if(!hasToken())\r\n                // noinspection JSIgnoredPromiseFromCall\r\n                getToken();\r\n        }\r\n        const LoginRoute = getLoginRoute();\r\n\r\n        // noinspection JSUnusedLocalSymbols\r\n        const MenuNav = FullMenuNav; //isMobile ? MobileNav :\r\n        //if(errorMessage !== \"\" ) //show error hear\r\n        //    const tt = \"\";\r\n\r\n        return (\r\n            <GlobalProviders>\r\n                <PopupError\r\n                    errorMessage={errorMessage}\r\n                    onClearErrorMessage={() => this.onCloseAlert()}\r\n                    status={alertStatus}\r\n                />\r\n                    <HashRouter>\r\n                        <MenuNav>\r\n                        <div>\r\n                            <LoginRoute/>\r\n                            <Route exact path=\"/logOut\"\r\n                                   component={LoggedOut} />\r\n\r\n                            <Route exact path=\"/logcomplete\"\r\n                                   component={LoggedOut} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/\"\r\n                                          component={isMobile ? HomeMain : HomeMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/location\"\r\n                                          component={isMobile ?\r\n                                              LocationMaintenance : LocationMaintenance} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/catalogSearch\"\r\n                                          component={isMobile ?\r\n                                              CatalogSearchMain : CatalogSearchMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/category\"\r\n                                          component={isMobile ?\r\n                                              CategoryMaintenance : CategoryMaintenance} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/hits\"\r\n                                          component={isMobile ?\r\n                                              HitReportMain : HitReportMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/salesByName\"\r\n                                          component={isMobile ?\r\n                                              SalesByNameMain : SalesByNameMain} />\r\n\r\n                            <PrivateRoute permission={1}\r\n                                          exact path=\"/salesHist\"\r\n                                          component={isMobile ?\r\n                                              SalesHistMain : SalesHistMain} />\r\n                        </div>\r\n                        </MenuNav>\r\n                    </HashRouter>\r\n            </GlobalProviders>\r\n        );\r\n    }\r\n}\r\n\r\n/*\r\n\r\n */\r\n\r\nexport default withAuth0(RouteComponent)","import './index.css'\r\nimport React from 'react'\r\nimport {render} from 'react-dom'\r\nimport RouteConfig from  \"./route/RouteConfig\";\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport { grey, yellow } from '@material-ui/core/colors';\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\nconst muiTheme = createMuiTheme({\r\n    typography: {\r\n        useNextVariants: true,\r\n    },\r\n    palette: {\r\n        textColor: grey.A700,\r\n        primary: {\r\n            main: \"#3d6090\",\r\n            success: \"#4caf50\",\r\n            idle: yellow[500]\r\n        },\r\n        secondary: { main: \"#428bca\"}\r\n    }\r\n});\r\n\r\nrender(\r\n    <Auth0Provider\r\n        domain={process.env.AUTH_DOMAIN}\r\n        clientId={process.env.AUTH_CLIENT_ID}\r\n        audience={process.env.AUTH_AUDIENCE}\r\n        redirectUri={`${window.location.origin}`}\r\n        scope=\"read.events\"\r\n    >\r\n        <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\r\n    </Auth0Provider>,\r\n    document.querySelector('#app'));\r\n\r\nfunction BootstrapLogIn() {\r\n    const {\r\n        isLoading,\r\n        isAuthenticated,\r\n        error,\r\n        user,\r\n        loginWithRedirect,\r\n        logout,\r\n    } = useAuth0();\r\n\r\n    if (isLoading) {\r\n        return <div>Loading Auth...</div>;\r\n    }\r\n    if (error) {\r\n        return <div>Oops... {error.message}</div>;\r\n    }\r\n\r\n    if (isAuthenticated) {\r\n        return (\r\n            <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\r\n        );\r\n    } else {\r\n        return <button onClick={loginWithRedirect}>Log in</button>;\r\n    }\r\n}\r\n\r\n","import { createContext } from \"../../utility/modelContext\";\r\nimport {setUserData, getStore, isLoggedIn} from \"./userAuthStore\";\r\nlet provider = null;\r\nimport {setUnauthorizedHandler} from \"../../utility/helpers\";\r\nimport {clearToken} from \"./userAuthStore\";\r\n\r\nexport const createModel = () => {\r\n    const userStore = getStore();\r\n    console.log(\"isLoggedIn\");\r\n    console.log(isLoggedIn());\r\n\r\n    return {\r\n        loadingAuth: !isLoggedIn(),\r\n        userNotAuthorized: false,\r\n        userLoggedIn: isLoggedIn(),\r\n        name: userStore.name,\r\n        picUrl: userStore.picUrl,\r\n        userFeatures: userStore.featurePermissions ||[],\r\n        faceLoginMessage:null,\r\n        passwordMessage:'',\r\n        confirmPasswordMessage:'',\r\n        profileLoading: false,\r\n        onSetAccount,\r\n        onNotifyMainNavOfLogOff\r\n    };\r\n};\r\n\r\nexport const  getInitialState = (classInstance) => {\r\n    provider = classInstance;\r\n    setUnauthorizedHandler(onNotifyMainNavOfLogOff);\r\n    return  createModel();\r\n};\r\n\r\nconst onNotifyMainNavOfLogOff = () => {\r\n    clearToken();\r\n    provider.setState({userLoggedIn: false});\r\n    const {navigate} = require(\"../../route/history\");\r\n    navigate(\"#/logout\");\r\n\r\n};\r\n\r\nconst onSetAccount = (loginInfo) => {\r\n        console.log(\"loginInfo\");\r\n        console.log(loginInfo);\r\n        setUserData(loginInfo);\r\n        provider.setState({\r\n            picUrl: loginInfo.picUrl,\r\n            name: loginInfo.name,\r\n            email:loginInfo.email,\r\n            userLoggedIn : true});\r\n};\r\n\r\nexport default createContext(createModel, getInitialState);\r\n"],"sourceRoot":""}