{"version":3,"sources":["webpack:///./src/utility/helpers.js","webpack:///./src/desktop/accounts/LoginStart.js","webpack:///./src/route/history.js","webpack:///./src/models/accounts/userMessages.js","webpack:///./src/models/accounts/userAuthStore.js","webpack:///./src/utility/modelContext.js","webpack:///./src/models/home/catalogMessage.js","webpack:///./src/models/home/catalogHelper.js","webpack:///./src/models/home/catalogModel.js","webpack:///./src/models/home/categoryMessage.js","webpack:///./src/models/home/categoryModel.js","webpack:///./src/models/company/companyMessage.js","webpack:///./src/models/company/companyLocationsModel.js","webpack:///./src/models/stats/statsToChart.js","webpack:///./src/models/stats/statsModel.js","webpack:///./src/models/stats/statsMessage.js","webpack:///./src/models/sales/salesSearchMessage.js","webpack:///./src/models/sales/salesSearchModel.js","webpack:///./src/GlobalProviders.js","webpack:///./src/utility/useIsMobile.js","webpack:///./src/models/home/menuStore.js","webpack:///./src/desktop/home/FullMenuNav.js","webpack:///./src/desktop/accounts/LoggedOut.js","webpack:///./src/utility/components/SearchTextBox.js","webpack:///./src/utility/components/AppBarTitle.js","webpack:///./src/utility/components/AlertDialog.js","webpack:///./src/desktop/catalog/CatalogItemEdit.js","webpack:///./src/utility/components/NoData.js","webpack:///./src/utility/components/Select/SelectedList.js","webpack:///./src/utility/components/SelectSearch.js","webpack:///./src/utility/components/SpinnerDownloading.js","webpack:///./src/desktop/catalog/CategorySelect.js","webpack:///./src/utility/components/PopupError.js","webpack:///./src/desktop/catalog/CatalogCard.js","webpack:///./src/desktop/catalog/CatalogListComponent.js","webpack:///./src/desktop/SiteIcons.js","webpack:///./src/desktop/catalog/CatalogTable.js","webpack:///./src/desktop/home/HomeMain.js","webpack:///./src/route/PrivateRoute.js","webpack:///./src/desktop/catalog/CategoryItemEdit.js","webpack:///./src/desktop/catalog/CategoryTable.js","webpack:///./src/desktop/home/CategoryMaintenance.js","webpack:///./src/models/company/locationHoursManager.js","webpack:///./src/desktop/company/LocationHoursEdit.js","webpack:///./src/desktop/company/LocationHours.js","webpack:///./src/desktop/company/LocationItemEdit.js","webpack:///./src/desktop/company/LocationTable.js","webpack:///./src/desktop/company/LocationMaintenance.js","webpack:///./src/models/home/catalogXlExport.js","webpack:///./src/desktop/catalogSearch/CatalogSearchMain.js","webpack:///./src/desktop/stats/HitReportMain.js","webpack:///./src/desktop/sales/SalesByNameMain.js","webpack:///./src/route/RouteConfig.js","webpack:///./src/index.js","webpack:///./src/models/accounts/accountModel.js"],"names":["routeComponent","handleUnauthorized","createFilterOptions","fieldList","dataList","filterOption","items","keyRef","Array","isArray","forEach","dataItem","fieldConfig","fieldName","undefined","targetValue","getItemPropertyValue","indexOf","push","option","selected","sort","a","b","convertToSheetArray","targetObject","columnFields","result","targetItem","oneRow","targetField","cellValue","ex","setUnauthorizedHandler","handler","setRouteComponent","component","connectArray","arrayOfModels","styles","intermediateComponents","startComponent","withStyles","model","index","params","connect","length","propValue","split","childField","showError","errorMessage","setState","CustomError","messageResponse","Error","captureStackTrace","handleResponse","response","ok","json","status","toCurrency","theNumber","parseFloat","toFixed","replace","to","useStyles","makeStyles","mainContainer","width","maxWidth","margin","leftContainer","height","paddingLeft","cardContainer","minHeight","minWidth","textAlign","logo","actionButton","messageContainer","display","iconSpacing","marginRight","outerCard","cardActionsContainer","flexDirection","LogIn","classes","useAuth0","loginWithRedirect","isAuthenticated","id","action","className","Card","style","CardContent","src","CardActions","Button","variant","color","onClick","returnTo","window","location","origin","accountModel","historyModel","loaded","history","exact","path","LoginRouteComponent","setHistory","getHistory","navigate","href","getLoginRoute","withRouter","getUserProfile","userId","getStore","catalogApi","token","url","payloadGeneric","method","headers","fetch","then","userProfile","userProfileLoading","userProfileLoadHasError","catch","error","userProfileLoadError","message","userAuthData","localStorage","getItem","name","picUrl","email","expiresOn","featurePermissions","userDomain","process","hasToken","setLogOutTimer","require","clearLogOutTimer","msToTimeOut","Date","logOutTimer","setTimeout","readToken","base64","JSON","parse","atob","stringFeatures","tokenData","setItem","exp","console","log","setTokenValue","initAuthStore","clearTimeout","isLoggedIn","hasFeature","featureId","setUserData","picture","sub","getUserDomain","domain","stringify","clearToken","removeItem","app_metadata","retailDomain","createContext","createModel","getInitialState","ModelContext","React","ModelProvider","props","testMode","match","state","render","Provider","value","this","children","Component","UserComponent","componentProps","Consumer","vm","saveCatalogStatus","success","saveCatalogStatusResult","catalogStatusLoading","catalogListLoadError","deleteCatalog","catalog","deleteCatalogRecord","_id","images","file","deleteFile","catalogId","deleteCatalogResult","catalogListLoading","deleteCatalogResultError","fileId","deleteImageResult","deleteImageResultError","uploadImage","fileToUpload","imageWidth","formData","FormData","append","body","uploadImageResult","imageUploading","uploadImageResultError","saveCatalog","itemToSave","saveCatalogResult","activeCatalogItem","errorResult","getCatalogList","catalogList","catalogListLoadHasError","sortCatalog","categoryId","calc","aHasCategory","categories","bHasCategory","filterA","filter","aItem","filterB","bItem","swapOrder","category","swapCatalog","target","swap","targetCategory","cate","swapCategory","newTarget","provider","catalogListFiltered","catalogListOutCategory","catalogListNoCategory","catalogTotals","savingCatalogSort","catalogListInit","categorySelected","catalogSearchText","onCatalogListInit","onSetActiveCatalogItem","onSaveCatalogItem","onUploadImage","onCreateNewCatalog","onDeleteCatalog","onSetCatalogStatus","onAddCategoryToCatalog","onRemoveCategoryFromCatalog","onCategorySelectChange","onCatalogOrderChange","onCatalogSearch","onClearCatalogError","onSetCatalogTotals","getCatalogCategorySort","maxSort","inCategory","getNextSortInCategory","searchText","toLowerCase","catalogListFilteredTemp","cat","shortDesc","modelNumber","commonSaveCatalogItem","setCategorySelectedCommon","catalogListSorted","filterCatalogIn","filterCatalogOut","filterCatalog","filterNoCatalog","filterCatalogNoCategory","searchCate","newCatalog","modifiedCount","map","imageToSave","oldFileId","itemEdit","uploadImageMetadata","willFitWidth","colorRgb","colorRgbOther","fileShowing","search","find","im","setActiveItem","ct","upsertedCount","newState","categoryList","arrayCategory","totalCategory","activeTotal","disabledTotal","stats","catalogModel","classInstance","getCategoryList","categoryListLoading","categoryListLoadHasError","categoryListInit","categoryListLoadError","saveCategory","saveCategoryResult","activeCategoryItem","onCategoryListInit","onSetActiveCategoryItem","onSaveCategoryItem","onCreateNewCategory","onDeleteCategory","isNew","deleteCategoryResult","deleteCategoryResultError","categoryModel","getLocationList","locationList","locationListLoading","locationListLoadError","saveLocation","saveLocationResult","activeLocationItem","locationListInit","onLocationListInit","onSetActiveLocationItem","onSaveLocationItem","onCreateNewLocation","onDeleteLocation","loc","locationId","deleteLocationResult","deleteLocationResultError","companyLocationModel","hitConfigToChart","seriesName","labelField","dataField","labelConverter","data","substr","statToChart","config","hitReport","hitChartData","hitReportLoaded","hitReportLoading","hitReportLoadError","hitReportInitDone","weekStartDate","weekEndDate","onHitReportInit","onHitReportGet","setWeekDays","hitReportArr","startWeek","hitStart","endWeek","sDay","Intl","DateTimeFormat","day","format","sMo","month","eDay","eMo","hasData","statsModel","salesSearchByName","salesSearch","rowCountFound","rows","salesSearchLoading","salesSearchLoadError","err","salesSearchLoaded","onGetSalesByName","salesSearchModel","GlobalProviders","useIsMobile","useState","innerWidth","isMobile","setIsMobile","resize","useEffect","addEventListener","removeEventListener","mobileOnly","mainLinksAll","label","icon","Home","includes","link","route","Category","LocationCity","SearchTwoTone","Timeline","Money","bottomLinks","Input","FullMenuNav","userFeatures","firstName","lastName","userLoggedIn","isLoading","user","mainLinks","userInfo","onMenuClose","expandMenu","userLabel","imageUrl","decodeURIComponent","marginLeft","Typography","LoggedOut","onNotifyMainNavOfLogOff","logout","Info","Search","SearchTextBox","onSearchChange","useStyle","searchIcon","InputBase","placeholder","onChange","event","root","inputRoot","input","inputInput","inputProps","theme","padding","spacing","transition","transitions","create","breakpoints","up","position","pointerEvents","alignItems","justifyContent","backgroundColor","palette","background","paper","fontSize","marginBottom","boxShadow","rootMobile","marginTop","toolBar","avatar","primary","main","searchTextContainer","right","top","childContainerNoSearch","childContainer","searchTextBox","searchTextLabel","menuButton","labelTitle","labelTitleWithTextBox","Add","AppBarTitleAddSearch","title","LeftIcon","hideSearch","onAdd","addLabel","childHasTextBox","onAvatarClick","AppBar","Toolbar","startIcon","IconButton","PropTypes","elementType","isRequired","string","AlertDialog","open","setOpen","handleClose","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","InputAdornment","Save","Delete","Close","alt","CatalogItemEdit","imageIsConfig","imageId","rgbData","metaUpload","fileName","setItemEdit","setUpLoadImage","setUpLoadImageMetadata","setWillFitWidth","setColorRgb","setColorRgbOther","unitPrice","setUnitPrice","onValueChange","rootContainer","Paper","paperEntryContainer","editContainer","TextField","FormControlLabel","control","Switch","checked","newStatus","mfrName","InputProps","startAdornment","extraDesc","multiline","rowsMax","description","categoryRef","itemCategory","itemCat","key","Checkbox","newItem","onRemoveCategory","type","files","reader","FileReader","onload","e","readAsDataURL","uploadResult","onChangeColors","colorRgbOpposite","picBorderHeight","zIndex","picBorderWidth","imageBoxHeight","overflow","imageBoxWidth","fixHeight","fixWidth","transform","textContainer","Chip","Avatar","LibraryBooks","iconRight","closeButtonTopOffset","textDisplay","itemContainer","paddingTop","paddingBottom","MenuItem","SelectSearchComponent","maxOptions","maxArrayLength","optionActiveRef","createRef","showFullList","showDropDown","searchString","filteredPageOptions","options","slice","filteredAllOptions","hasFocusOptionList","hasFocusTextBox","selectedIndex","anchorEl","getValueDisplay","searchSelectedItem","item","keyField","displayField","onShowDropDown","currentTarget","hideDropDown","onKeyPress","keyCode","onItemSelect","optionContainerRef","scrollTo","offsetTop","scrollTop","filtered","onSetAnchor","ref","valueDisplay","constructor","isShowDropDown","Boolean","FormControl","ClickAwayListener","onClickAway","InputLabel","htmlFor","onKeyDown","endAdornment","ArrowDropUp","cursor","ArrowDropDown","Popper","disablePortal","TransitionProps","placement","Grow","transformOrigin","MenuList","topControl","noOptionsMessage","maxHeight","SelectSearch","flexGrow","text","secondary","SpinnerDownloading","spinnerWrapper","fabProgress","left","spinnerSize","loading","CircularProgress","size","CategorySelect","setSelected","modList","PopupError","onClearErrorMessage","showPopup","statusColor","StatusIcon","Warning","PriorityHigh","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","elevation","ThreeSixty","ArrowBack","ArrowForward","CatalogCard","calcCardSize","cardWidth","setCardWidth","inEdit","onSetStatus","disableEdit","isSaving","onAddCategory","showSortArrows","onOrderChange","prevCatalog","nextCatalog","contWidth","widthCalc","heightPicCalc","resizeWidth","res","widthValue","heightValue","isInCategory","inCategoryEdit","card","catPrice","aria-label","buttonLeft","buttonRight","CardHeader","subheader","cardTitle","cardSubheader","content","cardRoot","whiteSpace","textOverflow","buttonUp","buttonDown","bottom","Divider","gutterBottom","catalogListComponent","flexWrap","container","noCatalogList","CatalogList","itemsToLoad","setItemsToLoad","tmrRef","nextIsInCategory","CatalogItemIcon","DataUsage","AccordionDetails","MuiAccordionDetails","AccordionSummary","borderBottom","expanded","MuiAccordionSummary","CatalogTable","setCategorySelected","setShowSortArrows","dataPath","scrollContainer","totals","expandCategory","Accordion","timeout","emptyCat","accordion","hidden","expandIcon","categoryTitle","reorderButton","stopPropagation","containerEdit","editControl","gridList","gridListBottom","gridListTile","accordionDetails","fontWeight","HomeMain","PrivateRoute","permission","rest","calcHasFeature","calcHasAuth","pathname","from","ListItemIcon","CategoryItemEdit","deleteCategoey","itemChanged","setItemChanged","ListItem","ListItemText","edge","edgeEnd","edgeEndChange","systemOnly","formControl","Select","CategoryTable","Grid","xs","md","CategoryMaintenance","OpenWith","calcHour","hours","prevDay","dayRef","dayOptions","dayOption","dayRefPrev","short","LocationHoursEdit","startingHours","hoursFull","save","findHour","stHour","viewHours","setViewHours","changeValue","arrayIndex","fieldValue","newValue","hour","role","dense","button","tabIndex","disableRipple","vh","Edit","AccessTime","LocationHours","prevHour","prevResult","hourIn","hoursToView","Modal","modalPaper","newList","overflowX","overflowY","HomeTwoTone","LocationItemEdit","deleteLocation","setChange","onChangeAddress","address","locationName","address1","address2","city","zipCode","phonePublic","mapLink","LocationTable","LocationMaintenance","catalogExportFields","catalogTableConfig","itemsPerPage","defaultSort","sortDescending","columns","fieldForSort","columnLabel","catalogSelectOptions","TableChart","CatalogSearchMain","catalogFiltered","setCatalogFiltered","setFilterOptions","filterOptions","fieldRef","filterContainer","optionLabel","filterItemContainer","optionRef","optionContainer","optionValue","isSelected","newFilterOptions","filterSets","newCatalogFiltered","isIncluded","catalogValue","onFilterOptionToggle","headerConfig","worksheet","utils","aoa_to_sheet","new_workbook","book_new","book_append_sheet","XLSX","writeFile","border","flexFlow","CartesianGrid","strokeDasharray","YAxis","Tooltip","Bar","dataKey","fill","minPointSize","LabelList","angle","HitReportMain","BarChart","XAxis","dy","dx","offset","Legend","wrapperStyle","SalesByNameMain","titleCount","dataLoaded","setSearchText","filterTable","setFilterTable","searchButtonRoot","onKeyUp","filterRoot","searchLabel","divider","orientation","filterText","paddingRight","RouteComponent","showAlert","alertStatus","tokenLoading","tokenLoaded","onCloseAlert","componentDidMount","getToken","getAccessTokenSilently","auth0","accessToken","LoginRoute","MenuNav","withAuth0","muiTheme","createMuiTheme","typography","useNextVariants","textColor","grey","A700","idle","yellow","clientId","audience","redirectUri","scope","RouteConfig","document","querySelector","userStore","loadingAuth","userNotAuthorized","faceLoginMessage","passwordMessage","confirmPasswordMessage","profileLoading","onSetAccount","loginInfo"],"mappings":"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","file":"app.18f399e0.js","sourcesContent":["import {withStyles} from \"@material-ui/styles\";\nlet routeComponent = null;\nlet handleUnauthorized = null;\n\nexport const createFilterOptions = (fieldList, dataList)=> {\n    //<summary>Search through the dataList to get a list of values that are used\n    // in the array.  Life if there is a field manufacturer, it would return\n    // the list of manufactures that are in the list</summary>\n    //fieldList is an array of configs like so :{ fieldName: \"mfrName\", columnLabel: \"MFR\" }\n    //dataList is an array of object to extract value from as defined by the field list\n    const filterOption = { fieldList, items: {} };\n    const keyRef = {};\n    if(Array.isArray(fieldList) && Array.isArray(dataList)) {\n        dataList.forEach((dataItem) => {\n            fieldList.forEach((fieldConfig)=> {\n                const fieldName = fieldConfig.fieldName;\n                if(keyRef[fieldName] === undefined)\n                    keyRef[fieldName] = [];\n                if(filterOption[fieldName] === undefined)\n                    filterOption[fieldName] = [];\n\n                const targetValue = getItemPropertyValue(dataItem, fieldName);\n                if(keyRef[fieldName].indexOf(targetValue) === -1) {\n                    keyRef[fieldName].push(targetValue);\n                    filterOption[fieldName].push({option: targetValue, selected: false});\n                }\n                filterOption[fieldName].sort((a,b)=> a.option < b.option ? -1 : 1);\n            });\n        })\n    }\n\n    return filterOption;\n}\n\nexport const convertToSheetArray = (targetObject, columnFields) => {\n    const result = [];\n    try {\n        if (Array.isArray(targetObject)) {\n            result.push(columnFields);\n            targetObject.forEach((targetItem) => {\n                const oneRow = [];\n                columnFields.forEach((targetField)=> {\n                    const cellValue = getItemPropertyValue(targetItem, targetField);\n                    oneRow.push(cellValue);\n                });\n                result.push(oneRow);\n            })\n        }\n    } catch (ex) {\n\n    }\n    return result;\n};\n\nexport const setUnauthorizedHandler = (handler) => {\n    if(typeof(handler) === \"function\") {\n        handleUnauthorized = handler;\n    }\n};\n\nexport const setRouteComponent = (component) => routeComponent = component;\n\nexport const connectArray = (component, arrayOfModels, styles = null) => {\n    const intermediateComponents = [];\n    const startComponent = styles !== null ?\n        withStyles(styles)(component) : component;\n\n    arrayOfModels.forEach((model, index) => {\n        if(index === 0) {\n            const newItem = (params) => model.connect(startComponent, params);\n            intermediateComponents.push(newItem);\n        } else {\n            const newItem = (params) => model.connect(intermediateComponents[index - 1], params);\n            intermediateComponents.push(newItem);\n        }\n    });\n\n    return intermediateComponents[intermediateComponents.length - 1];\n};\n\nexport const inTable = (onClickFunc) => {\n    return (event, target) => {\n        event.stopPropagation();\n        onClickFunc(event, target);\n    };\n};\n\nexport const getItemPropertyValue = function (targetObject, fieldName) {\n    let propValue = targetObject || \"\";\n\n    if(typeof(fieldName) === 'function')\n        propValue = fieldName(targetObject);\n    else if(fieldName !== \"\") {\n        const childFields = fieldName && fieldName.split('.') || [];\n        //get to the property value by iterating through the object structure\n        childFields.forEach((childField) => {\n            propValue = propValue && propValue[childField];\n        });\n    }\n\n    return propValue;\n};\n\nexport const filterOutExistingByField = (fullList, existingList, fieldNameFull, fieldNameExisting) => {\n    ///<summary>calculate remaining Ids.  Provide list of Ids and Object that has key field</summary>\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\n    return Array.isArray(fullList) && fullList.filter(function (el) {\n        const startValue = getItemPropertyValue(el, fieldNameFull);\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\n            const existingField = fieldNameExisting || fieldNameExisting === \"\" ? fieldNameExisting : fieldNameFull;\n            const existingValue = getItemPropertyValue(existingList[iExisting], existingField);\n            if (startValue === existingValue)\n                return false;\n        }\n        return true;\n    }) || [];\n};\n\nexport const filterOutExistingByArrayId = (fullList, existingList, fieldNameFull) => {\n    ///<summary>calculate remaining Ids.  Provide list of Ids to exclude</summary>\n    ///<param name=\"fullList\" type=\"Array\">Full List that you start out with</param>\n    ///<param name=\"existingList\" type=\"Array\">List to filter out from full list</param>\n    return Array.isArray(fullList) && fullList.filter(function (el) {\n        const startValue = getItemPropertyValue(el, fieldNameFull);\n        for (let iExisting = 0; iExisting < (Array.isArray(existingList) ? existingList.length : 0); iExisting++) {\n            const existingValue = existingList[iExisting];\n            if (startValue === existingValue)\n                return false;\n        }\n        return true;\n    }) || [];\n};\n\nexport function shuffleArray(array) {\n    let currentIndex = array.length, temporaryValue, randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n\n        // Pick a remaining element...\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n\n        // And swap it with the current element.\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n}\n\nexport const showError = (errorMessage) => {\n    routeComponent.setState({errorMessage});\n};\n\nclass CustomError extends Error {\n    constructor(messageResponse, ...params) {\n        // Pass remaining arguments (including vendor specific ones) to parent constructor\n        super(...params)\n\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, CustomError)\n        }\n        // Custom debugging information\n        this.messageResponse = messageResponse;\n    }\n}\n\nexport const handleResponse = () => {\n    return async function(response) {\n        if(response.ok) {\n            return response.json();\n        }\n        if(response.status === 401) {\n            routeComponent.setState({errorMessage: \"Unauthorized\"});\n            if(handleUnauthorized)\n                handleUnauthorized();\n        }\n\n        const messageResponse = await response.json();\n        throw new CustomError(messageResponse, response.status);\n    };\n};\n\nexport const  b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize)\n\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i)\n        }\n\n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray)\n    }\n\n    return new Blob(byteArrays, { type: contentType })\n};\n\nexport const toCurrency = (theNumber) => {\n    return parseFloat(theNumber).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n};\n","import React from \"react\";\nimport { Card, CardContent,\n    CardActions, Button } from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Input as LoginIcon } from '@material-ui/icons';\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { Redirect } from 'react-router-dom';\n\nexport const LogInComponent = ({}) => {\n    const classes = useStyles();\n    const { loginWithRedirect, isAuthenticated } = useAuth0();\n    // noinspection HtmlUnknownTarget\n    return (\n        isAuthenticated ?\n        <Redirect push={true} to=\"/\" /> :\n        <form id=\"logon-submit\"\n              action=\"/login/google/source\"\n              className={classes.mainContainer}>\n            <Card style={{display: \"flex\"}}>\n                <div className={classes.outerCard}>\n                    <CardContent className={classes.cardContainer}>\n                        <img src={\"retail-shop-flat-icon_small.png\"}\n                             className={classes.logo}/>\n                    </CardContent>\n                    <CardActions>\n                        <Button variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.actionButton}\n                                onClick={() => {\n                                    loginWithRedirect(\n                                        {returnTo: `${window.location.origin}/#/`}\n                                    );\n                                }}\n                        >\n                            <LoginIcon style={{marginRight: 10}}/> Login\n                        </Button>\n\n                    </CardActions>\n                </div>\n            </Card>\n        </form>\n    );\n};\n\nconst useStyles = makeStyles({\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\n    cardContainer: {minHeight: 170,minWidth:240, textAlign:'center'},\n    logo: {width: 250, margin: \"auto\"},\n    actionButton: {width: \"100%\", margin:\"10px\"},\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\n    iconSpacing: { marginRight: 12},\n    outerCard: {margin: \"45px auto\"},\n    cardActionsContainer:{display:'flex', flexDirection: 'column'}\n});\n\nexport const LogIn = connectArray(LogInComponent, [accountModel]);\n","import React from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport { LogIn } from \"../desktop/accounts/LoginStart\";\n//this module is used to get a backdoor to the react router history object.\n//did not want ot pass history object all the way through to utility modules\nconst historyModel = {\n    loaded: false,\n    history: null\n};\n\nconst LoginRouteComponent = ({history}) => {\n    setHistory(history);\n    return (\n        <Route exact path=\"/login\" component={LogIn} />\n    );\n};\n\nconst setHistory = (history) => {\n    historyModel.history = history;\n    historyModel.loaded = true;\n};\n\nexport const getHistory = () => {\n    return historyModel;\n};\n\nexport const navigate = (location) => {\n    window.location.href = location;\n};\n\n// noinspection JSCheckFunctionSignatures\nexport const getLoginRoute = () => withRouter(LoginRouteComponent);","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const getUserProfile = async (userId) => {\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/users/${userId}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                userProfile: result,\n                userProfileLoading: false,\n                userProfileLoadHasError: false\n            }\n        }).catch((error) => {\n            return {\n                userProfile: null,\n                userProfileLoading: false,\n                userProfileLoadError: error.message || error,\n                userProfileLoadHasError: true\n            };\n        });\n};","import {getUserProfile} from \"./userMessages\";\n\nconst userAuthData = {\n    token: localStorage.getItem('token'),\n    name: localStorage.getItem('name') || \"\",\n    picUrl: localStorage.getItem('picUrl') || \"\",\n    email: localStorage.getItem('email') || \"\",\n    expiresOn: localStorage.getItem('expiresOn') || \"\",\n    featurePermissions: [1],\n    userDomain: localStorage.getItem('userDomain') || \"\",\n    catalogApi: process.env.CATALOG_API\n};\n\nexport const hasToken = () => !!userAuthData.token;\n\nconst setLogOutTimer = (expiresOn) => {\n    const {navigate} = require(\"../../route/history\");\n    clearLogOutTimer();\n    //time out 60 seconds before token expires\n    const msToTimeOut = (expiresOn * 1000 ) - new Date() - 60000;\n\n    if(msToTimeOut > 30) {\n        userAuthData.logOutTimer = setTimeout(\n            () => navigate(\"#/logout\"),\n            msToTimeOut\n        );\n    } else if (expiresOn > 0) {\n        navigate(\"#/logout\");\n    }\n};\n\n// noinspection JSUnusedGlobalSymbols\nexport const readToken = (token) => {\n    const split = token && token.split('.');\n    if(split && split.length > 0) {\n        const base64Url = token.split('.')[1];\n        const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n        return JSON.parse(window.atob(base64));\n    }\n    else\n        return {};\n};\n\ntry {\n    const stringFeatures = localStorage.getItem('featurePermissions');\n    userAuthData.featurePermissions = stringFeatures ? JSON.parse(stringFeatures) : [];\n\n    if(userAuthData.token) {\n        const tokenData = readToken(userAuthData.token);\n        localStorage.setItem('expiresOn', tokenData.exp);\n        userAuthData.expiresOn = tokenData.exp;\n        debugger;\n        setLogOutTimer(tokenData.exp);\n        console.log(\"token from local storage\");\n    }\n} catch (ex) {\n    userAuthData.featurePermissions = [];\n}\n\nexport const setTokenValue = (token) => {\n    localStorage.setItem('token', token);\n    userAuthData.token = token;\n    const tokenData = readToken(token);\n\n    setLogOutTimer(tokenData.exp);\n};\n\nexport const initAuthStore = ()=> {\n    setLogOutTimer(userAuthData.expiresOn);\n};\n\n\n\nconst clearLogOutTimer = () => {\n    if(userAuthData.logOutTimer > -1) {\n        clearTimeout(userAuthData.logOutTimer);\n        userAuthData.logOutTimer = -1;\n    }\n};\n\nexport const isLoggedIn = () => userAuthData.token && true;\n\nexport const getStore = () => {\n\n    return userAuthData;\n};\n\n// noinspection JSUnusedGlobalSymbols\nexport const getFullName = () =>\n    userAuthData.name;\n\nexport const hasFeature = (featureId) => {\n    //console.log(\"---- token hasFeature ----\");\n    //console.log(userAuthData.token);\n    return userAuthData.featurePermissions.indexOf(featureId) > -1 || true;\n};\n\n// noinspection JSUnusedGlobalSymbols\nexport const getAuthHeaderValue = () => {\n    return userAuthData.token !== null ? `bearer ${userAuthData.token}` : \"\";\n};\n\nexport const setUserData = async ({name, picture, email, sub}) => {\n    userAuthData.featurePermissions = [1];\n    //localStorage.setItem('token', token);\n    const domain = await getUserDomain(sub);\n    localStorage.setItem('name', name);\n    localStorage.setItem('email', email);\n    localStorage.setItem('picUrl', picture);\n    localStorage.setItem('userDomain', domain);\n    localStorage.setItem('featurePermissions',\n        JSON.stringify(userAuthData.featurePermissions));\n\n    userAuthData.name = name;\n    userAuthData.email = email;\n    userAuthData.picUrl = picture;\n    userAuthData.userDomain = domain;\n    userAuthData.featurePermissions = [1];\n\n    return userAuthData;\n};\n\nexport const clearToken = () => {\n    //userAuthData.name = null;\n    //userAuthData.email = null;\n    //userAuthData.picUrl = null;\n    userAuthData.featurePermissions = [];\n    //localStorage.removeItem('name');\n    //localStorage.removeItem('email');\n    localStorage.removeItem('featurePermissions');\n    localStorage.removeItem('userDomain');\n    localStorage.removeItem(\"expiresOn\");\n    //localStorage.removeItem('picUrl');\n};\n\nexport const getUserDomain = async (userId) => {\n    const {userProfile} = await getUserProfile(userId);\n    console.log(\"userProfile\");\n    console.log(userProfile);\n    // noinspection JSUnresolvedVariable\n    return userProfile && userProfile.app_metadata\n        && userProfile.app_metadata.retailDomain;//\"darbyfurnitureoutlet.com\";\n};\n","import React from \"react\";\n\nexport const createContext = (createModel, getInitialState) => {\n    const ModelContext = React.createContext(createModel());\n\n    class ModelProvider extends React.Component {\n        /** @param props.match.params.testMode */\n        constructor(props) {\n            super(props);\n            const testMode = props && props.match && props.match.params && props.match.params.testMode\n                                && props.match.params.testMode.indexOf(\"testMode\") > -1 && props.match.params.testMode;\n            this.state = getInitialState(this, testMode || \"\");\n        }\n\n        render() {\n            return (\n                <ModelContext.Provider value={this.state}>\n                    {this.props.children}\n                </ModelContext.Provider>\n            )\n        }\n    }\n\n    const connect =(UserComponent, componentProps) => {\n        return (\n            <ModelContext.Consumer>\n                {(vm) => (\n                    <UserComponent {...vm} {...componentProps} />\n                )}\n            </ModelContext.Consumer>\n        );\n    };\n\n\n    // noinspection JSUnusedGlobalSymbols\n    return { ModelContext, ModelProvider, connect };\n};","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const saveCatalogStatus = async (status, id)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/${status}/${id}`;\n    const payloadGeneric = {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                success: true,\n                saveCatalogStatusResult: result,\n                catalogStatusLoading: false,\n                catalogListLoadError: false\n            }\n        }).catch((error) => {\n            return {\n                success: false,\n                catalogStatusLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};\n\nexport const deleteCatalog = async (catalog) => {\n    const result = await deleteCatalogRecord(catalog._id);\n    catalog.images.forEach((file) => deleteFile(file.id));\n    return result;\n};\n\nconst deleteCatalogRecord = (catalogId) => {\n    ///catalogApi/api/v1/catalog/5f166166312ef8249c6a5b57\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/${catalogId}`;\n    const payloadGeneric = {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            /* result\n            {\n                \"deletedCount\": 1\n            }\n            */\n            return {\n                deleteCatalogResult: result,\n                catalogListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                deleteCatalogResult: false,\n                catalogListLoading: false,\n                deleteCatalogResultError: error.message || error\n            };\n        });\n};\n\nexport const deleteFile = (fileId)=> {\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/file/${fileId}`;\n    const payloadGeneric = {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            console.log(\"DELETE file result\");\n            console.log(result);\n            return {\n                deleteImageResult: result\n            }\n        }).catch((error) => {\n            return {\n                deleteImageResult: false,\n                deleteImageResultError: error.message || error\n            };\n        });\n};\n\nexport const uploadImage = async (fileToUpload, imageWidth) => {\n\n    const formData = new FormData();\n    formData.append(\"myFile\", fileToUpload);\n\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog/file/${imageWidth}`;// 800 and 500\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            //\"Content-Type\": \"multipart/form-data;\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: formData\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                uploadImageResult: result,\n                imageUploading: false\n            }\n        }).catch((error) => {\n            return {\n                uploadImageResult: false,\n                imageUploading: false,\n                uploadImageResultError: error.message || error\n            };\n        });\n};\n\nexport const saveCatalog = async (itemToSave)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/catalog`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(itemToSave)\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                saveCatalogResult: result,\n                activeCatalogItem: itemToSave,\n                catalogListLoading: false,\n                catalogListLoadError: false\n            }\n        }).catch((errorResult) => {\n\n            return {\n                catalogListLoading: false,\n                catalogListLoadError:\n                    errorResult.messageResponse ||\n                    (errorResult.status && errorResult.status.message)\n                    || errorResult\n            };\n        });\n};\n\nexport const getNewCatalog = () => {\n    ///catalogapi/api/v1/catalog/new/darbyfurnitureoutlet.com\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/catalog/new/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                activeCatalogItem: result,\n                catalogListLoading: false,\n                catalogListLoadError: false\n            }\n        }).catch((error) => {\n            return {\n                activeCatalogItem: null,\n                catalogListLoading: false,\n                catalogListLoadError: error.message || error\n            };\n        });\n};\n\nexport const getCatalogList = async () => {\n    const {catalogApi , token, userDomain} = getStore();\n\n    if(!userDomain) {\n        return {\n            catalogList: [],\n            catalogListLoading: false,\n            catalogListLoadHasError: true,\n            catalogListLoadError: \"\"\n        };\n    } else {\n        const url = `${catalogApi}/catalogApi/api/v1/catalog/domain/${userDomain}`;\n        const payloadGeneric = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\",\n                \"Authorization\": `Bearer ${token}`\n            }\n        };\n\n        return fetch(url, payloadGeneric)\n            .then(handleResponse()).then((result) => {\n\n                return {\n                    catalogList: result,\n                    catalogListLoading: false,\n                    catalogListLoadHasError: false,\n                    catalogListLoadError: false\n                }\n            }).catch(() => { //error\n                debugger;\n                return {\n                    catalogList: [],\n                    catalogListLoading: false,\n                    catalogListLoadHasError: true,\n                    catalogListLoadError: \"\"//error.message || error\n                };\n            });\n    }\n};","\nexport const sortCatalog = (catalogList, categoryId)=> {\n    const calc = [...catalogList];\n    calc.sort((a, b) => {\n        const aHasCategory = a.categories && a.categories.length > 0;\n        const bHasCategory = b.categories && b.categories.length > 0;\n        const filterA = aHasCategory ? a.categories.filter((aItem) =>\n            aItem._id === categoryId ) : [];\n\n        const filterB = bHasCategory ? b.categories.filter((bItem) =>\n            bItem._id === categoryId ) : [];\n\n\n        if(filterA.length > 0 && filterB.length > 0) {\n            return filterA[0].sort - filterB[0].sort;\n        }\n        else if (filterA.length > 0)\n            return -1;\n        else\n            return 1;\n    });\n    //console.log('catalogList sort', calc);\n    return calc;\n};\nexport const filterCatalog = (catalogListSorted, categoryId)=> {\n    const calc = [...catalogListSorted];\n    const filterCatalogIn =[];\n    const filterCatalogOut=[];\n    calc.forEach((a) => {\n        \n        const filterA = catalogListSorted ? a.categories.filter((aItem) =>\n            aItem._id === categoryId ) : [];\n\n        if (filterA.length > 0)\n            filterCatalogIn.push(a);\n        else\n           filterCatalogOut.push(a);\n    });\n    return {filterCatalogIn,filterCatalogOut} ;\n};\nexport const getCatalogTotals = (catalogListSorted, arrayCategory)=> {\n    const calc = [...catalogListSorted];\n\n    const totalCategory = []\n    arrayCategory.forEach((category)=> {\n        let activeTotal=0;\n        let disabledTotal=0;\n        calc.forEach((a, index) => {\n\n            const filterA = catalogListSorted ? a.categories.filter((aItem) =>\n                aItem._id === category._id) : [];\n\n            if (filterA.length > 0)\n                (a.status==='active'?activeTotal++:disabledTotal++)\n            if(index === catalogListSorted.length-1) {\n                const stats = {activeTotal, disabledTotal, _id:category._id}\n                totalCategory.push(stats)\n            }\n\n        });\n    })\n    return totalCategory;\n};\n\n\nexport const filterCatalogNoCategory = (catalogListSorted)=> {\n    const calc = [...catalogListSorted];\n    const filterNoCatalog =[];\n    calc.forEach((a) => {\n        const filterA = a.categories.length ===0;\n        if (filterA)\n            filterNoCatalog.push(a);\n    });\n\n    return filterNoCatalog;\n};\n\n\nexport const swapOrder = (catalog, category, swapCatalog) => {\n    const target = {...catalog};\n    const swap = {...swapCatalog};\n    const targetCategory = target.categories.filter(\n        (cate)=> cate._id === category._id);\n    const swapCategory = swap.categories.filter(\n        (cate)=> cate._id === category._id);\n\n    if(targetCategory.length > 0 && swapCategory.length > 0) {\n        const newTarget = swapCategory[0].sort;\n        swapCategory[0].sort = targetCategory[0].sort;\n        targetCategory[0].sort = newTarget;\n    }\n    return {target, swap};\n};\n\nexport const getNextSortInCategory = (categoryId, catalogList) => {\n    let maxSort = 0;\n    catalogList.forEach((catalog) => {\n        catalog.categories.forEach((inCategory)=> {\n            if(inCategory._id === categoryId && inCategory.sort > maxSort)\n                maxSort = inCategory.sort;\n        });\n    });\n    return maxSort + 1;\n};","import {createContext} from \"../../utility/modelContext\";\nimport {saveCatalog, uploadImage, deleteFile, saveCatalogStatus,\n    getNewCatalog, deleteCatalog, getCatalogList} from \"./catalogMessage\";\nimport {sortCatalog, swapOrder, filterCatalog,\n    filterCatalogNoCategory,getCatalogTotals, getNextSortInCategory} from \"./catalogHelper\";\nimport {showError} from \"../../utility/helpers\";\n\nlet provider = null;\n\nexport const createModel = () => ({\n    activeCatalogItem: null,\n    catalogList: [],\n    catalogListFiltered: [],\n    catalogListOutCategory:[],\n    catalogListNoCategory:[],\n    catalogTotals:[],\n\n\n    catalogListLoading: false,\n    catalogListLoadError: false,\n    savingCatalogSort: false,\n    catalogListInit: false,\n    catalogStatusLoading:false,\n    categorySelected: null,\n    catalogSearchText: \"\",\n    imageUploading: false,\n    onCatalogListInit,\n    onSetActiveCatalogItem,\n    onSaveCatalogItem,\n    onUploadImage,\n    onCreateNewCatalog,\n    onDeleteCatalog,\n    onSetCatalogStatus,\n    onAddCategoryToCatalog,\n    onRemoveCategoryFromCatalog,\n    onCategorySelectChange,\n    onCatalogOrderChange,\n    onCatalogSearch,\n    onClearCatalogError,\n    onSetCatalogTotals,\n    getCatalogCategorySort\n});\n\nconst onClearCatalogError = ()=>{\n    provider.setState({catalogListLoadError: false});\n};\n\nconst getCatalogCategorySort = (categoryId) => {\n    const {catalogList} = provider.state;\n    return getNextSortInCategory(categoryId, catalogList);\n};\n\nconst onCatalogSearch = (catalogSearchText) => {\n    const searchText = catalogSearchText.toLowerCase();\n    const catalogListFilteredTemp = provider.state\n        .catalogList.filter((cat) =>\n            cat.shortDesc.toLowerCase().indexOf(searchText) > -1 ||\n            cat.modelNumber.toLowerCase().indexOf(searchText) > -1\n        );\n    const catalogListFiltered = sortCatalog(catalogListFilteredTemp,\n        provider.state.categorySelected &&\n        provider.state.categorySelected._id);\n\n    provider.setState({catalogSearchText, catalogListFiltered});\n};\n\nconst onCatalogOrderChange = async (catalog, category, swapCatalog) => {\n    try {\n        provider.setState({savingCatalogSort: true});\n        const {target, swap} = swapOrder(catalog,category, swapCatalog);\n\n        await commonSaveCatalogItem(target, false);\n        await commonSaveCatalogItem(swap, false);\n    } catch (ex) {\n\n    }\n    provider.setState({savingCatalogSort: false});\n};\n\n//category select drop down\nconst onCategorySelectChange = (categorySelected) => {\n    const result = setCategorySelectedCommon(categorySelected,\n        provider.state.catalogList);\n    provider.setState(result);\n};\n\nconst setCategorySelectedCommon = (categorySelected, catalogList) => {\n    const catalogListSorted = sortCatalog(catalogList,\n        categorySelected._id);\n\n    const {filterCatalogIn,filterCatalogOut } = filterCatalog(catalogListSorted,categorySelected._id );\n    const catalogListNoCategory = filterCatalogNoCategory(catalogListSorted);\n\n    return {\n        catalogListFiltered:filterCatalogIn,\n        catalogListOutCategory:filterCatalogOut,\n        categorySelected,\n        catalogListNoCategory\n    };\n};\n\nconst onAddCategoryToCatalog = async ({catalog, category}) => {\n    let maxSort = 1;\n\n    provider.state.catalogList.forEach((cat) => {\n        const searchCate = cat.categories.filter((cate)=> {\n            return cate._id === category._id;\n        });\n        if(searchCate.length > 0 && searchCate[0].sort > maxSort)\n            maxSort = searchCate[0].sort;\n    });\n\n    provider.setState({\n            \"catalogStatusLoading\": catalog._id,\n            \"catalogListLoading\": true\n        });\n\n    const newCatalog = {...catalog,\n        categories : [\n            {...category, sort: (maxSort + 1)},\n            ...catalog.categories]\n    };\n\n    await commonSaveCatalogItem(newCatalog, false);\n};\n\nconst onRemoveCategoryFromCatalog = async ({catalog, categoryId}) => {\n    provider.setState(\n        {\"catalogStatusLoading\": catalog._id,\n        catalogListLoading: true});\n    const categories = catalog.categories.filter(\n        (cat) => cat._id !== categoryId);\n    const newCatalog = {...catalog, categories};\n    await commonSaveCatalogItem(newCatalog, false);\n};\n\nconst onSetCatalogStatus = async (status, id) => {\n    provider.setState({\"catalogStatusLoading\": id, activeCatalogItem: null});\n\n    const {saveCatalogStatusResult, catalogListLoadError,\n        success} = await saveCatalogStatus(status, id);\n    // noinspection JSUnresolvedVariable\n    if(success && saveCatalogStatusResult.modifiedCount > 0) {\n        const catalogList = provider.state.catalogList\n            .map((catalog)=> {\n                if(catalog._id === id) {\n                    return {...catalog, status};\n                } else\n                    return catalog;\n            });\n        //change here\n        const {\n            catalogListFiltered,\n            catalogListOutCategory,\n            categorySelected,\n            catalogListNoCategory} =\n            setCategorySelectedCommon(provider.state.categorySelected,\n                catalogList);\n\n        provider.setState({\n            catalogList,\n            catalogListFiltered,\n            catalogListOutCategory,\n            categorySelected,\n            catalogStatusLoading: false,\n            catalogListLoadError,\n            catalogListNoCategory\n        });\n    } else\n        provider.setState({\"catalogStatusLoading\": false, catalogListLoadError});\n};\n\nconst onDeleteCatalog = async (catalog) => {\n    provider.setState({catalogListLoading: true});\n    const result = await deleteCatalog(catalog);\n\n    result.catalogList = provider.state.catalogList.filter(\n        (cat) => cat._id !== catalog._id\n    );\n    result.catalogListFiltered = sortCatalog(result.catalogList,\n        provider.state.categorySelected &&\n        provider.state.categorySelected._id);\n    result.activeCatalogItem = null;\n    provider.setState(result);\n};\n\nconst onUploadImage = async (imageToSave, oldFileId) => {\n    provider.setState({imageUploading: true});\n    if(oldFileId)\n        await deleteFile(oldFileId);\n    const result = await uploadImage(imageToSave, 540); //800\n    provider.setState({imageUploading: false});\n    return result;\n};\n\nconst onCreateNewCatalog = async ()=> {\n    provider.setState({catalogListInit: true});\n    const result = await getNewCatalog();\n    provider.setState(result);\n};\n\nconst onSaveCatalogItem = async (itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther) => {\n\n    if(uploadImageMetadata && uploadImageMetadata.id &&\n        uploadImageMetadata.id.length > 0 ) {\n        provider.setState({catalogListLoading: true});\n        const fileShowing = {...uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther};\n        const search = itemEdit.images && itemEdit.images.find((im) => im.id === fileShowing.id);\n        const images = itemEdit.images && itemEdit.images.length > 1 && search ?\n            itemEdit.images.map((im) => {\n                return im.id === fileShowing.id ? fileShowing : im;\n            }) : [fileShowing];\n\n        const activeCatalogItem = {...itemEdit, images};\n        await commonSaveCatalogItem(activeCatalogItem);\n    } else {\n        showError(\"Select a picture before saving\");\n    }\n};\n\nconst commonSaveCatalogItem = async (activeCatalogItem, setActiveItem = true) => {\n    const result = await saveCatalog(activeCatalogItem);\n\n    if(result.catalogListLoadError === false) {\n        // noinspection JSUnresolvedVariable\n        if (result.saveCatalogResult && result.saveCatalogResult.modifiedCount > 0) {\n            result.catalogList = provider.state.catalogList.map((ct) => {\n                return ct._id === activeCatalogItem._id ? activeCatalogItem : ct;\n            });\n\n        } else { // noinspection JSUnresolvedVariable\n            if (result.saveCatalogResult &&\n                result.saveCatalogResult.upsertedCount > 0) {\n                result.catalogList = [\n                    ...provider.state.catalogList, activeCatalogItem\n                ];\n                /*\n                                result.catalogListFiltered = sortCatalog(result.catalogList,\n                                    provider.state.categorySelected &&\n                                    provider.state.categorySelected._id);\n                                    */\n            }\n        }\n\n        const {\n            catalogListFiltered,\n            catalogListOutCategory,\n            categorySelected,\n            catalogListNoCategory\n        } =\n            setCategorySelectedCommon(provider.state.categorySelected,\n                result.catalogList);\n\n        result.catalogListFiltered = catalogListFiltered;\n        result.categorySelected = categorySelected;\n        result.catalogListOutCategory = catalogListOutCategory;\n        result.catalogListNoCategory = catalogListNoCategory;\n\n        if (!setActiveItem)\n            result.activeCatalogItem = null;\n        result.catalogStatusLoading = false;\n\n        provider.setState(result);\n    } else {\n        provider.setState(result);\n    }\n};\n\nconst onSetActiveCatalogItem = (activeCatalogItem) => {\n    provider.setState({activeCatalogItem});\n};\n\nconst onCatalogListInit = () => {\n    provider.setState({catalogListInit: true, catalogListLoading: true});\n\n    getCatalogList().then((newState) => {\n        // noinspection JSUndefinedPropertyAssignment\n        newState.catalogListFiltered = newState.catalogList;\n        if(newState.catalogListLoadHasError) {\n            newState.catalogListInit = false;\n            setTimeout(()=> {\n                provider.setState(newState);\n            }, 100);\n        } else {\n            provider.setState(newState);\n        }\n    }).catch(()=> { //ex\n        debugger;\n    });\n\n};\n\nconst onSetCatalogTotals = (categoryList,catalogList) =>{\n    console.log(\"onSetCatalogTotals\");\n    const catalogTotals=getCatalogTotals(catalogList, categoryList);\n    provider.setState({catalogTotals});\n    console.log(catalogTotals);\n\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nexport const catalogModel = createContext(createModel, getInitialState);\n","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const getCategoryList = async () => {\n    const {catalogApi , token, userDomain} = getStore();\n    if(!userDomain) {\n        return {\n            categoryList: [],\n            categoryListLoading: false,\n            categoryListLoadHasError: true,\n            categoryListInit:false,\n            categoryListLoadError: \"\"\n        };\n    } else {\n        const url = `${catalogApi}/catalogApi/api/v1/category/domain/${userDomain}`;\n        const payloadGeneric = {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\",\n                \"Authorization\": `Bearer ${token}`\n            }\n        };\n\n        return fetch(url, payloadGeneric)\n            .then(handleResponse()).then((result) => {\n                return {\n                    categoryList: result,\n                    categoryListLoading: false,\n                    categoryListLoadHasError: false\n                }\n            }).catch((error) => {\n                return {\n                    categoryList: [],\n                    categoryListLoading: false,\n                    categoryListLoadHasError: true,\n                    categoryListLoadError: error.message || error\n                };\n            });\n    }\n};\n\nexport const getNewCategory = () => {\n    //catalogapi/api/v1/category/new/darbyfurnitureoutlet.com\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/category/new/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                activeCategoryItem: result,\n                categoryListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                activeCategoryItem: null,\n                categoryListLoading: false,\n                categoryListLoadError: error.message || error\n            };\n        });\n};\n\nexport const saveCategory = async (itemToSave)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/Category`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(itemToSave)\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                saveCategoryResult: result,\n                activeCategoryItem: itemToSave,\n                categoryListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                success: false,\n                categoryListLoading: false,\n                categoryListLoadError: error.message || error\n            };\n        });\n};\n\nexport const deleteCategory = (categoryId) => {\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/category/${categoryId}`;\n    const payloadGeneric = {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            /* result\n            {\n                \"deletedCount\": 1\n            }\n            */\n            return {\n                deleteCategoryResult: result,\n                categoryListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                deleteCategoryResult: false,\n                categoryListLoading: false,\n                deleteCategoryResultError: error.message || error\n            };\n        });\n};","import {createContext} from \"../../utility/modelContext\";\nimport {saveCategory, getCategoryList,\n    getNewCategory, deleteCategory} from \"./categoryMessage\";\n\nlet provider = null;\n\nexport const createModel = () => ({\n    activeCategoryItem: null,\n    categoryList: [],\n    categoryListLoading: false,\n    categoryListInit: false,\n    onCategoryListInit,\n    onSetActiveCategoryItem,\n    onSaveCategoryItem,\n    onCreateNewCategory,\n    onDeleteCategory\n});\n\nconst onCategoryListInit = () => {\n    provider.setState({categoryListInit: true});\n    getCategoryList().then((newState) => {\n        provider.setState(newState);\n    });\n};\n\nconst onSetActiveCategoryItem = (activeCategoryItem) => {\n    provider.setState({activeCategoryItem});\n};\n\nconst onSaveCategoryItem = async (itemToSave) => {\n    if(itemToSave.isNew)\n        delete itemToSave.isNew;\n    const result = saveCategory(itemToSave);\n    result.categoryList = provider.state.categoryList.map((cat) =>\n        cat._id === itemToSave._id ? itemToSave : cat);\n\n    provider.setState(result);\n};\n\nconst onCreateNewCategory = async () => {\n    provider.setState({categoryListInit: true});\n    const result = await getNewCategory();\n\n    result.categoryList = [result.activeCategoryItem, ...provider.state.categoryList,\n        ];\n\n    provider.setState(result);\n};\n\nconst onDeleteCategory = async (category) => {\n    provider.setState({categoryListLoading: true});\n    const result = await deleteCategory(category._id);\n\n    result.categoryList = provider.state.categoryList.filter(\n        (cat) => cat._id !== category._id\n    );\n\n    result.activeCategoryItem = null;\n    provider.setState(result);\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nexport const categoryModel = createContext(createModel, getInitialState);\n","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const getNewLocation = () => {\n    ////catalogapi/api/v1/company/location/new\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/company/location/new/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                activeLocationItem: result,\n                locationListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                activeLocationItem: null,\n                locationListLoading: false,\n                locationListLoadError: error.message || error\n            };\n        });\n};\n\nexport const getLocationList = async () => {\n    const {catalogApi , token, userDomain} = getStore();\n    //\n    const url = `${catalogApi}/catalogApi/api/v1/company/locations/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                locationList: result,\n                locationListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                locationList: [],\n                locationListLoading: false,\n                locationListLoadError: error.message || error\n            };\n        });\n};\n\nexport const deleteLocationRecord = (locationId) => {\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogapi/api/v1/company/location/${locationId}`;\n    const payloadGeneric = {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            /* result\n            {\n                \"deletedCount\": 1\n            }\n            */\n            return {\n                deleteLocationResult: result,\n                locationListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                deleteLocationResult: false,\n                locationListLoading: false,\n                deleteLocationResultError: error.message || error\n            };\n        });\n};\n\nexport const saveLocation = async (itemToSave)=>{\n    const {catalogApi , token} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/company/location`;\n    const payloadGeneric = {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(itemToSave)\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            return {\n                saveLocationResult: result,\n                activeLocationItem: itemToSave,\n                locationListLoading: false\n            }\n        }).catch((error) => {\n            return {\n                success: false,\n                locationListLoading: false,\n                locationListLoadError: error.message || error\n            };\n        });\n};","import {createContext} from \"../../utility/modelContext\";\n\nimport {saveLocation, getLocationList,\n    getNewLocation, deleteLocationRecord} from \"./companyMessage\";\n\nlet provider = null;\n\nexport const createModel = () => ({\n    activeLocationItem: null,\n    locationList: [],\n    locationListLoading: false,\n    locationListInit: false,\n    onLocationListInit,\n    onSetActiveLocationItem,\n    onSaveLocationItem,\n    onCreateNewLocation,\n    onDeleteLocation\n});\n\nconst onLocationListInit = () => {\n    provider.setState({locationListInit: true});\n    getLocationList().then((newState) => {\n        provider.setState(newState);\n    });\n};\n\nconst onSetActiveLocationItem = (activeLocationItem) => {\n    provider.setState({activeLocationItem});\n};\n\nconst onSaveLocationItem = async (itemToSave) => {\n    if(itemToSave.isNew)\n        delete itemToSave.isNew;\n    const result = saveLocation(itemToSave);\n    result.locationList = provider.state.locationList.map((loc) =>\n        loc._id === itemToSave._id ? itemToSave : loc);\n\n    provider.setState(result);\n};\n\nconst onCreateNewLocation = async () => {\n    provider.setState({locationListInit: true});\n    const result = await getNewLocation();\n\n    result.locationList = [result.activeLocationItem, ...provider.state.locationList,\n    ];\n\n    provider.setState(result);\n};\n\nconst onDeleteLocation = async (location) => {\n    provider.setState({locationListLoading: true});\n    const result = await deleteLocationRecord(location._id);\n\n    result.locationList = provider.state.locationList.filter(\n        (loc) => loc._id !== location._id\n    );\n\n    result.activeLocationItem = null;\n    provider.setState(result);\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\n\nexport const companyLocationModel = createContext(createModel, getInitialState);\n\n","\nexport const hitConfigToChart = {\n    seriesName: \"hits\",\n    labelField: \"hitStart\",\n    dataField: \"hitCount\",\n    labelConverter: (data) => {\n\n        return data.substr(5, 5);\n    }\n}\n\nexport const statToChart = (dataList, config) => {\n    let result = [];\n    if(Array.isArray(dataList)){\n        result = dataList.map((data) => ({\n            name: config.labelConverter ? config.labelConverter(data[config.labelField]) : data[config.labelField],\n            [config.seriesName] : data[config.dataField]\n        }));\n    }\n    return result;\n}","import {createContext} from \"../../utility/modelContext\";\nimport {getHitReport} from \"./statsMessage\";\nimport {statToChart, hitConfigToChart} from \"./statsToChart\";\nimport {dateFormat} from \"dateformat\"\nexport const createModel = () => ({\n    hitReport: [],\n    hitChartData: [],\n    hitReportLoaded: true,\n    hitReportLoading: false,\n    hitReportLoadError: false,\n    hitReportInitDone: false,\n    weekStartDate:'',\n    weekEndDate:'',\n    onHitReportInit,\n    onHitReportGet,\n    setWeekDays\n});\nlet provider = null;\n\nconst onHitReportInit= async ()=> {\n    provider.setState({hitReportInitDone: true});\n    await onHitReportGet();\n}\nconst setWeekDays =(hitReportArr)=>{\n    const startWeek = new Date(hitReportArr[0].hitStart);\n    const endWeek = new Date(hitReportArr[hitReportArr.length-1].hitStart);\n\n    let sDay = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(startWeek);\n    let sMo = new Intl.DateTimeFormat('en', { month: 'short' }).format(startWeek);\n    let eDay = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(endWeek);\n    let eMo = new Intl.DateTimeFormat('en', { month: 'short' }).format(endWeek);\n    provider.setState({weekStartDate:`${sMo} ${sDay}`, weekEndDate:`${eMo} ${eDay}`})\n\n}\n\nconst onHitReportGet = async ()=> {\n    provider.setState({hitReportLoading: true});\n    const result = await getHitReport();\n    console.log(result.hitReport)\n    setWeekDays(result.hitReport)\n    if(!result.hitReportLoadError)\n        result.hitChartData =  statToChart(result.hitReport, hitConfigToChart);\n    provider.setState(result);\n}\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nexport const statsModel = createContext(createModel, getInitialState);","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n\nexport const getHitReport = () => {\n    const {catalogApi , token, userDomain} = getStore();\n    const url = `${catalogApi}/catalogApi/api/v1/hitReport/${userDomain}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            const hasData = Array.isArray(result);\n            return {\n                hitReport: hasData ? result : [],\n                hitReportLoaded: hasData,\n                hitReportLoading: false,\n                hitReportLoadError: hasData ?  false : \"Invalid Hit Data Returned\",\n            }\n        }).catch((error) => {\n            return {\n                hitReportLoading: false,\n                hitReportLoadError: error.message || error\n            };\n        });\n};","import {getStore} from \"../accounts/userAuthStore\";\nimport {handleResponse} from \"../../utility/helpers\";\n//import {salesXlMap} from \"./salesXlMap\";\n\nexport const salesSearchByName = (name) => {\n    const {catalogApi , token} = getStore(); //userDomain\n    const url = `${catalogApi}/catalogApi/api/v1/sales/${name}`;\n    const payloadGeneric = {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": `Bearer ${token}`\n        }\n    };\n\n    return fetch(url, payloadGeneric)\n        .then(handleResponse()).then((result) => {\n            const success = Array.isArray(result);// result.err === null;\n\n            //if(success) {\n            //    result.data.items = result; //salesXlMap(result); //result.da\n            //}\n            return {\n                salesSearch: success ? {\n                    rowCountFound: result.length,\n                        rows: [],\n                        items: result\n                }\n                    : {rowCountFound: 0, rows: [], items: []},\n                salesSearchLoading: false,\n                salesSearchLoadError: success ? false : result.err\n            }\n        }).catch((error) => {\n            return {\n                salesSearchLoading: false,\n                salesSearchLoadError: error.message || error\n            };\n        });\n};","import {createContext} from \"../../utility/modelContext\";\nimport {salesSearchByName} from \"./salesSearchMessage\";\n\nexport const createModel = () => ({\n    salesSearch: {rowCountFound: 0, rows: [], items: []},\n    salesSearchLoading: false,\n    salesSearchLoadError: false,\n    salesSearchLoaded: true,\n    onGetSalesByName\n});\n\nlet provider = null;\n\nconst onGetSalesByName = async (name) => {\n    provider.setState({salesSearchLoading: true});\n    const result = await salesSearchByName(name);\n\n    provider.setState(result);\n}\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    return  createModel();\n};\n\nexport const salesSearchModel = createContext(createModel, getInitialState);","import React from 'react';\nimport AccountModel from \"./models/accounts/accountModel\";\nimport {catalogModel} from \"./models/home/catalogModel\";\nimport {categoryModel} from \"./models/home/categoryModel\";\nimport {companyLocationModel} from \"./models/company/companyLocationsModel\";\nimport {statsModel} from \"./models/stats/statsModel\";\nimport {salesSearchModel} from \"./models/sales/salesSearchModel\";\n\nexport const GlobalProviders = ({children}) => {\n\n    return (\n        <AccountModel.ModelProvider>\n            <catalogModel.ModelProvider>\n                <categoryModel.ModelProvider>\n                    <companyLocationModel.ModelProvider>\n                        <statsModel.ModelProvider>\n                            <salesSearchModel.ModelProvider>\n                        {children}\n                            </salesSearchModel.ModelProvider>\n                        </statsModel.ModelProvider>\n                    </companyLocationModel.ModelProvider>\n                </categoryModel.ModelProvider>\n            </catalogModel.ModelProvider>\n        </AccountModel.ModelProvider>\n    );\n};\n","import {useState, useEffect} from \"react\";\n\nexport const useIsMobile = () => {\n    const [isMobile, setIsMobile] = useState(window.innerWidth <= 760);\n    const resize = () => {\n        setIsMobile(window.innerWidth <= 760);\n    };\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", resize);\n        return () => {\n            window.removeEventListener(\"resize\", resize);\n        };\n    },[]);\n\n    return isMobile;\n};\n\nexport function useCardSize() {\n    const calcCardSize = (contWidth) => {\n\n        let widthCalc = \"\";\n        let heightPicCalc = \"\";\n        if(contWidth < 550) {\n            widthCalc= \"93vw\";\n            heightPicCalc = \"72.54vw\";\n        }\n        else if(contWidth < 700) {\n            widthCalc= \"46vw\";\n            heightPicCalc = \"35.88vw\";\n        }\n        else if(contWidth < 1200) {\n            widthCalc= \"30vw\";\n            heightPicCalc = \"24.3vw\";\n        }\n        else {\n            widthCalc= \"15vw\";//\"14vw\";//\"16.67vw\";//\"23vw\";\n            heightPicCalc = \"11.7vw\";//\"10.92vw\";//\"13vw\";//\"17.94vw\";\n        }\n\n        return {widthCalc, heightPicCalc};\n    };\n    const [cardWidth, setCardWidth] = useState(calcCardSize(window.innerWidth));\n\n    useEffect(() => {\n        function resizeWidth() {\n            const res = calcCardSize(window.innerWidth);\n            setCardWidth(res);\n        }\n\n        window.addEventListener(\"resize\", resizeWidth);\n\n        return () => {\n            window.removeEventListener(\"resize\", resizeWidth);\n        };\n    },[]); // Empty array ensures that effect is only run on mount\n\n    return cardWidth;\n}","import {Home, Category, LocationCity, SearchTwoTone, Timeline, Money} from \"@material-ui/icons\";\n//category , , featureId: 1\nconst mainLinksAll = [\n    {label : \"Home\", icon: Home, selected:!(window.location.href.includes('location') || window.location.href.includes('category') || window.location.href.includes('keyLogs') || window.location.href.includes('catalogSearch') || window.location.href.includes('hits') || window.location.href.includes('salesByName') ), link:\"#/\", route:\"/\", isMobile: true },\n    {label : \"Category\", icon: Category, selected:window.location.href.includes('category'),  link:\"#/category\", route:\"/category\", isMobile: true },\n    {label : \"Locations\", icon: LocationCity, selected:window.location.href.includes('location'),  link:\"#/location\", route:\"/location\", isMobile: true },\n    {label : \"Filter\", icon: SearchTwoTone, selected:window.location.href.includes('catalogSearch'),  link:\"#/catalogSearch\", route:\"/catalogSearch\", isMobile: true },\n    {label : \"Hits\", icon: Timeline, selected:window.location.href.includes('hits'),  link:\"#/hits\", route:\"/hits\", isMobile: true },\n    {label : \"Sales\", icon: Money, selected:window.location.href.includes('salesByName'),  link:\"#/salesByName\", route:\"/salesByName\", isMobile: true }\n];//#//hits\n\nexport const getMenus = (mobileOnly)=> {\n    if(mobileOnly)\n        return mainLinksAll.filter(link => link.isMobile);\n    else\n        return mainLinksAll;\n};\n","import React from 'react';\nimport {useIsMobile} from \"../../utility/useIsMobile\";\nimport { SideStrip } from \"fancy-menu\"\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Input\n} from \"@material-ui/icons\";\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {getMenus} from \"../../models/home/menuStore\";\nimport {getStore, setUserData} from \"../../models/accounts/userAuthStore\";\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst mainLinksAll = getMenus();\n\nconst bottomLinks = [\n    {label : \"Logout\", icon: Input, link:\"#/logout\" }\n];\n\nexport const FullMenuNavComponent = ({ children, firstName, lastName,\n                                         userLoggedIn, picUrl, userFeatures  }) => {\n    const isMobile = useIsMobile();\n    const classes = useStyles(isMobile);\n\n    const {\n        isLoading,\n        //isAuthenticated,\n        //error,\n        user,\n        //loginWithRedirect,\n        //logout,\n    } = useAuth0();\n\n    const mainLinks = mainLinksAll.filter(\n        (link) => link.featureId === undefined ||\n            userFeatures.indexOf(link.featureId) > -1);\n\n    const userInfo = getStore();\n    if(!isLoading) {\n        console.log(\"---- Full Menu ----\");\n        console.log(user);\n    }\n    if(user) {\n        if(userInfo.token && userInfo.userDomain === \"\")\n           setUserData(user);\n        userInfo.picUrl = user.picture;\n        userInfo.name = user.name;\n    }\n\n    return (\n        userInfo.name &&\n        <div>\n            <SideStrip mainLinks={mainLinks}\n                       bottomLinks={bottomLinks}\n                       onMenuClose={() => {\n                          // setOpenMenu(false);\n                       }}\n                       expandMenu={false}\n                       userLabel={userInfo.name}\n                       imageUrl={decodeURIComponent(userInfo.picUrl)}\n            />\n            <div className={classes.mainContainer}>\n                {children}\n            </div>\n        </div> ||\n            <div>{children}</div>\n    );\n};\n\nexport const FullMenuNav = connectArray(FullMenuNavComponent,[accountModel]);\n\nconst useStyles = (isMobile) => makeStyles({\n    mainContainer:{\n        marginLeft: isMobile ? 7 : 70,\n        marginRight: 7\n    },\n})();\n\n","import React, { useEffect } from \"react\";\nimport {clearToken} from \"../../models/accounts/userAuthStore\";\nimport { Card, CardContent,\n    CardActions, Button, Typography  } from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Input as LoginIcon, Info } from '@material-ui/icons';\nimport accountModel from \"../../models/accounts/accountModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const LoggedOutComponent = ({onNotifyMainNavOfLogOff, userLoggedIn}) => {\n\n    const classes = useStyles();\n    const { loginWithRedirect,\n        logout,\n        isAuthenticated,\n        isLoading\n    } = useAuth0();\n\n    useEffect(() => {\n        clearToken();\n        if(isAuthenticated)\n            logout({returnTo: `${window.location.origin}/#/login`});\n\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"featurePermissions\");\n\n        if(userLoggedIn)\n            onNotifyMainNavOfLogOff();\n    });\n    // noinspection HtmlUnknownAnchorTarget\n    return (\n        <form id=\"logout-submit\"\n              className={classes.mainContainer}>\n            {!isLoading && !isAuthenticated &&\n            <Card style={{display: \"flex\"}}>\n                <div className={classes.outerCard}>\n                    <CardContent className={classes.cardContainer}>\n                        <img src={\"retail-shop-flat-icon_small.jpg\"}\n                             className={classes.logo}/>\n                        <div className={classes.messageContainer}>\n                            <Info className={classes.iconSpacing}/><Typography>You have been logged out.</Typography>\n                        </div>\n                    </CardContent>\n                    <CardActions>\n                        <Button variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.actionButton}\n                                onClick={() => {\n                                    loginWithRedirect();\n                                }}\n                        >\n                            <LoginIcon style={{marginRight: 10}}/> Login\n                        </Button>\n\n                    </CardActions>\n                </div>\n            </Card>\n            }\n            {(isLoading || isAuthenticated ) &&\n                <span>... logging out please wait</span>\n            }\n        </form>\n    )\n};\n\nexport const LoggedOut = connectArray(LoggedOutComponent, [accountModel]);\n\nconst useStyles = makeStyles({\n    mainContainer:{width: \"80%\", maxWidth: 460, margin: '100px auto'},\n    leftContainer: {height: 400,width: 300, paddingLeft: 4},\n    cardContainer: {minHeight: 170},\n    logo: {width: 250, margin: \"auto\"},\n    actionButton: {width: \"80%\", margin:\"auto\"},\n    messageContainer: { display: \"flex\", width:235, margin:\"40px auto\"},\n    iconSpacing: { marginRight: 12},\n    outerCard: {margin: \"45px auto\"}\n});","import React from \"react\";\nimport {InputBase} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Search as SearchIcon} from \"@material-ui/icons\";\n\nexport const SearchTextBox = ({onSearchChange}) => {\n    const classes = useStyle();\n    return (\n        <div className={classes.search}>\n            <div className={classes.searchIcon}>\n                <SearchIcon />\n            </div>\n            <InputBase\n                placeholder=\"Search\"\n                onChange={(event) => onSearchChange(event.target.value)}\n                classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                }}\n                inputProps={{ 'aria-label': 'search' }}\n            />\n        </div>\n    );\n};\n\nconst useStyle = makeStyles(theme  => ({\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 7),\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(7),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n}));","/*global siteData */\nimport React from \"react\";\nimport { AppBar, Toolbar, IconButton, Typography,\n     Button } from \"@material-ui/core\";\nimport { makeStyles} from \"@material-ui/core/styles\";\nimport { Add as AddIcon} from \"@material-ui/icons\";\nimport {SearchTextBox} from \"./SearchTextBox\";\nimport PropTypes from 'prop-types';\nimport {useIsMobile} from \"../useIsMobile\";\n\nconst useStyles = makeStyles((theme) => {\n\n    return {\n        root: {\n            backgroundColor: theme.palette.background.paper,\n            color: \"black\",\n            fontSize: \"14px\",\n            marginBottom: 10,\n            marginLeft: -20,\n            boxShadow: \"0 0\",\n        },\n        rootMobile: {\n            backgroundColor: theme.palette.background.paper,\n            color: \"black\",\n            fontSize: \"14px\",\n            marginBottom: 10,\n            marginTop: 0,\n            marginLeft: 20,\n            boxShadow: \"0 0\",\n            width: \"unset\"\n        },\n        toolBar : {\n            minHeight: 38,\n            height: 38\n        },\n        avatar : {\n            backgroundColor: \"transparent\",\n            color: theme.palette.primary.main,\n            marginRight: 15,\n            marginLeft: -15,\n        },\n        searchTextContainer: {\n            display: \"flex\",\n            position: \"absolute\",\n            right: 5,\n            top: 7,\n        },\n        childContainerNoSearch: {\n            display: \"flex\",\n        },\n        childContainer: {\n            display: \"flex\",\n            //position: \"absolute\",\n            right: 270,\n            top: 7,\n            marginLeft: 8\n        },\n        searchTextBox: {\n            width: 120\n        },\n        searchTextLabel: {\n            marginRight: \"5px\",\n            marginTop: \"6px\",\n        },\n        menuButton: {\n            marginLeft: -18,\n            marginRight: 10,\n        },\n        labelTitle: {\n            color: theme.palette.primary.main,\n            //marginRight: 28,\n            display: \"flex\"\n        },\n        labelTitleWithTextBox: {\n            color: theme.palette.primary.main,\n            marginRight: 28,\n            display: \"flex\",\n            marginTop: 12\n        }\n    };\n});\n\nexport const AppBarTitleAddSearchComponent =\n    ({ title, LeftIcon, onSearchChange, hideSearch, onAdd,\n         addLabel, children, childHasTextBox,\n         onAvatarClick}) => {\n\n    const isMobile = useIsMobile();\n    const classes = useStyles();\n    return (\n        <AppBar className={isMobile ? classes.rootMobile : classes.root} position=\"static\">\n            <Toolbar variant=\"dense\">\n                <LeftIcon style={{marginRight: 10}} />\n                <span className={childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle}>\n                    {/*  <IconButton className={classes.menuButton}\n                                color=\"inherit\"\n                                aria-label=\"Menu\"\n                                onClick={() => onAvatarClick && onAvatarClick()}\n                    >\n                        <LeftIcon />\n                    </IconButton>*/}\n\n                    <Typography variant=\"h6\" color=\"inherit\" >\n                        {title}\n                    </Typography>\n\n                </span>\n                {onAdd &&\n                    !isMobile &&\n                    <Button variant=\"outlined\"\n                            color=\"secondary\"\n                            onClick={onAdd}\n                            startIcon={<AddIcon />}\n                            style={{marginLeft: 20}}>\n                        {addLabel || \"Add\"}\n                    </Button>\n                }\n\n                {onAdd &&\n                    isMobile &&\n                    <IconButton\n                            color=\"secondary\"\n                            onClick={onAdd}\n                            style={{marginLeft: 10}}>\n                        <AddIcon />\n                    </IconButton>\n                }\n\n                <span className={hideSearch || onSearchChange === undefined || childHasTextBox ? classes.childContainerNoSearch : classes.childContainer}>\n                    {children}\n                </span>\n                {hideSearch !== true && onSearchChange !== undefined &&\n                <span className={classes.searchTextContainer}>\n\n                        <span className={classes.searchTextBox}>\n                            <SearchTextBox onSearchChange={(value) => onSearchChange(value)} />\n                        </span>\n                    </span>\n                }\n            </Toolbar>\n        </AppBar>\n    )\n};\n\nexport const AppBarTitleAddSearch = AppBarTitleAddSearchComponent;\n\nexport const AppBarTitleComponent = ({ title, LeftIcon, variant, iconSize, marginLeft, style, children,\n                                        childHasTextBox\n                                     }) => {\n    const classes = useStyles();\n    return (\n        <AppBar className={classes.root} style={style} position=\"static\">\n            <Toolbar variant=\"dense\"  >\n                <span className={ childHasTextBox ? classes.labelTitleWithTextBox : classes.labelTitle} >\n                    <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\">\n                        <LeftIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" color=\"inherit\" style={{marginTop: 9}} >\n                        {title}\n                    </Typography>\n                </span>\n                <span className={classes.childContainerNoSearch }>\n                    {children}\n                </span>\n            </Toolbar>\n        </AppBar>\n    )\n};\n\n\n\nexport const AppBarTitle = AppBarTitleComponent;\n\nAppBarTitle.propTypes = {\n    LeftIcon: PropTypes.elementType.isRequired,\n    title: PropTypes.string\n};\n","import React, {Fragment} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport const AlertDialog = ({onClick, children, title, message, ...props}) => {\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleOk = () => {\n        setOpen(false);\n        onClick();\n    };\n    return (\n        <Fragment>\n            <Button {...props} onClick={handleClickOpen}>\n                {children}\n            </Button>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {message}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleOk} variant=\"contained\" color=\"primary\" autoFocus>\n                        OK\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n    );\n};","import React, {useState, useEffect} from \"react\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {TextField, InputAdornment, Button, Paper,\nCheckbox, FormControlLabel, Switch} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Save, Close, Delete} from \"@material-ui/icons\";\nimport {toCurrency} from \"../../utility/helpers\";\nimport {getStore} from \"../../models/accounts/userAuthStore\";\nimport {PicRatioFill} from \"pic-ratio-fill\";\nimport {AlertDialog} from \"../../utility/components/AlertDialog\";\n\nconst {catalogApi} = getStore();\nconst containerWidth = 532;\nconst containerHeight = 415;\n\nconst CatalogItemEditComponent = ({\n     activeCatalogItem, onSaveCatalogItem, catalogListLoading,\n     onUploadImage, onDeleteCatalog, imageUploading, categoryList,\n     getCatalogCategorySort, onSetActiveCatalogItem\n}) => {\n    const imageIsConfig = activeCatalogItem.images\n        && activeCatalogItem.images.length > 0;\n    const imageId = imageIsConfig ?\n        activeCatalogItem.images[0].id : false;\n\n    const imageUrl = imageIsConfig ?\n        `${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}?1` :\n        null\n    ;\n\n    const rgbData = imageIsConfig ?\n        activeCatalogItem.images[0].colorRgb : [0,0,0];\n    const metaUpload = imageIsConfig ?\n        {\n            \"id\": activeCatalogItem.images[0].id,\n            \"fileName\": activeCatalogItem.images[0].fileName\n        } : null;\n\n\n    const [itemEdit, setItemEdit] = useState({...activeCatalogItem});\n    const [uploadImage, setUpLoadImage] = useState(imageUrl);\n\n    const [uploadImageMetadata, setUpLoadImageMetadata] = useState(metaUpload);\n\n    const [willFitWidth, setWillFitWidth] = useState(\n        imageIsConfig ? activeCatalogItem.images[0].willFitWidth : true);\n\n    const [colorRgb, setColorRgb] = useState(rgbData);\n    const [colorRgbOther,setColorRgbOther] = useState(rgbData);\n    const [unitPrice, setUnitPrice] = useState(itemEdit.unitPrice);\n\n    const onValueChange = (fieldName, value) => setItemEdit({...itemEdit, [fieldName]: value});\n    const classes = useStyle();\n    useEffect(()=>{\n        if(activeCatalogItem._id !== itemEdit._id) {\n            const imageIsConfig = activeCatalogItem.images\n                && activeCatalogItem.images.length > 0;\n\n            setItemEdit({...activeCatalogItem});\n            setUnitPrice(activeCatalogItem.unitPrice);\n            setUpLoadImage(imageUrl);\n            setColorRgb(rgbData);\n            setUpLoadImageMetadata(metaUpload);\n            setWillFitWidth(imageIsConfig &&\n                activeCatalogItem.images[0].willFitWidth);\n        }\n    });\n\n    const onAddCategory =({category})=> {\n        const newItem = {...itemEdit};\n        const sort = getCatalogCategorySort(category._id);\n        newItem.categories = [...newItem.categories,\n            {...category, sort}];\n        console.log(sort);\n        setItemEdit(newItem);\n    };\n\n    const onRemoveCategory = ({categoryId}) => {\n        const newItem = {...itemEdit};\n        newItem.categories = newItem.categories.filter(\n            (cate) => cate._id !== categoryId);\n        //debugger;\n        setItemEdit(newItem);\n    };\n\n    return(\n        <div className={classes.rootContainer}>\n            <Paper className={classes.paperEntryContainer}>\n                <div className={classes.editContainer}>\n\n                        <TextField\n                            style={{width:\"100%\"}}\n                            label=\"Short Desc\"\n                            value={itemEdit.shortDesc}\n                            onChange={(event) => onValueChange(\"shortDesc\", event.target.value)}\n                        />\n\n\n                    <div>\n                        <FormControlLabel\n                            control={\n                                <Switch\n                                    checked={itemEdit.status === \"active\"}\n                                    onChange={(event)=> {\n                                        const newStatus = event.target.checked ?\n                                            \"active\" : \"disabled\";\n                                        onValueChange(\"status\",newStatus);\n                                    }}\n                                    color=\"primary\"\n                                    name=\"checkedB\"\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                                />\n                            }\n                            label=\"Show\"\n                        />\n\n                    </div>\n                </div>\n                <TextField\n                    style={{width:\"30%\"}}\n                    label=\"Model #\"\n                    value={itemEdit.modelNumber || \"\"}\n                    onChange={(event) => onValueChange(\"modelNumber\", event.target.value)}\n                />\n\n                <TextField\n                    style={{width:\"60%\"}}\n                    label=\"Mfr Name\"\n                    value={itemEdit.mfrName || \"\"}\n                    onChange={(event) => onValueChange(\"mfrName\", event.target.value)}\n                />\n\n                <TextField\n                    style={{width:\"30%\"}}\n                    label={`Unit Price:$ ${toCurrency(itemEdit.unitPrice)}`}\n                    value={unitPrice || \"\"}\n                    InputProps={{\n                        startAdornment:\n                            <InputAdornment position=\"start\">$</InputAdornment>\n                    }}\n                    onChange={(event) => {\n                        setUnitPrice(event.target.value);\n                        onValueChange(\"unitPrice\", parseFloat(event.target.value));\n                    }}\n                />\n\n                <TextField\n                    style={{width:\"62%\"}}\n                    label=\"Extra Desc\"\n                    value={itemEdit.extraDesc}\n                    onChange={(event) => onValueChange(\"extraDesc\", event.target.value)}\n                />\n\n\n                <TextField\n                    style={{width:\"100%\"}}\n                    multiline\n                    rowsMax={4}\n                    label=\"Description\"\n                    value={itemEdit.description}\n                    onChange={(event) => onValueChange(\"description\", event.target.value)}\n                />\n\n\n                <div>\n                {categoryList && categoryList.map((categoryRef)=> {\n                    const itemCategory = itemEdit.categories.find((itemCat)=> itemCat._id === categoryRef._id );\n                    //debugger;\n                    return(\n                        <FormControlLabel\n                            key={categoryRef._id}\n                            control={\n                                <Checkbox\n                                    checked={itemCategory !== undefined}\n                                    onChange={(event)=> {\n                                        if(itemCategory === undefined && event.target.checked)\n                                            onAddCategory({ //onAddCategoryToCatalog\n                                                catalog : itemEdit,\n                                                category: categoryRef\n                                            });\n                                        else {\n                                            onRemoveCategory({ //onRemoveCategoryFromCatalog\n                                                catalog: itemEdit,\n                                                categoryId : categoryRef._id\n                                            });\n                                        }\n                                    }}\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                                />\n                            }\n                            label={categoryRef.category}\n                        />\n                    )\n                })}\n\n                </div>\n\n            {!catalogListLoading && !imageUploading &&\n                <div style={{display: \"flex\", justifyContent: \"flex-end\"}} >\n                    <div>\n                        <input type=\"file\" name=\"myFile\" id=\"myFile\"\n                               style={{width:200}}\n                               onChange={async (event) => {\n                                   console.log(event.target.files);\n                                   const reader = new FileReader();\n                                   /**\n                                    * @param {{target:object}} e\n                                    */\n                                   reader.onload = function(e) {\n                                       console.log(\"image read locally\");\n                                       setUpLoadImage(e.target.result);\n                                   };\n                                   reader.readAsDataURL(event.target.files[0]);\n                                   const uploadResult = await onUploadImage(event.target.files[0], imageId);\n\n                                   if(uploadResult.uploadImageResult) {\n                                       setUpLoadImageMetadata(uploadResult.uploadImageResult);\n                                   }\n                               }}\n                        />\n                    </div>\n                    <div style={{display:\"flex\"}} >\n                        <Button variant=\"contained\"\n                                color=\"primary\"\n                                startIcon={<Save />}\n                                style={{marginRight: 20}}\n                            onClick={() => onSaveCatalogItem(itemEdit, uploadImageMetadata, willFitWidth, colorRgb, colorRgbOther)}\n                        >\n                            Save\n                        </Button>\n                        <AlertDialog\n                            startIcon={<Delete />}\n                            onClick={() => onDeleteCatalog(itemEdit)}\n                            title={\"Are You Sure?\"}\n                            message={`Are You Sure you want to delete \"${itemEdit.shortDesc}\"?`}\n                        >\n                            Delete\n                        </AlertDialog>\n\n                        <Button\n                                startIcon={<Close />}\n                                style={{marginRight: 20}}\n                                onClick={() => onSetActiveCatalogItem(null)}\n                        >\n                            Close\n                        </Button>\n                    </div>\n                </div>\n            }\n            {catalogListLoading && <span>Saving...</span>}\n            {imageUploading && <span>Uploading...</span>}\n\n\n            </Paper>\n            {uploadImage !== null ?\n            <PicRatioFill\n                width={containerWidth}\n                height={containerHeight}\n                src={uploadImage}\n                onChangeColors={(color)=>{\n                    setColorRgb(color.colorRgb);\n                    setColorRgbOther(color.colorRgbOpposite);\n                    setWillFitWidth(color.willFitWidth);\n                    //debugger;\n                }}\n            />\n            : <img width={containerWidth} alt=\"Template\"\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAOiSURBVHhe7do7SyNRGMbx/RyCYOv24n4GLSxdCxVRFLyiiZdEk3hL1gtYaGnh5QvYxjLp1aS0kU0hbAolsFgI6ruc4ytGk0myojOch+cHh3lnIkzxJ8PMxG9C0BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBuds4NnZWYlGoxVraWnp09fc3JxkMhk9s1ucDLy/vy+3t7e6549QKKSTW5wMfHR0JMU/Rd3zh7k6uMjNwMevgVtaWiSZTEosFrMrEU98ykolU9L6vdWewzCXahc5HzgcDtvtV9je3tZJZHFxUSe3OB94cnLSbr/C+vq6TgzsK6/A9/f3MjQ0ZG+IstmsHv04Bg6IV+CRkRGdREZHR3Wq7vr6WsbGxmR8fFxKpZIefYuBA+IVuHxOJBI6Vcrn8zI1NaV7Ij09PVL4XdC9VwwcEK/AZ2dnMjw8LJFIRPb29vToWxcXFxIKVz7T9vf3V0Rm4IB89CYrn8vbN2Be3kdm4IDUC/z09KTTK3NZNq8cjcfHR7utpq+vTwqF58gMHJD//Qbncrma39z3TOSbmxs+BwelXmBzN21egExPT8vV1ZXMz8/rJ40zd+GDg4O6x8C+qhW4q6tLp2dNTU12W+2yXU/7j3adGNhXXoE7Ozt1esvreD27u7s6MbCvygPPzMzYba2IDw8P0tHRoXveisWipNNp2dnZsc/RbW1t+gkD+6o88MTEhH1R0Yjun906iQ358k8C8XhcFhYW5PDw0D5Lm1eextbWlt0aDOyj8sDNzc12W89p+tReznt7eyWVSsn5+bl+4o2PSQEpD1zrd9qTkxOJRCOysrIil5eXerRxq6urOjGwr8oDm3jmMmsCvF9ra2uyubkpG782ZHl5uerf1Fsv+IO/jw4ODuTu753u+YOBfWR+6x0YGLB3uuZb9vLvOl+1zHnM+VzkZGBqHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYHAODY2BwDAyOgcExMDgGBsfA4BgYmsg/zgu6X0Ra40gAAAAASUVORK5CYII=\" />\n}\n        </div>\n    )\n};\n\n\nexport const CatalogItemEdit = connectArray(CatalogItemEditComponent,\n    [catalogModel, categoryModel]);\n\nconst useStyle = makeStyles({\n    rootContainer: {\n        display: \"flex\"\n    },\n    picBorderHeight: {\n        width: \"50%\",\n        height: containerHeight,\n        zIndex: 1,\n    },\n    picBorderWidth: {\n        width: \"100%\",\n        height: \"50%\",\n        zIndex: 1,\n    },\n    imageBoxHeight: {\n        width: containerWidth,\n        height: containerHeight,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        display:\"flex\"\n    },\n    imageBoxWidth: {\n        width: containerWidth,\n        height: containerHeight,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\"\n    },\n    fixHeight: {\n        height: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        position: \"relative\",\n        zIndex: 2\n    },\n    fixWidth: {\n        width: \"inherit\",\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: 2\n    },\n    editContainer: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    textContainer: {\n        '& > *': {\n            margin: 7,\n        }\n    },\n    paperEntryContainer: {\n        '& > *': {\n            margin: 7,\n        },\n        padding: 10,\n        width: \"100%\",\n        marginBottom: 15,\n        backgroundColor: \"#f2f0ea\"\n    }\n});","import React from \"react\";\nimport { Chip, Avatar, ListItem, ListItemText } from \"@material-ui/core\";\nimport { LibraryBooks } from \"@material-ui/icons\";\n\nexport const NoData = ({dataCount, children})=> (\n        dataCount === 0 &&\n        <Chip\n            avatar={\n                <Avatar>\n                    <LibraryBooks />\n                </Avatar>\n            }\n            label=\"No Data\"\n        />\n                || children\n);\n\nexport const ListNoData = ({dataCount, containerClass, className, children, noDataText})=> (\n    <div className={containerClass}>\n        {dataCount === 0 &&\n            <ListItem className={className}>\n                <ListItemText>\n                <Chip\n                    avatar={\n                        <Avatar>\n                            <LibraryBooks />\n                        </Avatar>\n                    }\n                    label={noDataText || \"No Data\"}\n                />\n                </ListItemText>\n            </ListItem>\n        || children\n        }\n    </div>\n);","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport {MenuList, MenuItem, IconButton} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Close} from \"@material-ui/icons\";\nimport {getItemPropertyValue} from \"../../helpers\";\nimport {ListNoData} from \"../NoData\";\n\nconst useStyle = makeStyles({\n        iconRight: {\n            position: \"absolute\",\n            right: 5,\n            top: ({closeButtonTopOffset}) => closeButtonTopOffset || -7\n        },\n        textDisplay :{\n            maxWidth: \"calc(100% - 50px)\",\n            overflow: \"hidden\",\n            fontSize:14\n        },\n        itemContainer: {\n            minHeight: 20,\n            paddingTop: 4,\n            paddingBottom: 4\n        }\n    }\n);\n\nexport const SelectedListComponent = ({items, displayField, onRemove, maxHeight, leftControls,\n                                          closeButtonTopOffset\n}) => {\n\n    const classes = useStyle({closeButtonTopOffset});\n\n\n    return (\n        <div style={{maxHeight: maxHeight, overflow:\"auto\"}}>\n            <MenuList>\n                <ListNoData dataCount={items.length}>\n                    {items.map((item, index) => (\n                        <MenuItem key={index} className={classes.itemContainer}>\n                            {leftControls && leftControls(item, index)}\n                            <span className={classes.textDisplay}>{getItemPropertyValue(item, displayField)}</span>\n                            <IconButton onClick={ ()=> onRemove(item)}\n                                        className={classes.iconRight}\n                            >\n                                <Close/>\n                            </IconButton>\n                        </MenuItem>\n                    ))}\n                </ListNoData>\n            </MenuList>\n        </div>\n    );\n};\n\nSelectedListComponent.propTypes = {\n    items: PropTypes.array.isRequired,\n    displayField: PropTypes.oneOfType([\n        PropTypes.node.isRequired,\n        PropTypes.func.isRequired\n    ]),\n    onRemove: PropTypes.func,\n    maxHeight: PropTypes.number\n};\n\nexport const SelectedList = SelectedListComponent;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, FormControl, InputLabel, MenuList, MenuItem, Popper, ClickAwayListener,\n    Grow, Paper, InputAdornment, Typography\n} from '@material-ui/core';\nimport {withStyles} from \"@material-ui/styles\";\nimport { Search, ArrowDropDown, ArrowDropUp\n} from '@material-ui/icons';\nimport { getItemPropertyValue } from \"../helpers\";\n\nclass SelectSearchComponent extends React.Component {\n    constructor(props) {\n        super();\n        const maxOptions = props.maxArrayLength || 7;\n        this.optionActiveRef = React.createRef();\n        this.state = {\n            showFullList: props.showFullList || false,\n            showDropDown: props.showDropDown || false,\n            searchString: \"\",//this.searchOptions(props.options, props.keyField, props.displayField, props.selected),\n            filteredPageOptions: props.options.slice(0,7),\n            filteredAllOptions: props.options,\n            autoFocus: props.autoFocus,\n            hasFocusOptionList: false,\n            hasFocusTextBox: false,\n            selectedIndex: 0,\n            maxArrayLength: maxOptions,\n            anchorEl: null\n        };\n    }\n\n    static getValueDisplay(props) {\n        const searchSelectedItem =props.selected && props.options.filter(item => {\n            return item[props.keyField] === props.selected[props.keyField]\n        }) || [];\n        return searchSelectedItem.length > 0 ? searchSelectedItem[0][props.displayField] : \"\";\n    }\n\n    onShowDropDown(event) {\n        // noinspection JSCheckFunctionSignatures\n        this.setState({anchorEl: event.currentTarget, showDropDown: true, filteredPageOptions: this.props.options.slice(0,7), filteredAllOptions: this.props.options});\n    }\n\n    hideDropDown() {\n        // noinspection JSCheckFunctionSignatures\n        this.setState({showDropDown: false});\n    }\n    /**\n     * @param {{keyCode:int}} e\n     */\n    onKeyPress(e){\n\n        if(e.keyCode === 13){\n            if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex) {\n                this.onItemSelect(this.state.filteredPageOptions[this.state.selectedIndex]);\n            }else if(this.state.showFullList) {\n                this.onItemSelect(this.state.filteredAllOptions[this.state.selectedIndex]);\n            }\n        } else if(e.keyCode === 40) {\n\n            if(this.state.showFullList && this.state.filteredAllOptions.length > this.state.selectedIndex + 1) {\n                // noinspection JSCheckFunctionSignatures\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\n                if(this.optionContainerRef && this.optionActiveRef) {\n                    if (this.optionContainerRef.scrollTo)\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\n                    else if (this.optionContainerRef.scrollTop !== undefined)\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\n                }\n            } if(!this.state.showFullList && this.state.filteredPageOptions.length > this.state.selectedIndex + 1) {\n                // noinspection JSCheckFunctionSignatures\n                this.setState({selectedIndex: this.state.selectedIndex + 1});\n                if(this.optionContainerRef && this.optionActiveRef) {\n                    if (this.optionContainerRef.scrollTo)\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop);\n                    else if (this.optionContainerRef.scrollTop !== undefined)\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop;\n                }\n            }\n        } else if(e.keyCode === 38) {\n            if(this.state.selectedIndex  > 0) {\n                // noinspection JSCheckFunctionSignatures\n                this.setState({selectedIndex: this.state.selectedIndex - 1});\n                if(this.optionContainerRef && this.optionActiveRef) {\n                    if (this.optionContainerRef.scrollTo)\n                        this.optionContainerRef.scrollTo(0, this.optionActiveRef.offsetTop-46);\n                    else if (this.optionContainerRef.scrollTop !== undefined)\n                        this.optionContainerRef.scrollTop = this.optionActiveRef.offsetTop-46;\n                }\n            }\n        }\n\n\n    }\n\n    onSearchChange(value) {\n        if(value !== \"\") {\n            const filtered = value && value.toLowerCase ? this.props.options.filter(item => {\n                return getItemPropertyValue(item,this.props.displayField).toLowerCase().indexOf(value.toLowerCase()) > -1;\n            }) : [];\n            // noinspection JSCheckFunctionSignatures\n            this.setState({searchString: value, filteredPageOptions : filtered.slice(0,7), selectedIndex : 0,\n                            filteredAllOptions: filtered});\n        }\n        else\n            // noinspection JSCheckFunctionSignatures\n            this.setState({searchString: value, filteredPageOptions : this.props.options.slice(0,7), selectedIndex : 0,\n                            filteredAllOptions: this.props.options});\n    }\n\n    onItemSelect(item) {\n        if(item) {\n            this.props.onChange(item);\n            // noinspection JSCheckFunctionSignatures\n            this.setState({showDropDown: false, searchString: \"\"});\n        }\n    }\n\n    onSetAnchor(ref) {\n        if(this.state.anchorEl === null && ref != null)\n        // noinspection JSCheckFunctionSignatures\n            this.setState({anchorEl: ref});\n    }\n\n    render() {\n        const valueDisplay = this.constructor.getValueDisplay(this.props);\n        const { label, classes } = this.props;\n        const {anchorEl, showDropDown} = this.state;\n\n        const isShowDropDown = Boolean(anchorEl) && showDropDown;\n\n        return (\n            <div className={classes.root} >\n                <FormControl style={{width:\"100%\"}}>\n                    <ClickAwayListener onClickAway={() => this.hideDropDown()}>\n                        <div>\n                            {this.state.showDropDown ?\n                                <FormControl style={{width:\"100%\"}}>\n                                    {label && label.length > 0 &&\n                                        <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\n                                    }\n\n                                    <Input\n                                        value={this.state.searchString}\n                                        ref={(ref) => { this.onSetAnchor(ref); } }\n                                        autoFocus={this.state.autoFocus}\n                                        onChange={(event)=> this.onSearchChange(event.target.value)}\n                                        onKeyDown={(event)=> this.onKeyPress(event)}\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <Search style={{marginRight: 10}} color=\"primary\" />\n                                                { this.props.onClose &&\n                                                    <ArrowDropUp style={{marginRight: 10, cursor:\"pointer\"}}\n                                                                 color=\"primary\"\n                                                                 onClick={()=> this.props.onClose()}\n                                                    />\n                                                }\n                                            </InputAdornment>\n                                        }\n                                    />\n                                </FormControl>\n                                :\n                                <FormControl style={{width:\"100%\"}}>\n                                    {label && label.length > 0 &&\n                                    <InputLabel htmlFor=\"age-simple\">{label}</InputLabel>\n                                    }\n                                    <Input autoFocus={this.state.autoFocus}\n                                        value={valueDisplay}\n                                        onClick={(event) => this.onShowDropDown(event)}\n                                        onKeyDown={(event) => this.onShowDropDown(event)}\n\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <ArrowDropDown style={{marginRight: 10}} color=\"primary\" />\n                                            </InputAdornment>\n                                        }\n                                    />\n                                </FormControl>\n                            }\n\n                            <Popper open={isShowDropDown}\n                                    anchorEl={anchorEl}\n                                    style={{position:\"fixed\", zIndex:9999}}\n                                    transition disablePortal>\n\n                                {({ TransitionProps, placement }) => (\n                                    <Grow\n                                        {...TransitionProps}\n                                        id=\"menu-list-grow\"\n                                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n                                    >\n                                        <Paper>\n                                            {!this.state.showFullList &&\n                                                <MenuList>\n                                                    {this.props.topControl }\n                                                    {this.state.filteredPageOptions.length > 0 &&\n                                                        this.state.filteredPageOptions.map((item, index) =>\n                                                            (\n                                                                <MenuItem key={index}\n                                                                          selected={index === this.state.selectedIndex}\n                                                                          onClick={() => this.onItemSelect(item)}>\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\n                                                                </MenuItem>\n                                                            ))\n                                                    }\n                                                    {this.state.filteredPageOptions.length === 0 &&\n                                                        <MenuItem>\n                                                            No Data\n                                                        </MenuItem>\n                                                    }\n\n                                                    {this.state.filteredPageOptions.length > 0 &&\n                                                        this.state.maxArrayLength === this.state.filteredPageOptions.length &&\n                                                            <Typography\n                                                                color=\"textSecondary\"\n                                                                className={classes.noOptionsMessage}\n                                                            >\n                                                                ...\n                                                            </Typography>\n                                                    }\n                                                </MenuList>\n                                            }\n\n                                            {this.state.showFullList &&\n                                                <div style={{maxHeight: 300, maxWidth: 300, overflow:\"auto\"}}\n                                                     ref={ (ref) => { this.optionContainerRef = ref; } }\n                                                >\n                                                <MenuList >\n                                                    {this.props.topControl }\n                                                    {this.state.filteredAllOptions.length > 0 &&\n                                                        this.state.filteredAllOptions.map((item, index) =>\n                                                        (\n                                                            index === this.state.selectedIndex ?\n                                                                <span key={index} ref={ (ref) => { this.optionActiveRef = ref; } } >\n                                                                <MenuItem\n\n                                                                          selected={index === this.state.selectedIndex}\n                                                                          onClick={() => this.onItemSelect(item)}>\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\n                                                                </MenuItem>\n                                                                </span>\n                                                                :\n                                                                <MenuItem key={index}\n                                                                          selected={index === this.state.selectedIndex}\n                                                                          onClick={() => this.onItemSelect(item)}>\n                                                                    {getItemPropertyValue(item, this.props.displayField)}\n                                                                </MenuItem>\n                                                        ))\n                                                    }\n                                                    {this.state.filteredAllOptions.length === 0 &&\n                                                        <MenuItem>\n                                                            No Data\n                                                        </MenuItem>\n                                                    }\n                                                </MenuList>\n                                                </div>\n                                            }\n                                        </Paper>\n                                    </Grow>\n                                )}\n                            </Popper>\n                        </div>\n                    </ClickAwayListener>\n                </FormControl>\n            </div>\n        );\n    }\n}\n\nSelectSearchComponent.propTypes = {\n    displayField: PropTypes.oneOfType([\n        PropTypes.node.isRequired,\n        PropTypes.func.isRequired\n    ]),\n    keyField: PropTypes.node.isRequired,\n    onChange: PropTypes.func.isRequired,\n    showFullList: PropTypes.bool,\n    onClose: PropTypes.func,\n    topControl: PropTypes.node\n};\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        zIndex: 99999999,\n        position: \"relative\"\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n        minHeight: 56\n    },\n    noOptionsMessage: {\n        padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    },\n});\n\nexport const SelectSearch = withStyles(styles)(SelectSearchComponent);","import React from 'react';\nimport { CircularProgress} from '@material-ui/core';\nimport {withStyles} from \"@material-ui/styles\";\nimport {  PlayForWork as LoadingIcon} from '@material-ui/icons';\n\nconst styles = () => ({\n    spinnerWrapper: {\n        position: 'relative',\n        margin: 'auto',\n\n    },\n    fabProgress: {\n        color: \"primary\",\n        position: 'absolute',\n        left: 0,\n        zIndex: 1,\n    },\n});\n\nexport const SpinnerDownloadingComponent = ({classes, spinnerSize, style, loading, children}) => {\n\n    return (\n        (children === undefined || loading) ?\n            <div className={classes.spinnerWrapper} style={{...style, width: spinnerSize}}>\n                <LoadingIcon color=\"secondary\" style={{width: spinnerSize, height: spinnerSize}}/>\n                <CircularProgress\n                    size={spinnerSize}\n                    className={classes.fabProgress}\n                />\n            </div> :\n            children\n    );\n};\n\nexport const SpinnerDownloading = withStyles(styles)(SpinnerDownloadingComponent);\n\n","import React, {useState, useEffect} from \"react\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {SelectSearch} from \"../../utility/components\";\nimport {connectArray} from \"../../utility/helpers\";\n\nexport const CategorySelectComponent = ({categoryList, onChange,\n                  categoryListInit, onCategoryListInit}) => {\n    const [selected, setSelected] = useState(null);\n    const modList = [{_id:null, category: \"All\"}, ...categoryList];\n    useEffect(()=>{\n        if(!categoryListInit)\n            onCategoryListInit();\n    });\n    return (\n        <SelectSearch\n            label=\"Category\"\n            showFullList={true}\n            options={modList}\n            keyField={\"_id\"}\n            displayField={\"category\"}\n            onChange={(category) => {\n                setSelected(category);\n                if(onChange)\n                    onChange(category);\n            }}\n            selected={selected}\n        />\n    )\n};\n\nexport const CategorySelect = connectArray(CategorySelectComponent,\n    [categoryModel]);","import React from  \"react\";\nimport {Snackbar, Paper, Typography} from \"@material-ui/core\";\nimport {Warning, Close, PriorityHigh} from \"@material-ui/icons\";\nimport PropTypes from 'prop-types';\n\nexport const PopupError = ({errorMessage, onClearErrorMessage, status}) => {\n    const showPopup = !!(errorMessage && errorMessage.length > 0);\n    let statusColor = \"#ffffff\";\n    let StatusIcon = Warning;\n    if(status === \"success\" && showPopup) {\n        statusColor = \"#1ead29\";\n        StatusIcon = PriorityHigh;\n    } else if(showPopup)\n        statusColor = \"#ff525b\";\n\n    return (\n        <Snackbar\n            anchorOrigin={{ vertical: \"top\", horizontal : \"center\" }}\n            open={showPopup}\n            autoHideDuration={10000}\n            onClose={onClearErrorMessage}>\n            <Paper style={{\n                padding: 10,\n                backgroundColor: statusColor,\n                display:\"flex\"}}\n                   elevation={3}>\n                <StatusIcon style={{marginRight: 15, color:\"white\"}} />\n                <Typography style={{color: \"white\"}}>{errorMessage}</Typography>\n                <Close onClick={onClearErrorMessage}\n                       style={{marginLeft: 15, color:\"white\", cursor: \"pointer\"}}\n                />\n            </Paper>\n        </Snackbar>\n    );\n};\n\nPopupError.propTypes = {\n    errorMessage: PropTypes.string.isRequired,\n    onClearErrorMessage: PropTypes.func.isRequired\n};","import React from \"react\";\nimport {Card, CardHeader, CardContent, Switch,\n    FormControlLabel, Checkbox, IconButton} from \"@material-ui/core\";\nimport {ThreeSixty, ArrowForward, ArrowBack} from \"@material-ui/icons\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useCardSize} from \"../../utility/useIsMobile\";\nimport {getStore} from \"../../models/accounts/userAuthStore\";\nimport {toCurrency} from \"../../utility/helpers\";\nimport {PicRatioView} from \"pic-ratio-fill\";\nconst {catalogApi} = getStore();\n\nexport const CatalogCard = ({catalog, onClick, inEdit, onSetStatus,\n                            disableEdit, isSaving, category, savingCatalogSort,\n                            onAddCategory, onRemoveCategory, showSortArrows,\n                            onOrderChange, prevCatalog, nextCatalog}) => {\n\n    const {widthCalc, heightPicCalc} = useCardSize();\n    const widthValue= inEdit ? \"100%\" : widthCalc;\n    const imageIsConfig = catalog.images && catalog.images.length > 0;\n\n    const imageId = imageIsConfig ?\n        catalog.images[0].id : \"5f41d4dac6f0db5918e4cb20\";\n\n    const classes = useStyle({\n        widthValue,\n        heightValue: heightPicCalc\n    });\n\n    const willFitWidth = imageIsConfig && catalog.images[0].willFitWidth;\n    const colorRgb = imageIsConfig && catalog.images[0].colorRgb;\n    //const colorRgbOther = imageIsConfig && catalog.images[0].colorRgbOther;\n\n    const filterCategory = category && catalog.categories.filter(\n        (cat) => cat._id === category._id ) || [];\n    const isInCategory = filterCategory.length > 0;\n\n    const inCategoryEdit = category && category._id;\n\n    // noinspection JSUnresolvedVariable\n    return (\n    <Card className={classes.card}>\n\n        <div className={classes.cardContainer} >\n            {!disableEdit &&\n            (\n                isSaving ?\n                    <FormControlLabel\n                        control={\n                            <ThreeSixty/>\n                        }\n                        label=\"Saving\"\n                        style={{minHeight: 42, marginLeft: 10}}\n                    /> :\n                    <FormControlLabel\n                        control={\n                            <Switch\n                                checked={catalog.status === \"active\"}\n                                onChange={(event)=> {\n                                    const newStatus = event.target.checked ?\n                                        \"active\" : \"disabled\";\n                                    onSetStatus(newStatus, catalog._id);\n                                }}\n                                color=\"primary\"\n                                name=\"checkedB\"\n                                inputProps={{ 'aria-label': 'primary checkbox' }}\n                            />\n                        }\n                        label=\"Show\"\n                        style={{marginLeft: 3, marginRight: 0}}\n                    />\n            )\n            }\n\n            {!disableEdit &&\n            (\n                isSaving ?\n                    <FormControlLabel\n                        control={\n                            <ThreeSixty/>\n                        }\n                        label=\"Saving\"\n                        style={{minHeight: 42, marginLeft: 10}}\n                    /> :\n                    (inCategoryEdit && <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={isInCategory}\n                                onChange={(event) => {\n                                    const newStatusChecked = event.target.checked;\n                                    if(newStatusChecked)\n                                        onAddCategory({\n                                            catalog:catalog,\n                                            category\n                                        });\n                                    else\n                                        onRemoveCategory({\n                                            catalog:catalog,\n                                            categoryId:category._id\n                                        });\n                                }}\n                                inputProps={{'aria-label': 'primary checkbox'}}\n                            />\n                        }\n                        label=\"Categ...\"\n                        style={{marginLeft: 3}}\n                    />\n                    )\n            )\n            }\n\n            <div className={classes.catPrice}>${toCurrency(catalog.unitPrice)}</div>\n            {showSortArrows && inCategoryEdit && !savingCatalogSort && prevCatalog && isInCategory &&\n                <IconButton aria-label=\"Up\"\n                            size=\"medium\"\n                            className={classes.buttonLeft}\n                            onClick={()=> onOrderChange(catalog, category, prevCatalog)}\n                >\n                    <ArrowBack fontSize=\"large\" />\n                </IconButton>\n            }\n            <CardContent\n                onClick={() => {if(onClick) onClick();}}\n                className={willFitWidth ? classes.imageBoxWidth : classes.imageBoxHeight}\n            >\n                <PicRatioView\n                    src={`${catalogApi}/catalogApi/api/v1/catalog/file/${imageId}`}\n                    width={widthValue}\n                    height={heightPicCalc}\n                    colorRgb={colorRgb}\n                    colorRgbOpposite={colorRgb}\n                    willFitWidth={willFitWidth}\n                />\n\n            </CardContent>\n            {showSortArrows && inCategoryEdit && !savingCatalogSort && nextCatalog && isInCategory &&\n            <IconButton aria-label=\"Up\"\n                        className={classes.buttonRight}\n                        onClick={()=> onOrderChange(catalog, category, nextCatalog)}\n            >\n                <ArrowForward fontSize=\"large\"/>\n            </IconButton>\n            }\n        <CardHeader\n            title={catalog.shortDesc || \"\"}\n            subheader={catalog.modelNumber && catalog.mfrName && `${catalog.mfrName} : ${catalog.modelNumber}` || \"_\"}\n            classes={{\n                title:classes.cardTitle,\n                subheader: classes.cardSubheader,\n                content : classes.cardRoot\n            }}\n        />\n        </div>\n    </Card>\n    )\n};\n//props => props.widthCalc\nconst useStyle = makeStyles({\n    catPrice: {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#000000ba\",\n        //font: \"800 16px Arial\",\n        \"border-bottom-right-radius\": 10,\n        color: \"white\"\n    },\n    card: {\n        width: props => props.widthValue,\n        marginBottom: 20,\n        backgroundColor: \"#d0c6c626\"\n    },\n    cardContainer: {\n        position: \"relative\"\n    },\n    cardTitle: {\n        fontSize: 16,\n        width:\"100%\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n    },\n    cardSubheader: {\n        fontSize: 14,\n        width:\"100%\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n    },\n    cardRoot: {\n        width: \"100%\"\n    },\n    imageBoxHeight: {\n        width: props => props.widthValue,\n        height: props => props.heightValue,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        display:\"flex\",\n        padding:0\n    },\n    imageBoxWidth: {\n        width: props => props.widthValue,\n        height: props => props.heightValue,\n        overflow: \"hidden\",\n        backgroundColor: \"#afcdee\",\n        padding:0\n    },\n    buttonUp : {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#1095ec8f\",\n        left: \"calc(50% - 20px)\",\n        top: 40,\n        width: 50,\n        height: 50\n    },\n    buttonDown : {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#1095ec8f\",\n        left: \"calc(50% - 20px)\",\n        bottom: 75,\n        width: 50,\n        height: 50\n    },\n    buttonLeft : {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#1095ec8f\",\n        left: 5,\n        top: \"calc(50% - 20px)\",\n        width: 50,\n        height: 50\n    },\n    buttonRight : {\n        position: \"absolute\",\n        //transform: \"translate(10%, 15%)\",\n        zIndex: 9,\n        padding: 15,\n        backgroundColor: \"#1095ec8f\",\n        top: \"calc(50% - 20px)\",\n        right: 5,\n        width: 50,\n        height: 50\n    }\n});\n\n","// noinspection DuplicatedCode\n\nimport React, {useState, useEffect} from \"react\";\nimport {CatalogCard} from \"./CatalogCard\";\nimport {Typography, Divider} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {useIsMobile} from \"../../utility/useIsMobile\";\n\n\nexport const CatalogListComponent = ({catalogListFiltered , categorySelected,\n         activeCatalogItem ,onSetCatalogStatus, onAddCategoryToCatalog,\n         onRemoveCategoryFromCatalog ,catalogStatusLoading, onCatalogOrderChange, savingCatalogSort,\n         onSetActiveCatalogItem, catalogListNoCategory, showSortArrows})=> {\n\n    const inEdit = activeCatalogItem !== null;\n    const classes = useStyle({inEdit});\n    const isMobile = useIsMobile();\n    const [itemsToLoad, setItemsToLoad] = useState(4);\n    useEffect(()=> {\n        console.log(itemsToLoad);\n        let tmrRef = null;\n        if(itemsToLoad < catalogListFiltered.length) {\n            tmrRef = setTimeout(()=> setItemsToLoad(itemsToLoad + 5), 200);\n        }\n        return () => {\n            if(tmrRef) clearTimeout(tmrRef);\n        }\n    })\n    return(\n        <div className={classes.container}>\n        <div className={classes.catalogListComponent}>\n\n            {  catalogListFiltered.slice(0, itemsToLoad).map((catalog, index)=> {\n\n                    const prevCatalog = index > 0 ?\n                        catalogListFiltered[index - 1] : null;\n\n                    const nextCatalog =\n                        catalogListFiltered.length > (index - 2) ?\n                            catalogListFiltered[index + 1] : null;\n\n                    const filterCategory = categorySelected && nextCatalog && nextCatalog.categories.filter(\n                        (cat) => cat._id === categorySelected._id ) || [];\n\n\n                    const nextIsInCategory = filterCategory.length > 0;\n                    return(\n                        <CatalogCard\n                            showSortArrows={showSortArrows}\n                            key={`${catalog._id}${catalog.sort}`}\n                            prevCatalog={prevCatalog}\n                            nextCatalog={nextIsInCategory ? nextCatalog : null}\n                            inEdit={inEdit}\n                            catalog={catalog}\n                            category={categorySelected}\n                            disableEdit={activeCatalogItem != null}\n                            onSetStatus={onSetCatalogStatus}\n                            onAddCategory={onAddCategoryToCatalog}\n                            onRemoveCategory={onRemoveCategoryFromCatalog}\n                            isSaving={catalog._id === catalogStatusLoading}\n                            onOrderChange={onCatalogOrderChange}\n                            savingCatalogSort={savingCatalogSort}\n                            onClick={() => {\n                                if (!isMobile) {\n                                    onSetActiveCatalogItem(catalog);\n                                }\n                            }}\n                        />\n                    );\n                }\n            )}\n\n        </div>\n            <Divider variant=\"middle\" />\n            {!isMobile && catalogListNoCategory.length > 0 &&\n            <Typography gutterBottom variant=\"h5\">\n                Items not in any Category\n            </Typography>\n            }\n\n            <div className={classes.catalogListComponent}>\n\n            {!isMobile && catalogListNoCategory.map((catalog, index)=> {\n\n                    const prevCatalog = index > 0 ?\n                        catalogListFiltered[index - 1] : null;\n\n                    const nextCatalog =\n                        catalogListFiltered.length > (index - 2) ?\n                            catalogListFiltered[index + 1] : null;\n\n                    const filterCategory = categorySelected && nextCatalog && nextCatalog.categories.filter(\n                        (cat) => cat._id === categorySelected._id ) || [];\n\n\n                    const nextIsInCategory = filterCategory.length > 0;\n                    return(\n                        <CatalogCard\n                            key={`${catalog._id}${catalog.sort}`}\n                            prevCatalog={prevCatalog}\n                            nextCatalog={nextIsInCategory ? nextCatalog : null}\n                            inEdit={inEdit}\n                            catalog={catalog}\n                            category={categorySelected}\n                            disableEdit={activeCatalogItem != null}\n                            onSetStatus={onSetCatalogStatus}\n                            onAddCategory={onAddCategoryToCatalog}\n                            onRemoveCategory={onRemoveCategoryFromCatalog}\n                            isSaving={catalog._id === catalogStatusLoading}\n                            onOrderChange={onCatalogOrderChange}\n                            savingCatalogSort={savingCatalogSort}\n                            onClick={() => {\n                                if (!isMobile) {\n                                    onSetActiveCatalogItem(catalog);\n                                }\n                            }}\n                        />\n                    );\n                }\n            )}\n            </div>\n        </div>\n    )\n};\n\n//space-between\n//space-around\nconst useStyle = makeStyles({\n\n    catalogListComponent: {\n        '& :not(:nth-child(6n+1))' : {\n            marginLeft: \"calc( (97.6% - (16% * 6)) / 5 )\"\n        },\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'flex-start',\n    }, container: {\n        display:\"block\",\n        flexWrap:\"wrap\",\n        justifyContent: \"flex-start\",\n        width: props => props.inEdit ? \"24vw\" : \"100%\",\n        overflow: \"auto\",\n    },noCatalogList: {\n        '& :not(:nth-child(6n+1))' : {\n            marginLeft: \"calc( (97.6% - (16% * 6)) / 5 )\"\n        },\n        display: 'flex',\n        flexWrap: 'nowrap',\n        justifyContent: 'flex-start',\n    },\n\n});\nexport const CatalogList = connectArray(CatalogListComponent,[catalogModel, categoryModel]);\n","import React from \"react\";\nimport {DataUsage, Category} from\"@material-ui/icons\";\n\nexport const CatalogItemIcon = DataUsage;\nexport const CategoryIcons = Category;\n\n","import React, {Fragment, useEffect, useState} from \"react\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {makeStyles, withStyles} from \"@material-ui/core/styles\";\nimport {Button, IconButton, Typography} from \"@material-ui/core\";\nimport {Close} from \"@material-ui/icons\";\nimport {CatalogItemEdit} from \"./CatalogItemEdit\";\nimport {useIsMobile} from \"../../utility/useIsMobile\";\nimport {CategorySelect} from \"./CategorySelect\";\nimport {PopupError} from \"../../utility/components/PopupError\";\nimport {Accordion } from '@material-ui/core';\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {CatalogList} from \"./CatalogListComponent\";\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {CatalogItemIcon} from \"../SiteIcons\";\n\nconst AccordionDetails = withStyles((theme) => ({\n    root: {\n        padding: theme.spacing(2),\n    }\n}))(MuiAccordionDetails);\nconst AccordionSummary = withStyles({\n    root: {\n        backgroundColor: 'rgba(0, 0, 0, .03)',\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\n        marginBottom: -1,\n        minHeight: 56,\n        '&$expanded': {\n            minHeight: 56,\n        },\n    },\n    content: {\n        '&$expanded': {\n            margin: '12px 0',\n        },\n        alignItems:'center'\n    },\n    expanded: {},\n})(MuiAccordionSummary);\nexport const CatalogTableComponent = ({catalogList,catalogTotals,onSetCatalogTotals,\n                                          catalogListInit, onCatalogListInit,\n                                          onSetActiveCatalogItem, activeCatalogItem,\n                                          onCategorySelectChange, catalogListLoadError,\n                                          onClearCatalogError, categoryList  }) => {\n\n    useEffect(()=> {\n        if(!catalogListInit)\n            onCatalogListInit();\n    });\n    useEffect(()=> {\n        if(catalogTotals.length===0 && categoryList.length > 0 &&\n            catalogList.length > 0) {\n\n            onSetCatalogTotals(categoryList, catalogList);\n        }\n    });\n\n\n    const isMobile = useIsMobile();\n    const [categorySelected, setCategorySelected] = useState({_id:null, category: \"All\"});\n    const [showSortArrows, setShowSortArrows] = useState(false);\n    const inEdit = activeCatalogItem !== null;\n    const classes = useStyle({inEdit});\n\n    const errorMessage = catalogListLoadError &&\n        Array.isArray(catalogListLoadError) &&\n        catalogListLoadError.length > 0 &&\n        `${catalogListLoadError[0].dataPath} ${catalogListLoadError[0].message}`\n        || \"Error Saving\";\n    console.log(errorMessage);\n    return (\n        <Fragment>\n            <PopupError\n                errorMessage={catalogListLoadError && errorMessage || \"\"}\n                onClearErrorMessage={() => onClearCatalogError(false)}\n                status={\"error\"}\n            />\n\n            <div style={{width: 360, marginTop: -10, marginBottom: 10}}>\n                <CategorySelect\n                    onChange={(category) => {\n                        setCategorySelected(category);\n                        onCategorySelectChange(category);\n                    }}\n                />\n            </div>\n            <div className={classes.mainContainer}>\n                <div className={classes.scrollContainer}>\n                    <div className={classes.container}>\n\n                        {categoryList.map((category) => {\n                           const totals= catalogTotals ? catalogTotals.filter((aItem) =>\n                                aItem._id === category._id) : [];\n                           const expandCategory = category._id === categorySelected._id;\n                            return(\n\n                            <Accordion expanded={expandCategory}\n                                       TransitionProps={{timeout:0}}\n                                       onChange={()=>{\n                                           console.log(\"click\");\n                                           if (category._id === categorySelected._id) {\n                                               const emptyCat = {_id: null, category: \"All\"};\n                                               setCategorySelected(emptyCat);\n                                               onCategorySelectChange(emptyCat);\n                                           } else {\n                                               setCategorySelected(category);\n                                               onCategorySelectChange(category);\n                                           }\n                                       }}\n                                       key={category._id}\n                                       className={classes.accordion}\n                                       hidden={categorySelected && categorySelected._id && category._id !== categorySelected._id}\n\n                            >\n                                <AccordionSummary\n                                    expandIcon={<ExpandMoreIcon/>}\n                                >\n                                    <CatalogItemIcon />\n                                    <Typography className={classes.categoryTitle}>\n                                       {category.category}\n                                    </Typography>\n                                    {!inEdit&&\n                                        <>\n                                    {\n                                        !isMobile && totals.length > 0 &&\n                                            <Typography style={{marginRight: '10%', position: 'absolute', right: 30}}>\n                                                Active: {totals[0].activeTotal} Disabled: {totals[0].disabledTotal} Total: {totals[0].disabledTotal + totals[0].activeTotal}\n                                            </Typography>\n                                    }\n                                    {!isMobile && !inEdit&& category._id === categorySelected._id ?\n                                        <>\n                                        <Button variant=\"contained\"\n                                                color=\"primary\"\n                                                className={classes.reorderButton}\n                                                onClick={(event)=> {\n                                                    event.stopPropagation();\n                                                    setShowSortArrows(!showSortArrows);\n                                                    console.log(\"test\");\n                                                }}\n                                        >\n                                            {showSortArrows ? \"Hide\" : \"Show\" } Reorder Arrows\n                                        </Button>\n                                        </> : null}\n                                        </>\n                                    }\n\n\n                                </AccordionSummary>\n                                <AccordionDetails>\n\n                                    {expandCategory && <CatalogList\n                                        showSortArrows={!isMobile && showSortArrows}\n                                    />\n                                    }\n                                </AccordionDetails>\n\n                            </Accordion>\n\n\n                            )\n\n                        })\n                        }\n                   \n\n\n                    </div>\n\n                </div>\n                {inEdit &&\n                <div className={classes.containerEdit}>\n                    <div style={{width: \"100%\"}}>\n                        <IconButton\n                            className={classes.editControl}\n                            onClick={()=> {\n                                onSetActiveCatalogItem(null);\n                            }}\n                        >\n                            <Close/>\n                        </IconButton>\n                    </div>\n                    <CatalogItemEdit />\n                </div>\n                }\n                \n               \n\n            </div>\n        </Fragment>\n    )\n};\n\nexport const CatalogTable = connectArray(CatalogTableComponent,[catalogModel, categoryModel]);\n\nconst useStyle = makeStyles({\n    scrollContainer: {\n        height: \"calc( 100vh - 120px)\",\n        width: props => props.inEdit ? \"24vw\" : \"100%\",\n        overflow: \"auto\",\n    },\n    container: {\n        display:\"block\",\n        flexWrap:\"wrap\",\n        justifyContent: \"space-between\",\n        width:  \"100%\",\n\n    },\n    containerEdit: {\n        display:\"flex\",\n        flexWrap:\"wrap\",\n        justifyContent: \"flex-start\",\n        height: 80,\n        width: \"calc( 75vw - 87px)\"\n    },\n    editControl: {\n        position: \"absolute\",\n        right: 10,\n        //top: 90,\n        zIndex: 999\n    },\n    mainContainer: {\n        display:\"flex\",\n        flexWrap:\"wrap\",\n    },\n    gridList: {\n        flexWrap: 'wrap',\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n        transform: 'translateZ(0)',\n      },\n      gridListBottom: {\n        flexWrap: 'nowrap',\n        bottom:0,\n        position:'absolute',\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n        transform: 'translateZ(0)',\n        display:'flex',      \n        width: '100%',\n        overflow: 'scroll'  \n\n      },\n      gridListTile:{\n          \n\n      },\n      accordion:{\n          height:'100%'\n      },\n    accordionDetails:{\n        '&$expanded': {\n            minHeight: 56,\n        },\n    },\n      reorderButton: {\n        margin:0,\n          'text-transform':'none',\n          background:'#64b5f6',\n          marginLeft:'40px'\n      },\n    categoryTitle:{\n        fontWeight:500,\n        fontSize:'large',\n        marginLeft: 15\n    }\n});","import React, {Fragment} from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {OpenWith} from \"@material-ui/icons\";\nimport {CatalogTable} from \"../catalog/CatalogTable\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {CatalogItemIcon} from \"../SiteIcons\";\n\nexport const HomeMainComponent = ({onCreateNewCatalog,\n    onCatalogSearch, catalogSearchText }) => {\n    //const { user, isAuthenticated } = useAuth0();\n\n    return (\n        <Fragment>\n            <AppBarTitleAddSearch\n                title=\"Catalogs\"\n                LeftIcon={CatalogItemIcon}\n                onSearchChange={(value) => {\n                    onCatalogSearch(value);\n                }}\n\n                onAdd={()=> {\n                    onCreateNewCatalog();\n                } }\n            />\n            <CatalogTable/>\n        </Fragment>\n    );\n};\n\nexport const HomeMain = connectArray(HomeMainComponent,[catalogModel]);","import React, {Fragment} from 'react';\nimport { Redirect, Route} from 'react-router-dom';\nimport {hasFeature, hasToken} from \"../models/accounts/userAuthStore\";\nimport {useAuth0} from \"@auth0/auth0-react\";\n\nexport const PrivateRoute = ({ history, permission, component: Component, ...rest }) => {\n    const { isLoading, isAuthenticated } = useAuth0();\n\n    const calcHasFeature = hasFeature(permission);\n    const calcHasAuth = (isAuthenticated || hasToken()) && calcHasFeature;\n\n    return (\n        <Route {...rest} render={(props) => {\n            //hasFeature(permission) ||\n            return (\n                <Fragment>\n                    {calcHasAuth && <Component {...props} />}\n                    {!calcHasAuth && !isLoading &&\n                    <Redirect push={true} to={{pathname: '/login', state: {from: props.location}}}/>\n                    }\n                    {!calcHasAuth && isLoading &&\n                    <span>...Loading User Privileges</span>\n                    }\n                </Fragment>\n            );\n        }}\n        />\n    )\n};","import React, {useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Paper, ListItemText, ListItem, TextField,\n    ListItemIcon, FormControlLabel, Checkbox, IconButton,\n    InputLabel, Select, MenuItem, FormControl\n} from \"@material-ui/core\";\nimport {Category, Save, Delete} from \"@material-ui/icons\";\n\nexport const CategoryItemEdit = ({category, saveCategory, deleteCategoey}) => {\n    const [itemChanged, setItemChanged] = useState(false);\n    const [itemEdit, setItemEdit] = useState({...category});\n    const onValueChange = (fieldName, value) => {\n        setItemEdit({...itemEdit, [fieldName]: value});\n        setItemChanged(true);\n    };\n\n    const classes = useStyles();\n    return (\n        <Paper className={classes.paper}>\n            <ListItem style={{display: \"flex\"}}>\n                <ListItemIcon>\n                    <Category />\n                </ListItemIcon>\n                <ListItemText\n                    primary={itemEdit.category}\n                    classes={{\n                        primary: itemChanged ? classes.title : undefined\n                    }}\n                />\n\n                <ListItemIcon>\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Save\"\n                        color=\"primary\"\n                        classes={{\n                            edgeEnd:classes.edgeEndChange\n                        }}\n                        onClick={()=> {\n                            saveCategory(itemEdit);\n                            setItemChanged(false);\n                        }}\n                    >\n                        <Save />\n                    </IconButton>\n                </ListItemIcon>\n\n                <ListItemIcon>\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Save\"\n                        color=\"primary\"\n                        classes={{\n                            edgeEnd:classes.edgeEndChange\n                        }}\n                        onClick={()=> {\n                            deleteCategoey(itemEdit);\n                            setItemChanged(false);\n                        }}\n                    >\n                        <Delete />\n                    </IconButton>\n                </ListItemIcon>\n            </ListItem>\n            <ListItem>\n                <FormControlLabel\n                    style={{width:\"50%\"}}\n                    control={\n                        <Checkbox\n                            checked={itemEdit.systemOnly}\n                            onChange={(event)=> {\n                                const newStatus = event.target.checked;\n                                onValueChange(\"systemOnly\",newStatus);\n                            }}\n                            inputProps={{ 'aria-label': 'primary checkbox' }}\n                        />\n                    }\n                    label=\"System\"\n                />\n                <FormControl className={classes.formControl}>\n                    <InputLabel>Sort</InputLabel>\n                    <Select\n                        value={itemEdit.sort}\n                        onChange={(event)=>{\n                            onValueChange(\"sort\",event.target.value)\n                        }}\n                    >\n                        {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((value) => (\n                            <MenuItem key={value} value={value}>{value}</MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n            </ListItem>\n\n            <ListItem>\n                <TextField\n                    style={{width:\"100%\"}}\n                    label=\"Title\"\n                    value={itemEdit.category}\n                    onChange={(event) => onValueChange(\"category\", event.target.value)}\n                />\n            </ListItem>\n        </Paper>\n    );\n};\n\nconst useStyles = makeStyles(() => ({\n    paper: {\n        minHeight: 140,\n        width: \"100%\",\n        //padding: theme.spacing(2),\n    },\n    edgeEndChange: {\n        marginRight: -20\n    },\n    title: {\n        fontWeight: 900,\n        color: \"limegreen\",\n        fontSize: \"x-large\"\n    }\n}));","import React, {Fragment, useEffect} from \"react\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Grid} from \"@material-ui/core\";\nimport {CategoryItemEdit} from \"./CategoryItemEdit\";\n\nconst CategoryTableComponent = ({onCategoryListInit, categoryListInit,\n                                    categoryList, onSaveCategoryItem,\n                                    onDeleteCategory}) => {\n    useEffect(()=> {\n        if(!categoryListInit)\n            onCategoryListInit();\n    });\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n\n            <Grid container className={classes.root} spacing={2}>\n            {categoryList.map((category, index) => {\n\n                return (\n                    <Grid item xs={12} md={4} key={category._id}>\n                        <CategoryItemEdit\n                            category={category}\n                            saveCategory={onSaveCategoryItem}\n                            deleteCategoey={onDeleteCategory}\n                        />\n                    </Grid>\n                )\n            })}\n            </Grid>\n        </Fragment>\n    )\n};\n\nexport const CategoryTable = connectArray(CategoryTableComponent,\n    [categoryModel]);\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        flexGrow: 1,\n    },\n    paper: {\n        minHeight: 140,\n        width: \"100%\",\n        //padding: theme.spacing(2),\n    },\n    control: {\n\n    },\n}));","import React, {Fragment} from \"react\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {OpenWith} from \"@material-ui/icons\";\nimport {CategoryTable} from \"../catalog/CategoryTable\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {categoryModel} from \"../../models/home/categoryModel\";\nimport {connectArray} from \"../../utility/helpers\";\n\nexport const CategoryMaintenanceComponent = ({onCreateNewCategory}) => {\n    const classes = useStyles();\n    return (\n        <Fragment>\n\n            <AppBarTitleAddSearch\n                title=\"Category\"\n                LeftIcon={OpenWith}\n                onSearchChange={(value) => {}}\n                onAdd={()=> {\n                    onCreateNewCategory();\n                }}\n            />\n            <div className={classes.mainContainer}>\n                <CategoryTable/>\n            </div>\n        </Fragment>\n    )\n};\n\nexport const CategoryMaintenance = connectArray(\n    CategoryMaintenanceComponent, [categoryModel]);\n\nconst useStyles = makeStyles({\n    mainContainer: {\n        backgroundColor: \"#e8e7e7\",\n        minHeight: \"calc(100vh - 65px)\",\n        padding: 5,\n        marginTop: -10\n    }\n});\n","\n\nexport const hoursToView = (hoursFull) => {\n    const result = [];\n    if(hoursFull && Array.isArray(hoursFull) && hoursFull.length > 0) {\n        let prevHour = {hours: \"\"};\n        let prevResult = \"\";\n        hoursFull.forEach((hourIn, index)=> {\n            if(index > 0 && prevHour.hours !== hourIn.hours)\n                result.push(prevResult);\n\n            prevResult = calcHour(hourIn.day, hourIn.hours, prevHour);\n\n            if(prevHour.hours !== hourIn.hours)\n                prevHour = hourIn;\n        });\n        result.push(prevResult);\n    }\n    return result.length > 0 ? result : [\"Please call for hours\"];\n};\n\nconst calcHour = (day, hours, prevDay) => {\n    const dayRef = dayOptions.filter((dayOption) => dayOption.id === day);\n    const dayRefPrev = prevDay ? dayOptions.filter((dayOption) => dayOption.id === prevDay.day)\n        : null;\n\n    if(dayRef.length > 0) {\n        if (dayRefPrev && dayRefPrev.length > 0 && prevDay.hours === hours)\n            return `${dayRefPrev[0].short} to ${dayRef[0].short} ${hours}`;\n        else\n            return `${dayRef[0].short} ${hours}`;\n    }\n    else\n        return \"\";\n};\n\nexport const createHoursEditModel = (startingHours) => {\n    return dayOptions.map((dayOption) => {\n        const findHour = startingHours.filter((stHour) => stHour.day === dayOption.id);\n        if(findHour.length > 0)\n            return {...dayOption, hours: findHour[0].hours, selected: true};\n        else\n            return {...dayOption, hours: \"\", selected: false};\n    });\n};\n\nexport const dayOptions = [\n    {\n        \"id\": 0,\n        \"name\": \"Sunday\",\n        \"short\": \"Sun\"\n    }, {\n        \"id\": 1,\n        \"name\": \"Monday\",\n        \"short\": \"Mon\"\n    }, {\n        \"id\": 2,\n        \"name\": \"Tuesday\",\n        \"short\": \"Tues\"\n    }, {\n        \"id\": 3,\n        \"name\": \"Wednesday\",\n        \"short\": \"Wed\"\n    }, {\n        \"id\": 4,\n        \"name\": \"Thursday\",\n        \"short\": \"Thurs\"\n    }, {\n        \"id\": 5,\n        \"name\": \"Friday\",\n        \"short\": \"Fri\"\n    }, {\n        \"id\": 6,\n        \"name\": \"Saturday\",\n        \"short\": \"Sat\"\n    }\n];","import React, {Fragment, useState} from \"react\";\nimport {createHoursEditModel} from \"../../models/company/locationHoursManager\";\nimport {ListItem, ListItemIcon, Checkbox,\n    ListItemText, TextField, Button} from \"@material-ui/core\"\nimport {Save} from \"@material-ui/icons\";\nexport const LocationHoursEdit = ({hoursFull, save}) => {\n    const [viewHours, setViewHours] =\n        useState(createHoursEditModel(hoursFull));\n    const changeValue = (arrayIndex, fieldName, fieldValue) => {\n        const newValue = viewHours.map((hour, index)=> {\n            if(arrayIndex === index)\n                return {...hour, [fieldName]: fieldValue};\n            else\n                return hour;\n        });\n        setViewHours(newValue);\n    };\n\n    return (\n        <Fragment>\n            {\n                viewHours.map((hour, index) => {\n\n                    return (\n                        <ListItem key={hour.id} role={undefined} dense button>\n                            <ListItemIcon>\n                                <Checkbox\n                                    edge=\"start\"\n                                    checked={hour.selected}\n                                    tabIndex={-1}\n                                    disableRipple\n                                    onChange={(event)=> {\n                                        changeValue(index,\"selected\",\n                                            event.target.checked)\n                                    }}\n                                />\n                            </ListItemIcon>\n                            <ListItemText\n                                style={{minWidth:100}}\n                                primary={hour.name} />\n                            <ListItemText\n                                style={{minWidth:200}}\n                                primary={\n                                    <TextField\n                                        label=\"Hours\"\n                                        value={hour.hours}\n                                        onChange={(event) => {\n                                            changeValue(index, \"hours\",\n                                                event.target.value)\n                                        }}\n                                />}\n                            />\n                        </ListItem>\n                    )\n                })\n            }\n            <Button\n                style={{marginTop: 20}}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                startIcon={<Save />}\n                onClick={()=> {\n                    save(viewHours.filter((vh)=> vh.selected)\n                        .map((vh) => ({\n                        day: vh.id,\n                        hours: vh.hours\n                    })))\n                }}\n            >\n                Save\n            </Button>\n        </Fragment>\n    );\n};","import React, {useState} from  \"react\";\nimport {hoursToView} from \"../../models/company/locationHoursManager\";\nimport {Modal,Paper, ListItem, ListItemIcon,\n    ListItemText, IconButton} from \"@material-ui/core\";\nimport {AccessTime, Close, Edit, Timelapse} from \"@material-ui/icons\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {LocationHoursEdit} from \"./LocationHoursEdit\";\n\nexport const LocationHours = ({hoursFull, save}) => {\n    //const [hours, setHours] = useState(hoursToView(hoursFull));\n    const hours = hoursToView(hoursFull);\n    const [open, setOpen] = useState(false);\n    const classes = useStyle();\n    return (\n        <div>\n            <ListItem>\n                <ListItemIcon\n                    style={{marginLeft: -25}}\n                >\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Save\"\n                        color=\"primary\"\n                        classes={{\n                            edgeEnd:classes.edgeEndChange\n                        }}\n                        onClick={()=> {\n                            setOpen(true);\n                        }}\n                    >\n                        <Edit />\n                    </IconButton>\n                </ListItemIcon>\n                <ListItemText\n                    primary=\"Hours\"\n                    classes={{\n                        primary: undefined\n                    }}\n                />\n\n\n            </ListItem>\n\n            {hours.map((hour) => {\n\n                return (\n                    <div key={hour}>{hour}</div>\n                )\n              })\n            }\n            <Modal\n                open={open}\n                onClose={()=> setOpen(false)}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <Paper className={classes.modalPaper}>\n                    <ListItem style={{\n                        display: \"flex\",\n                        marginTop:-15\n                    }}>\n                        <ListItemIcon style={{marginLeft:-20}}>\n                            <AccessTime />\n                        </ListItemIcon>\n\n                        <ListItemText\n                            primary=\"Hours\"\n                        />\n\n                        <ListItemIcon className={classes.edgeEndChange}>\n                            <IconButton\n                                edge=\"end\"\n                                aria-label=\"Save\"\n                                color=\"primary\"\n                                classes={{\n                                    edgeEnd:classes.edgeEndChange\n                                }}\n                                onClick={()=> {\n                                    setOpen(false);\n                                }}\n                            >\n                                <Close />\n                            </IconButton>\n                        </ListItemIcon>\n                    </ListItem>\n                    <LocationHoursEdit\n                        hoursFull={hoursFull}\n                        save={(newList)=> {\n                            setOpen(false);\n                            //setHours(hoursToView(newList));\n                            save(newList);\n                        }}\n                    />\n                </Paper>\n            </Modal>\n        </div>\n    );\n};\n\n\nconst useStyle = makeStyles({\n    modalPaper: {\n        position: 'absolute',\n        width: 400,\n        padding: 20,\n        top: \"5%\",\n        left: \"calc(50% - 200px)\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        minHeight: 300\n    },\n    edgeEndChange: {\n        marginRight: -20\n    },\n});","import React, {useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Paper, ListItemText, ListItem, TextField,\n    ListItemIcon, IconButton\n} from \"@material-ui/core\";\nimport {HomeTwoTone, Save, Delete} from \"@material-ui/icons\";\nimport {LocationHours} from \"./LocationHours\";\n\nexport const LocationItemEdit = ({location, saveLocation,\n                                     deleteLocation}) => {\n\n    const [itemChanged, setItemChanged] = useState(false);\n    const [itemEdit, setItemEdit] = useState({...location});\n    const onValueChange = (fieldName, value, setChange = true) => {\n        setItemEdit({...itemEdit, [fieldName]: value});\n        setItemChanged(setChange);\n    };\n\n    const onChangeAddress = (fieldName, value) => {\n        const address = {...itemEdit.address, [fieldName]: value};\n        setItemEdit({...itemEdit, address });\n        setItemChanged(true);\n    };\n\n    const classes = useStyles();\n    return (\n        <Paper className={classes.paper}>\n            <ListItem>\n                <ListItemIcon>\n                    <HomeTwoTone />\n                </ListItemIcon>\n                <ListItemText\n                    primary={itemEdit.locationName}\n                    classes={{\n                        primary: itemChanged ? classes.title : undefined\n                    }}\n                />\n\n                <ListItemIcon>\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Save\"\n                        color=\"primary\"\n                        classes={{\n                            edgeEnd:classes.edgeEndChange\n                        }}\n                        onClick={()=> {\n                            saveLocation(itemEdit);\n                            setItemChanged(false);\n                        }}\n                    >\n                        <Save />\n                    </IconButton>\n                </ListItemIcon>\n\n                <ListItemIcon>\n                    <IconButton\n                        edge=\"end\"\n                        aria-label=\"Save\"\n                        color=\"primary\"\n                        classes={{\n                            edgeEnd:classes.edgeEndChange\n                        }}\n                        onClick={()=> {\n                            deleteLocation(itemEdit);\n                            setItemChanged(false);\n                        }}\n                    >\n                        <Delete />\n                    </IconButton>\n                </ListItemIcon>\n            </ListItem>\n\n            <ListItem>\n                <TextField\n                    style={{width:\"100%\"}}\n                    label=\"Title\"\n                    value={itemEdit.locationName}\n                    onChange={(event) => onValueChange(\"locationName\", event.target.value)}\n                />\n            </ListItem>\n\n            <ListItem>\n                <TextField\n                    style={{width:\"100%\"}}\n                    label=\"Address 1\"\n                    value={itemEdit.address.address1}\n                    onChange={(event) => onChangeAddress(\"address1\", event.target.value)}\n                />\n            </ListItem>\n\n            <ListItem>\n                <TextField\n                    style={{width:\"100%\"}}\n                    label=\"Address 2\"\n                    value={itemEdit.address.address2}\n                    onChange={(event) => onChangeAddress(\"address1\", event.target.value)}\n                />\n            </ListItem>\n\n            <ListItem>\n                <TextField\n                    style={{width:\"45%\", marginRight:\"10%\"}}\n                    label=\"City\"\n                    value={itemEdit.address.city}\n                    onChange={(event) => onChangeAddress(\"city\", event.target.value)}\n                />\n\n                <TextField\n                    style={{width:\"45%\"}}\n                    label=\"State\"\n                    value={itemEdit.address.state}\n                    onChange={(event) => onChangeAddress(\"state\", event.target.value)}\n                />\n            </ListItem>\n\n            <ListItem>\n                <TextField\n                    style={{width:\"30%\", marginRight:\"5%\"}}\n                    label=\"Zip Code\"\n                    value={itemEdit.address.zipCode}\n                    onChange={(event) => onChangeAddress(\"zipCode\", event.target.value)}\n                />\n\n                <TextField\n                    style={{width:\"30%\", marginRight:\"5%\"}}\n                    label=\"Phone#\"\n                    value={itemEdit.phonePublic}\n                    onChange={(event) => onValueChange(\"phonePublic\", event.target.value)}\n                />\n\n                <TextField\n                    style={{width:\"30%\"}}\n                    label=\"Map Link\"\n                    value={itemEdit.mapLink}\n                    onChange={(event) => onValueChange(\"mapLink\", event.target.value)}\n                />\n            </ListItem>\n            <ListItem>\n                <LocationHours\n                    hoursFull={itemEdit.hours}\n                    save={(hours)=> {\n                        onValueChange(\"hours\",hours, false);\n                        saveLocation({...itemEdit, hours});\n                    }}\n                    />\n            </ListItem>\n        </Paper>\n    );\n};\n\nconst useStyles = makeStyles(() => ({\n    paper: {\n        minHeight: 140,\n        width: \"100%\",\n        //padding: theme.spacing(2),\n    },\n    edgeEndChange: {\n        marginRight: -20\n    },\n    title: {\n        fontWeight: 900,\n        color: \"limegreen\",\n        fontSize: \"x-large\"\n    }\n}));","import React, {Fragment, useEffect} from \"react\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Grid} from \"@material-ui/core\";\nimport {companyLocationModel} from \"../../models/company/companyLocationsModel\";\nimport {LocationItemEdit} from \"./LocationItemEdit\";\n\nconst LocationTableComponent = ({onLocationListInit, locationListInit,\n                                    locationList, onSaveLocationItem,\n                                    onDeleteLocation}) => {\n    useEffect(()=> {\n        if(!locationListInit)\n            onLocationListInit();\n    });\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n\n            <Grid container className={classes.root} spacing={2}>\n                {locationList.map((location) => {\n\n                    return (\n                        <Grid item xs={12} md={4} key={location._id}>\n                            <LocationItemEdit\n                                location={location}\n                                saveLocation={onSaveLocationItem}\n                                deleteLocation={onDeleteLocation}\n                            />\n                        </Grid>\n                    )\n                })}\n            </Grid>\n        </Fragment>\n    )\n};\n\nexport const LocationTable = connectArray(LocationTableComponent,\n    [companyLocationModel]);\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        flexGrow: 1,\n    },\n    paper: {\n        minHeight: 140,\n        width: \"100%\",\n        //padding: theme.spacing(2),\n    },\n    control: {\n\n    },\n}));","import React, {Fragment} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {companyLocationModel} from \"../../models/company/companyLocationsModel\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {OpenWith} from \"@material-ui/icons/index\";\nimport {LocationTable} from \"./LocationTable\";\n\nexport const LocationMaintenanceComponent = ({onCreateNewLocation}) => {\n    const classes = useStyles();\n\n    return (\n        <Fragment>\n            <AppBarTitleAddSearch\n                title=\"Locations\"\n                LeftIcon={OpenWith}\n                onSearchChange={(value) => {}}\n                onAdd={()=> {\n                    onCreateNewLocation();\n                }}\n            />\n            <div className={classes.mainContainer}>\n                <LocationTable/>\n            </div>\n        </Fragment>\n    );\n};\n\nexport const LocationMaintenance = connectArray(\n    LocationMaintenanceComponent, [companyLocationModel]);\n\nconst useStyles = makeStyles({\n    mainContainer: {\n        backgroundColor: \"#e8e7e7\",\n        minHeight: \"calc(100vh - 65px)\",\n        padding: 5,\n        marginTop: -10\n    }\n});","\nexport const catalogExportFields = [\n    \"modelNumber\",\n    \"mfrName\",\n    \"shortDesc\",\n    \"unitPrice\",\n    \"status\",\n    \"images.0.fileName\"\n];\n\nexport const catalogTableConfig = {\n    key: \"modelNumber\",\n    itemsPerPage: 10,\n    defaultSort: \"modelNumber\",\n    sortDescending: false,\n    columns: [\n        { fieldForSort: \"modelNumber\", columnLabel: \"Model#\" },\n        { fieldForSort: \"mfrName\", columnLabel: \"Mfr\" },\n        { fieldForSort: \"unitPrice\", columnLabel: \"Price\" },\n        { fieldForSort: \"status\", columnLabel: \"Status\" },\n        { fieldForSort: \"images.0.fileName\", columnLabel: \"File\" },\n    ]\n}\n\nexport const catalogSelectOptions = [\n    { fieldName: \"mfrName\", columnLabel: \"Manufacturer\" },\n    { fieldName: \"status\", columnLabel: \"Status\" }\n];","import React, {useEffect, useState} from \"react\";\nimport XLSX, {utils} from  \"xlsx\";\nimport {catalogModel} from \"../../models/home/catalogModel\";\nimport {connectArray, convertToSheetArray} from \"../../utility/helpers\";\nimport {FormControlLabel, Switch, Paper, Button} from \"@material-ui/core\";\nimport {TableChart} from \"@material-ui/icons\";\nimport {catalogExportFields, catalogTableConfig} from \"../../models/home/catalogXlExport\";\nimport {createFilterOptions} from \"../../utility/helpers\";\nimport {SpinnerDownloading} from \"../../utility/components\";\nimport {TablePaging} from \"table-page-search\";\nimport {catalogSelectOptions} from \"../../models/home/catalogXlExport\";\nimport {getItemPropertyValue} from \"../../utility/helpers\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst CatalogSearchMainComponent = ({catalogList, catalogListInit,\n              onCatalogListInit, catalogListLoading}) => {\n    useEffect(()=> {\n        if(!catalogListInit) {\n            onCatalogListInit();\n        } else if(catalogFiltered === null && !catalogListLoading) {\n            setCatalogFiltered(catalogList);\n            const options = createFilterOptions(catalogSelectOptions,\n                catalogList);\n            setFilterOptions(options);\n        }\n    });\n    const [catalogFiltered, setCatalogFiltered]= useState(null);\n    const [filterOptions, setFilterOptions]= useState(null);\n\n    console.log(filterOptions);\n\n    const onFilterOptionToggle = (fieldName, optionValue, isSelected) => {\n        const newFilterOptions = {\n            fieldList: filterOptions.fieldList\n        };\n\n        const filterSets = {};\n\n        filterOptions.fieldList.forEach((fieldRef) => {\n            filterSets[fieldRef.fieldName] = [];\n            newFilterOptions[fieldRef.fieldName] =\n                filterOptions[fieldRef.fieldName].map(\n                    (optionRef) => optionRef.option ===  optionValue ?\n                        {option : optionValue, selected: isSelected} :\n                        optionRef\n                );\n            newFilterOptions[fieldRef.fieldName].forEach((optionRef) => {\n                if(optionRef.selected)\n                    filterSets[fieldRef.fieldName].push(optionRef.option);\n            });\n        });\n\n        const newCatalogFiltered = catalogList.filter((catalog)=>{\n            let isIncluded = true;\n            newFilterOptions.fieldList.forEach((fieldRef) => {\n                const catalogValue = getItemPropertyValue(catalog, fieldRef.fieldName);\n                if(filterSets[fieldRef.fieldName].length > 0 && filterSets[fieldRef.fieldName].indexOf(catalogValue) === -1)\n                    isIncluded = false;\n            });\n            return isIncluded;\n        })\n        setFilterOptions(newFilterOptions);\n        setCatalogFiltered(newCatalogFiltered);\n    };\n    const classes = useStyle();\n    return (\n        catalogFiltered === null ?\n            <SpinnerDownloading\n                spinnerSize={60}\n                style={{paddingTop: \"25vh\"}}\n            /> :\n        <div>\n            Total Records : {catalogFiltered && catalogFiltered.length}\n            {filterOptions && <div>\n                {filterOptions.fieldList.map((fieldRef)=> {\n\n                    return (\n                        <Paper key={fieldRef.fieldName} className={classes.filterContainer}>\n                            <label className={classes.optionLabel} >\n                                {fieldRef.columnLabel}\n                            </label>\n                        <div className={classes.filterItemContainer}>\n\n                            {filterOptions[fieldRef.fieldName].map(\n                                (optionRef) => {\n\n                                    return (\n                                        <div key={optionRef.option}  className={classes.optionContainer}>\n                                            <FormControlLabel\n                                                control={\n                                                    <Switch\n                                                        checked={optionRef.selected}\n                                                        onChange={(event)=> {\n                                                            onFilterOptionToggle(fieldRef.fieldName, optionRef.option, event.target.checked);\n                                                        }}\n                                                        color=\"primary\"\n                                                        name=\"checkedB\"\n                                                        inputProps={{ 'aria-label': 'primary checkbox' }}\n                                                    />\n                                                }\n                                                label={\n                                                    <span>\n                                                        {optionRef.option && optionRef.option.length > 0 ? optionRef.option : \"None\"}\n                                                    </span>\n                                                }\n                                                style={{marginLeft: 3, marginRight: 0}}\n                                            />\n                                        </div>\n                                    );\n                                })}\n                        </div>\n                        </Paper>\n                    );\n                })}\n            </div>\n            }\n            <TablePaging\n                dataList={catalogFiltered}\n                headerConfig={catalogTableConfig}\n            />\n            <Button\n                startIcon={<TableChart />}\n                style={{marginRight: 20, marginTop: 20, marginBottom:30}}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                    const data = convertToSheetArray(catalogFiltered, catalogExportFields);\n                    /* convert from array of arrays to workbook */\n                    const worksheet = utils.aoa_to_sheet(data);\n                    const new_workbook = utils.book_new();\n                    utils.book_append_sheet(new_workbook, worksheet, \"Catalog\");\n\n                    XLSX.writeFile(new_workbook, 'catalog.xlsx');\n                }}\n            >\n                Export\n            </Button>\n        </div>\n    );};\n\nexport const CatalogSearchMain = connectArray(CatalogSearchMainComponent,\n    [catalogModel]);\n\nconst useStyle = makeStyles({\n    filterContainer : {\n        margin: 10,\n        padding: 10,\n        border: \"black solid 2px\"\n    },\n    filterItemContainer:{\n        display: \"flex\",\n        flexFlow: \"row wrap\",\n    },\n    optionLabel: {\n        width: 110\n    },\n    optionContainer: {\n        width: 220\n    }\n})\n\n\n","import React, {useEffect} from \"react\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {statsModel} from \"../../models/stats/statsModel\";\nimport {Timeline} from \"@material-ui/icons\";\nimport {\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    Legend,\n    LabelList\n} from 'recharts';\n\nconst HitReportMainComponent = ({hitChartData, hitReportInitDone, onHitReportInit,weekEndDate,weekStartDate,setWeekDays})=> {\n    useEffect(()=> {\n\n        if(!hitReportInitDone)\n            onHitReportInit();\n    });\n\n    return (\n        <div>\n            <AppBarTitleAddSearch\n                title={`Weekly Hits ${weekStartDate} - ${weekEndDate}`}\n                LeftIcon={Timeline}\n            />\n\n\n                <BarChart\n                    width={800}\n                    height={300}\n                    data={hitChartData}\n                    margin={{\n                        top: 20,\n                        right: 30,\n                        left: 20,\n                        bottom: 50,\n                    }}\n                >\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis   dy={25} dx={-5} dataKey=\"name\" angle={-90} label={{ angle:-90,value: 'Month-Day', position: 'insideBottomRight', offset: 28 }} />\n\n                    <YAxis  />\n                    <Tooltip  />\n                    <Legend  wrapperStyle={{position: \"initial\"}} />\n\n                    <Bar dataKey=\"hits\" fill=\"#82ca9d\" minPointSize={10} >\n                        <LabelList  angle={-90} dataKey=\"hits\"  />\n                    </Bar>\n\n                </BarChart>\n\n        </div>\n    )\n};\n\nexport const HitReportMain = connectArray(HitReportMainComponent, [statsModel]);\n\n","import React, {useState} from \"react\";\nimport {AppBarTitleAddSearch} from \"../../utility/components/AppBarTitle\";\nimport {connectArray} from \"../../utility/helpers\";\nimport {salesSearchModel} from \"../../models/sales/salesSearchModel\";\nimport {Money, Search} from \"@material-ui/icons\";\nimport {IconButton, InputBase, Paper, Divider, InputLabel} from \"@material-ui/core\";\nimport {SpinnerDownloading} from \"../../utility/components\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {TablePaging} from \"table-page-search\";\n\nconst headerConfig = {\n    key: \"0\",\n    itemsPerPage: 10,\n    defaultSort: \"1\",\n    sortDescending: true,\n    columns: [\n        {fieldForSort: \"ticketNum\", columnLabel: \"TIX NO\"},\n        { fieldForSort: \"day\", columnLabel: \"Day\"\n        },\n        { fieldForSort: \"month\", columnLabel: \"Month\"\n        },\n        { fieldForSort: \"name\", columnLabel: \"Name\" },\n        { fieldForSort: \"price\", columnLabel: \"Price\" }\n    ]\n};\n\nconst SalesByNameMainComponent = ({onGetSalesByName, salesSearch, salesSearchLoading}) => {\n    console.log(salesSearch);\n    const titleCount = salesSearch && salesSearch.rowCountFound > 0 ?\n        `${salesSearch.rowCountFound} Found`\n        : \"Enter Name and Click Search\";\n    const classes = useStyles();\n    const dataLoaded = salesSearch.items.length > 0;\n    const [searchText, setSearchText] = useState(\"\");\n    const [filterTable, setFilterTable] = useState(\"\");\n    return (\n        <div>\n            <AppBarTitleAddSearch\n                title={`Sales Search By Name (${titleCount})`}\n                LeftIcon={Money}\n            />\n            <div style={{display:\"flex\"}}>\n            <Paper className={classes.searchButtonRoot}>\n                <SpinnerDownloading loading={salesSearchLoading}\n                                    spinnerSize={30}\n                                    classes={{spinnerWrapper: classes.spinnerWrapper }}\n                >\n                    <InputBase\n                        placeholder=\"Search By Name\"\n                        inputProps={{ 'aria-label': 'search google maps' }}\n                        value={searchText}\n                        onChange={\n                            (event)=> setSearchText(event.target.value)}\n                        onKeyUp={(event) => {\n                            if (event.keyCode === 13) {\n                                onGetSalesByName(searchText)\n                            }\n                        }}\n                    />\n                    <IconButton onClick={()=> onGetSalesByName(searchText)}\n\n                    >\n                        <Search />\n                    </IconButton>\n                </SpinnerDownloading>\n            </Paper>\n            {dataLoaded &&\n            <Paper className={classes.filterRoot}>\n                <InputLabel className={classes.searchLabel}>Filter Table Results</InputLabel>\n                <Divider className={classes.divider} orientation=\"vertical\" />\n                <InputBase\n                    placeholder=\"Filter By Month/Year/Name\"\n                    inputProps={{'aria-label': 'search google maps'}}\n                    value={filterTable}\n                    onChange={\n                        (event) => setFilterTable(event.target.value)\n                    }\n\n                />\n            </Paper>\n            }\n            </div>\n            <TablePaging  loading={salesSearchLoading}\n                          dataList={salesSearch.items}\n                          headerConfig={headerConfig}\n                          filterText={filterTable}\n            />\n        </div>\n    )\n};\n\nexport const SalesByNameMain = connectArray(SalesByNameMainComponent, [salesSearchModel]);\n\nconst useStyles = makeStyles({\n    searchButtonRoot : {\n        paddingLeft: 15,\n        paddingRight: 0,\n        width: 265,\n        marginRight: 20\n    },\n    filterRoot : {\n        paddingLeft: 15,\n        paddingRight: 0,\n        width: 450,\n        display: \"flex\"\n    },\n    spinnerWrapper : {\n        marginTop: 10,\n        marginBottom: 10\n    },\n    divider: {\n        height: 28,\n        margin: 4,\n        paddingTop: 15,\n        marginLeft : 10,\n        marginRight: 10\n    },\n    searchLabel: {\n        paddingTop: 15\n    }\n})","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { GlobalProviders} from \"../GlobalProviders\";\nimport {getLoginRoute} from \"./history\";\nimport {FullMenuNav} from \"../desktop/home/FullMenuNav\";\nimport { LoggedOut } from \"../desktop/accounts/LoggedOut\";\nimport {initAuthStore} from \"../models/accounts/userAuthStore\";\nimport {HomeMain} from \"../desktop/home/HomeMain\";\nimport {PrivateRoute} from \"./PrivateRoute\";\nimport { withAuth0 } from \"@auth0/auth0-react\";\nimport {setTokenValue, hasToken} from \"../models/accounts/userAuthStore\";\nimport {CategoryMaintenance} from \"../desktop/home/CategoryMaintenance\";\nimport {setRouteComponent} from \"../utility/helpers\";\nimport {PopupError} from \"../utility/components/PopupError\";\nimport {LocationMaintenance} from \"../desktop/company/LocationMaintenance\";\nimport {CatalogSearchMain} from \"../desktop/catalogSearch/CatalogSearchMain\";\nimport {HitReportMain} from \"../desktop/stats/HitReportMain\";\nimport {SalesByNameMain} from \"../desktop/sales/SalesByNameMain\";\n\n// noinspection JSUnusedLocalSymbols\nexport class RouteComponent extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            isMobile: window.innerWidth <= 760,\n            errorMessage: \"\",\n            showAlert: false,\n            alertStatus: \"\",\n            tokenLoading: false,\n            tokenLoaded: false\n        };\n    }\n\n    onCloseAlert() {\n        // noinspection JSCheckFunctionSignatures\n        this.setState({errorMessage: \"\", alertStatus: \"\"});\n    }\n\n    componentDidMount() {\n        setRouteComponent(this);\n        initAuthStore();\n        const checkSize = ()=> {\n            // noinspection JSCheckFunctionSignatures\n            this.setState({isMobile: window.innerWidth <= 760});\n        };\n        window.addEventListener(\"resize\", checkSize);\n    }\n\n    render() {\n        const getToken = async () =>{\n            const { getAccessTokenSilently } = this.props.auth0;\n            try {\n                this.setState({tokenLoading: true});\n                const accessToken = await getAccessTokenSilently();\n                console.log(\"-------- Token Complete First Try -------\");\n                console.log(accessToken);\n                setTokenValue(accessToken);\n                this.setState({\n                    errorMessage: \"You Have Access\",\n                    alertStatus: \"success\",\n                    //tokenLoading: false,\n                    tokenLoaded: true\n                });\n            } catch (ex) {\n                //when login in with google account, you have to try twice to get token.\n                getAccessTokenSilently().then((accessToken)=> {\n                    setTokenValue(accessToken);\n                    console.log(\"-------- Token Complete second Try-------\");\n                    console.log(accessToken);\n                    // noinspection JSCheckFunctionSignatures\n                    this.setState({\n                        errorMessage: \"Access Allowed\",\n                        alertStatus: \"success\",\n                        //tokenLoading: false,\n                        tokenLoaded: true\n                    });\n                }).catch((ex)=> {\n                    console.log(\"-------- No Token -------\");\n                    console.log(ex.message || ex);\n                    this.setState({errorMessage: ex.message,\n                        //tokenLoading: false\n                    });\n                });\n            }\n        };\n\n        const { user, isLoading } = this.props.auth0;\n\n        const {isMobile, errorMessage, alertStatus,\n            tokenLoading, tokenLoaded} = this.state;\n\n        if(!isLoading && !tokenLoading && !tokenLoaded && errorMessage === \"\") {\n            console.log(\"--- user render ---\");\n            console.log({errorMessage, isLoading, tokenLoading, tokenLoaded});\n            console.log(this.props.auth0);\n            if(!hasToken())\n                // noinspection JSIgnoredPromiseFromCall\n                getToken();\n        }\n        const LoginRoute = getLoginRoute();\n\n        // noinspection JSUnusedLocalSymbols\n        const MenuNav = FullMenuNav; //isMobile ? MobileNav :\n        //if(errorMessage !== \"\" ) //show error hear\n        //    const tt = \"\";\n\n        return (\n            <GlobalProviders>\n                <PopupError\n                    errorMessage={errorMessage}\n                    onClearErrorMessage={() => this.onCloseAlert()}\n                    status={alertStatus}\n                />\n                    <HashRouter>\n                        <MenuNav>\n                        <div>\n                            <LoginRoute/>\n                            <Route exact path=\"/logOut\"\n                                   component={LoggedOut} />\n\n                            <Route exact path=\"/logcomplete\"\n                                   component={LoggedOut} />\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/\"\n                                          component={isMobile ? HomeMain : HomeMain} />\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/location\"\n                                          component={isMobile ?\n                                              LocationMaintenance : LocationMaintenance} />\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/catalogSearch\"\n                                          component={isMobile ?\n                                              CatalogSearchMain : CatalogSearchMain} />\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/category\"\n                                          component={isMobile ?\n                                              CategoryMaintenance : CategoryMaintenance} />\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/hits\"\n                                          component={isMobile ?\n                                              HitReportMain : HitReportMain} />\n\n                            <PrivateRoute permission={1}\n                                          exact path=\"/salesByName\"\n                                          component={isMobile ?\n                                              SalesByNameMain : SalesByNameMain} />\n                        </div>\n                        </MenuNav>\n                    </HashRouter>\n            </GlobalProviders>\n        );\n    }\n}\n\n/*\n\n */\n\nexport default withAuth0(RouteComponent)","import './index.css'\nimport React from 'react'\nimport {render} from 'react-dom'\nimport RouteConfig from  \"./route/RouteConfig\";\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { grey, yellow } from '@material-ui/core/colors';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst muiTheme = createMuiTheme({\n    typography: {\n        useNextVariants: true,\n    },\n    palette: {\n        textColor: grey.A700,\n        primary: {\n            main: \"#3d6090\",\n            success: \"#4caf50\",\n            idle: yellow[500]\n        },\n        secondary: { main: \"#428bca\"}\n    }\n});\n\nrender(\n    <Auth0Provider\n        domain={process.env.AUTH_DOMAIN}\n        clientId={process.env.AUTH_CLIENT_ID}\n        audience={process.env.AUTH_AUDIENCE}\n        redirectUri={`${window.location.origin}`}\n        scope=\"read.events\"\n    >\n        <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\n    </Auth0Provider>,\n    document.querySelector('#app'));\n\nfunction BootstrapLogIn() {\n    const {\n        isLoading,\n        isAuthenticated,\n        error,\n        user,\n        loginWithRedirect,\n        logout,\n    } = useAuth0();\n\n    if (isLoading) {\n        return <div>Loading Auth...</div>;\n    }\n    if (error) {\n        return <div>Oops... {error.message}</div>;\n    }\n\n    if (isAuthenticated) {\n        return (\n            <MuiThemeProvider theme={muiTheme}><RouteConfig /></MuiThemeProvider>\n        );\n    } else {\n        return <button onClick={loginWithRedirect}>Log in</button>;\n    }\n}\n\n","import { createContext } from \"../../utility/modelContext\";\nimport {setUserData, getStore, isLoggedIn} from \"./userAuthStore\";\nlet provider = null;\nimport {setUnauthorizedHandler} from \"../../utility/helpers\";\nimport {clearToken} from \"./userAuthStore\";\n\nexport const createModel = () => {\n    const userStore = getStore();\n    console.log(\"isLoggedIn\");\n    console.log(isLoggedIn());\n\n    return {\n        loadingAuth: !isLoggedIn(),\n        userNotAuthorized: false,\n        userLoggedIn: isLoggedIn(),\n        name: userStore.name,\n        picUrl: userStore.picUrl,\n        userFeatures: userStore.featurePermissions ||[],\n        faceLoginMessage:null,\n        passwordMessage:'',\n        confirmPasswordMessage:'',\n        profileLoading: false,\n        onSetAccount,\n        onNotifyMainNavOfLogOff\n    };\n};\n\nexport const  getInitialState = (classInstance) => {\n    provider = classInstance;\n    setUnauthorizedHandler(onNotifyMainNavOfLogOff);\n    return  createModel();\n};\n\nconst onNotifyMainNavOfLogOff = () => {\n    clearToken();\n    provider.setState({userLoggedIn: false});\n    const {navigate} = require(\"../../route/history\");\n    navigate(\"#/logout\");\n\n};\n\nconst onSetAccount = (loginInfo) => {\n        console.log(\"loginInfo\");\n        console.log(loginInfo);\n        setUserData(loginInfo);\n        provider.setState({\n            picUrl: loginInfo.picUrl,\n            name: loginInfo.name,\n            email:loginInfo.email,\n            userLoggedIn : true});\n};\n\nexport default createContext(createModel, getInitialState);\n"],"sourceRoot":""}